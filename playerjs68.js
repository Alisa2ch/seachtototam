var pljssglobal = [
];
var pljssglobalid;
function Playerjs(options) {
    console.log(options);
  var o = {
    play: false,
    playerid: '645xfi97hp6c',
    default_w: 640,
    default_h: 360,
    version: '9.30.3',
    compilation: [
      'HLS',
      '',
      'VAST'
    ],
    compilations: '',
    fullscreen: false,
    realfullscreen: false,
    nativecontrols: false,
    fullwheel: false,
    fullscreen_start: false,
    airplay: false,
    pipwebkit: false,
    ispipkit: false,
    u: '#1fZxnM3xmaK5kc2YWdjw6wkoXAroXAqwTwOFWc2YjMLwjCOTjM29Tc3wjCjwXAroXArojzqxPbKFmwkPYzqxUMLxObK4jCjwUAkohAqoXwrojzqxOdNtlbKJVeqw6AGXjMK5QcKt0bK9VwkPjMKYXbusjzqxiwkPXzkhTwOpiauFQcNe0c3ojCkwXzqxnevxmeuBPc25NeKYTd2BZaKJVwkPYgGXjM29VevxWct90bLFTaGw6fZxWdNFmdjw6AGXjc24jCksTwNtkeumWcjw6wOFQeuYmwjXjevmXaGw6wOFmfvEjzqxXc3BQeumWcjw6wOFWdq1TaKa0wjXjM2YQM2TjCkoTwNiicNEjCkoTwOFmfvEjCjwjzqx2MLwjCjx0bLFTaGwTwNiQauIjCksTwNiQauJWcOpTMLljCksTwNtVbK1ieumWcjw6wOpWd2m0bK9VwjXjMNdjCksTwNxOMGw6Aq40zqxja3piauFQcNdjCjw2wrMhBjo2wjXjeum0cuIjCjwjzqxnbu93eum0cuJXcut5cumneqw6AL0TwNBWcOFZc2YgcumVaGw6fZxWdNFmdjw6BjXjc24jCksTwOF5duIjCjxnbutXaGwTwNtkeumWcjw6wNYQcNIjzqxPwkP0zqxZc3JVaumVaZw6AqXjeZw6AHoXzqxiwkPYzqxiMNdjCjwXzkAjzqxicu9iaqw6wkoVBqwTwNtWeNJZwkPjAqwTwNBWcu9ZwkPjaNaNaNaNwjXjM29Tc3xjaZw6wNaNaNaNajwTwNBWcu9Zcu9iaqw6wNaNaNaNajwTwNBWcu9Zc3amdjw6wNaNaNaNajwTwNx1aNamdjw6fZxWcjw6AqXjM29Tc3wjCjxNaNaNaNMjzqxiwkPXzkJ9zqxXc3BQeumWcjw6wNxWevFWcGwTwN1idNeQcjw6wkohAHohAnEhAHojzqxPMK5lcuIjCksTwNxOdutlaumVaZw6wkIhAqo1wrojzqx0bLojCksTwNiQauIjCkoTwNiQauJWcNYQeNIjCksTwNiicNFTaKiQauIjCkp9zqxkc250dN9TL3pTMLljCOTjc3xlaLwjCkwTwN9VwkPYzqxQM29VwkPjDvB2aZp3bKF0br0OAkoOwuimbKePer0OAkoODkYOwvFZMK5naN9ZcH0OevxicOBTMLFmyrITwrAQxn48du9TfKYQcNIhdu9QcOFnDGdXzkI5And1wroVBrh0AnhhAq41Bkw1wrsnzkIYBHMnwrsYzkEnBnIhBZoXzkI5And1wroVBrh0AnhOwuaQcuX9xZBNaNaNaNMOzn48z2d#Dq9neNd#wjXjbKBWckwjCjw8d3aOwveQavFPDGdZAqdhbuJQa2i0DGdZAqd#DudhaNmTcq1ZeKYmDGeVc256aLxWxZp0dNtVd2aWdN09x3FZMK5ncut0aGh1zqo0yGd#DvxmM3Ehfr0OAqdhfH0OAqdhe2mleuh9xnAVBGdhbuJQa2i0DGdYAjdhaNmTcr0Ow2aNaNaNajdWDkYZaKB0wvh9xnMVBGdhfH0OAqdhe2mleuh9xnAVBGdhbuJQa2i0DGdYAjdhaNmTcr0Ow2aNaNaNajdWDkXWan48z3B2an4jzqxQM29VAZw6wkYneNdhe2mleuh9xnwXxZpPaKmObvE9xnwXxn48aZp0dNtVd2aWdN09x3FZMK5ncut0aGhZzqonyGd#Dvpieuhhar0OHHs2zrdVAHA2BksYAnwhHrs2zrdVAHo5AHM5BrIhHrs1zkwXCrs3CrITBZ4YArlYBkl0BGpAAHEVAkd1ArlnzrdVAHo5AHM5BrIhEns0zkw3BHo5AZXnzks5CHsZBkw1wrsYzko2Ans5BZXXwrdVAHA3BHE2BrITAqprAZ4ZAHs4CHI5AGXXwroTAZ4YCHlYAkMZBGoXzrdVAHo5AHM5BrIhEnoTAHsVArs5AksZBjonzkwYAHh5BHlYzrs0zkwYCrAnCrlhBZ4YAnd1BrM0BGXYBq4ZAHhnAnh5wsX3zksnBnI0BkE1zrsZzkE0AHo0BkIhEnEVAHlnAno4BHITAHwVBrEYArE2BGoYzkd4BrA4BkMZzrsXzko0AHdXAHhhAG43CrEnCrM2AjX3zksXCHs2CHE1wsAYzkd4BrA4BkMZzrEVAHd2BkA3ArIhBq4YCHAnArh1BGXYzkd3Bnw5AkA2wrdVAHA3BHE2BrITAG43BndZCHwnBjprAHoVArhYBnh0BqXYzkd3Bnw5AkA2wrsZzkE5ArdXBkATBq4YBnM2AndXBGoYAj40CHo3ArMnzrdVAHo5AHM5BrIhHrsXzkM0BrIYBkdTBZ4YArlYBkl0BGpAAHAVAnhZCrl5BjXYAG41BHw0Aro0wsXYBjX3zksnBkMYAHAZwtPOwuaQcuX9xZBNaNaNaNMODkXWdut0br48z2d#Dq9neNd#wjXjMKB0bK9VwkPjduYifGwTwNtkeumWckwjCjxXMLJnaGwTwOF5duIjCjxneNdjzqxnM2tTaGw6wksjzqxnM2tTaK92aLwjCjwYzksjzqxUMLxObK4jCjwXwrs1wrohAkojzqxXc3BQeumWcN4jCjxkaK50aLwjgGXjM29VevxWct9UeLFmwkQ7wN9ZauJZwkP3zqxWcjw6AGXjbKBWcjw6wkYneNdhe2mleuh9xnwXxZpPaKmObvE9xnwXxn48aZp0dNtVd2aWdN09x3FZMK5ncut0aGhnzqoZyGd#DvpWcvmOc24haNmTcq1ZeKYmDGeVc256aLxWxZpXc2mVevA9xnhVCrhYBnh0ANIUAHMhBq4nBnE2wrhVCrhYBnh0ANIUAHMhAHoVBkw1AnlhAZ4YAroZCGoYAq42AkInCGo3zkd0AHEnwrs1wrdVBnE0AHlhAqonzksXAkA3wrEVAnd0BkshAG43BnMnBHM4BuIUAHIhBq4nBnE2AGoYzkd3BkA1Bkh0aG0YBGo0zkA3BrMOwuaQcuX9xZBNaNaNaNMOzn48dut0bqplDGeBAHoVBrEYBkdTAZ42Aks4BGprAHoVAHd0ArITAZ4nAHEYCGo5zkd0BrA0zrAVAns0AHlhCG40BnhXCqXnzkMZAnEnwsA5zkwYAkIYzrAVCHAZBkhhCG4ZAHw1AGX0zkEnAnAZwrlVBrd5BrETBq43BrAnBGpACG40Bnl0BqX0zkd0AHd4wsAYAq4XBkdYAZX1zkEZBHsZwrsXzkEZCHEYzrMVAnMZAnEhAHoVBrw5BrsTBZ40ArA5BjprAHoVBrw5BrsTCq40BrE3CGoYAq4XBkd4AGX5zkA3Crh1wrlVBrhXCqXYAq4XBkwYCGprCG4ZAHw1zrsXzkA2CHh1wrlVAksZBGXYAq44Bno0CGo5zkE3CHE0zrsYzks4AHAYwsA5zkMYAkwnzrsYzkAnBHI0wrlVBnh2BHdTAHsVBrsnArEhCG45Bko5zrsYzkEYAno0wsAYAq4YAnI5AGXYAG40AHAXBqoYAq4nAHoZBqXYAG4nAnI1BqoYAq40BrAXAZXYAG4YCrsnAGprAHsVAkd1AHlTAHoVAks2BrshAHsVBnlYAnhTCq44BnI4AZoYAG43CHo3zrdVBronCHMhEnsYzkd5AHA4zrIVCHw4CHwhAHsVAkdnAHITBq41CrM3BjoYAq40Brs2BZXnzkMZAHh2wsXYAq40Brs2BZXnzkMZAHh1wtPOwumlDGeXbOBgeN9TeK1mL2JTaK1mcOEYxZpNbKYTDGdkaNaNaNaNxZ8#Dvpieuhhar0OHHsYzkl5BrsnzrsVCrMZBnhhEnsYzkdZAkh5zrwVAHdZBHdhAHsVBnwZCrlTAj42BnE4CGoYAG45CHEYAZXZzkl4Ano5wsAYAj45CHd0BZX0zksnAkdYwrsnzkMYBko4zrIVBns0AHAhAHAVBks2ArhTBZ40BkhZCGprAHAVBks2ArhTCG4ZAko4BGoYAj45CHd0BZXYAq44Ars0CGoYAG45CHI1AjXYAG45BHs5wsAYAG43AkEZBZXYAj4ZBko4CGoYAG43AkEZBZXYAj43Bkw0AZoYAG45CHI1AjXYAZ4XBnwZAGprAHwVAHAXBrITAHAVAkw2BnshAHwVAno3BjXYAZ4nArEnBGoYAj40CrI0AZXYAZ4nArEnBGprAHwVBkMZBHMTAHAVAno0AnIhAHwVCrA5BnsTAHAVAkw2BnshAHwVCHd0BkETAHAVArdZAkshEns0zkwZBHM5zrsYzkMnCrl0wrs1zkoXAHA4zrlVBkInBrIhAHITBZ40BkhZCGprAHIVAroXBklTBG4ZCrs1BqoYBq4ZAkITAZ4ZCHE0BjoYAj45Bns4BZXYzkh2Akd4wsAYAj42CHl5AZXYzkI1Akl5wrsZzkw2AnATAG41BHw5CGoYAG45CHEYAZXYzkh2Akd4wsXYAG45CHEYAZXYzkh2Akd4wtPOwumlDGeXbOBgeN9TeK1mL2JTaK1mcOEZxZpNbKYTDGdkaNaNaNaNxZ8#Dq9ODkXWd3aODjwTwNmkc24ZwkPjDvB2aZp3bKF0br0OAkoOwuimbKePer0OAkoODkYOwuaQcuXUdOJTaH0OcN9VfNJZcZdhaNmTcr0OwnoXAroXAqdhevxicOBNc3xUDGe0dNtVd2YieuIPAZXhAjlODkYXc2Y5a29VwvpWbK50dn0OCq44Crs3CrEZaG0YBjo0zkA3BrMhCq44Crs3CrEZaG0YBjoYAq42AkInCGonzksXArw5wrsXzkMZBHA5wrdVBnEYBrAhAHIhBZ43BrEYCGoXwrAVAHoZAndhBq4nBnE2AGoYzkd3BkA1Bkh0aG0YBGo0zkA3BrMYwrsVBnd2AnI2CrFmzHs1wrEVAnd0BjdhaNmTcr0Ow2aNaNaNajdWDkYXMLFPwuE9x00YAG45AkM3BnM3zrMVBkE3BrE3CHshHrlVCrd5Anw3AkMTBq41CHl5CHh0BZpACGX1zkE3CHAZBHdnwsXYAG4XBrd0Brl0zrdVBHw2Bnd1AHdhHrlTCG41BnEZAkE2AGpACG44BnlnAkdZBjXYAq40BHA1BHs5wsXYAG45AkM3BnM3zrhVBro2AHoZBrAhHrsnzkl3BrwZBksTAHoVBrInBHIYCGpAAHEVCrInBHInBqX5zkI3BrwZBrMYwsXYAj44ArMYArETBZ41AkM3BnIYBZpAAHEVCrInBHInBqX1zkE3CHAZBHdnwsXYAZ45BnEZAkMYzrEVBHl5CHl4BrdhHrsYzklZBkd3BkdTBj42Brd0Brd5AGpbxZpNbKYTDGdkaNaNaNaNxZ8#Dq9ODkXWd3aODjwTwNtkeumWcjw6wN11euIjzqxiM3FQc24ZwkPjeK5UeLFmwjXjevmXaGw6wOB2aZwTwOBkMKYmwkPjAGwTwOBkMKYmc3amdjw6wksVAGwTwNFQd3pTMLm2c2Y1cKIjCkp9zqxkc250dN9TL3aWcvJUaGw6fZxWdNFmdjw6CqXjc24jCksTwOF5duIjCjxnbutXaGwTwNtkeumWcjw6wOaWcvJUaGwTwNhjCkwTwOxWeK5lbK5OwkPXzqxkeLB0c213bKF0bqw6AGXjeZw6BnoTwNsjCksTwNtjaZw6wkoVAZwTwNtWeNJZwkPjAqwTwNBWcu9ZwkPjaNaNaNaNwjXjM29Tc3xjaZw6wNaNaNaNajwTwNBWcu9Zc3amdjw6wNaNaNaNajwTwNiQauIjCksTwNiQauJWeLFUeLFmwkPYzqxZc3FieumWcjw6AqXjMNeXMKFlbK5OwkPjBGoXwrIhAqwTwNxOwkPXzqxPMK5lcuIjCksTwNiicNFTaLBkMKYmwkPjAq44wjXjMK5QcKt0bK9VwkPjcN9VaGwTwOaicvJmwkPXgGXjM29VevxWct90bK1mwkQ7wN9ZauJZwkP5zqxWcjw6AGXjMKB0bK9VwkPjeumUaGwTwOF5duIjCjx0aLi0wjXjeuJ4eqw6wko6ArojzqxNc250d2m6aGw6AHoTwN1idNeQcjw6wkohAqoXwrs1wjXjM2YQM2TjCkoTwOBmdutZMLFWdjw6wj8jgGXjM29VevxWct9leLxieumWcjw6fZxWdNFmdjw6AHoTwN9VwkPYzqxiM3FQc24jCjxleLxieumWcjwTwOF5duIjCjx0aLi0wjXjeuJ4eqw6wj8hArPXAqwTwNaWcOFnbLQmwkPYAqXjcKtZa2mVwkPjAqoXwrohAqwTwNBTbKBSwkPXgGXjM29VevxWct9jeKaNaLwjCOTjc3xlaLwjCksYzqxWcjw6AGXjbKBWcjw6wkYlbLMhM2Yid3A9x2YWMKFmdjiZMK5lyGd#DvB2aZpkcutndn0OM2mZM3JTMLwPdNtVaqlOwvaQaLeqc3h9xnw1wrw1wrIXwrIXxn48M2mZM2YmwuBTMLBnDGeXMLFPyvxicNEQxZpnevxWb2I9xZikc2YWdjlOwuB4DGd1AqdhM3l9xnIXxZpZDGdZAqdhaNmTcr0OcN9VaGdhd3FZc2UmzLeQavFPDGdZxZpnevxWb2IUcKm0aLxTbK1Qer0OAHoOzn48z3B2an48z2FQek58gvXVcu9iauJZyvxicNEQwvUXc3BQeumWckPhdNJTMLFQeNI7cKtZa2mVCjoXwut1eu87e2mleuh6wrIXdvh7gG5Tc2tlaLwPdNtVaql6MNJNc3xmwvUkc250aK50CjoOxnUlbLBXcut5Cjpjcu9kbnUXMKFlbK5OzLFWdrPhAHoXxHU9zNBQdNB1cutZyvxicNEQwvTUe2Jjb2m0zKtVbK1ieumWckPhdN90MLFmwrxnwuYQcNJidjpQcNaQcNm0aHUicNmUMLFQc246wvxWeut0aGoZdZpTbK5mMLwhbK5NbK5QeuI7buJQa2i0CjoYAromCZ13aKxSbLEUevxicOBNc3xUzK9ZbKeQckPhM2JVeuJZwuBmcOFmdkU0dNtVd2aWdN0Uc3xQa2mVCjpkaK50aLwhM2JVeuJZC3eQavFPCjoYAromC3pWd2m0bK9VCjpiMOBWcvJ0aHU0c3o6wro7MN90eu9UCjoXC2YmaOE6wro7dNmObvE6wro7cKtZa2mVCjpieLFWC30Vdut0bqiZMK5lyGp7d3FZc2UmzKFid2iidOxifHPhAGXhAkoXC3B0dN9SaG1lMLBPc2aNd2J0CjoXCZ13aKxSbLEUMK5QcKt0bK9VCjplMLBPwrsVBLAhaKtnaG1Qcj1WeLEhbK5NbK5QeuI7MK5QcKt0bK9VCjplMLBPwrsVBLAhaKtnaG1Qcj1WeLEhbK5NbK5QeuI7gIoUe2Jjb2m0zKUmfKaZMK1mdZpZc3FieuIhfnsXAqIhfZ13aKxSbLEUevxicOBNc3xUCjpZc3FieuIPAnMXauJOyHU0dNtVd2aWdN06wvxWeut0aGhnBkplaKdQC319EuUmfKaZMK1mdZpZc3FieuIhfnsXAqIhfZ13aKxSbLEUevxicOBNc3xUCjpZc3FieuIPAnMXauJOyHU0dNtVd2aWdN06wvxWeut0aGhnBkplaKdQC319Eq13aKxSbLEUb2J5aOxicKJnwuFid2hhfnomwvUnevxWb2IUautnbutZdNt5CjoYzqoZAro7d3FZc2UmzKFid2iWaNanaLE6wro7gHIXxGp7d3FZc2UmzKFid2iidOxifHPhCrlTwrwXArUnevxWb2IUautnbu9NaOBmerPhzHA1dvh7gHsXAqIhf3B0dN9SaG1lMLBPMLxZMLl6wrh5zqoZAro7d3FZc2UmzKFid2iWaNanaLE6wq0YAkFXfrU9gIpSaLmNdNtUaLAhautnbqp7AqIhf3B0dN9SaG1lMLBPMLxZMLl6wrsTwrwXArUnevxWb2IUautnbu9NaOBmerPhArU9BHomwvUnevxWb2IUautnbutZdNt5Cjo4CGXhAkoXC3B0dN9SaG1lMLBPc2aNd2J0CjoUAnJXfrU9AHoXxGp7d3FZc2UmzKFid2iidOxifHPhCrlTwrwXArUnevxWb2IUautnbu9NaOBmerPhzHsZBvp4C319wjXjMKB0bK9VwkPjMOJNaNJZwjXjevmXaGw6wNBndZwTwOpWd2m0bK9VwkPjM2JVeuJZwjXjd2BicuIjCksTwNBTbKBSwkPXzqxPbKFmwkPYgGXjM29VevxWct9naLF0bK5OdZw6fZxWdNFmdjw6AHMTwN9VwkPYzqxQM29VwkPjDvB2aZp3bKF0br0OAkoOwuimbKePer0OAkoODkYOwvFZMK5naN9ZcH0OevxicOBTMLFmyrsTwrsQxn48dut0bqplDGeBCG45BHlZAHMnBjXXwsXYAG4XBnA0AnIZzrwVBrwZCHhXBnIhHrsZzko4Brw3CqXZzkl3BkhnBkd1wsXYBq41BkI0AkMnzrsVCrM5AHw0BnIhHrs2zkoXAHA1BHATAZ4nBHd2BkM4CGpAAHIVAHl3AkM0BZX1zkh0AHEYBno5wsXYBG40AHI0BnI2zrMVCrAXBkh0AnIhHrs3zkh3AndXBkATBZ43CrhnCHsYwsXYCqX5zkh0Akw5CHI0wsXYBG41BHAnBHs0zrsXzkhXAroXBkAhHrs1zko3Arh0BndTAHsVCrA4Bro4CGpAAHMVArhYBklXBGXYBq4nBrwZArlnwsXYBq42BHM2ArEZzrs1zkhYAnI0BnlhHrsZzks1Ans1BrATAHEVBnM5Ako0BGpAAHsVArw3Brd2BjXYBG4ZBrwZBro4wsXYAq4XCrI1AHoYzrs3zkMXBnM3wsX4zko2AnhZBrI0zrs3zkdhHrMVCHh0AHo1BrdTAHIVAkh4Bro1CqpABG44AHw0BklZzrs0zkd4ArdYBrhhHrAVBrE2AHI1BnETAHIVCrInBndZAGpAAG45BkEZBkhYAGXYBq40AnE1AnlnwsXZzklZCHw3BHIYzrsYzkh4BrI3AnlhHrwVAnM2AnsnBrITAHoVCrwnArw2CGpAAqX5zkh5CHl3BrhnwsXXzkoZAno0ArlXBklTBZ44AkAXBrI3CqpAAj40BrM3Bns4AGX2zkh0AkAYCrEZwsXZzkl0ArdnBrA1zrIVCrEYBrs3ArlhHrsVCrhnCHAZCHdTAZ4nBHd2BkM4CGpAAZ4nAnsnAko4BGXYzkh5Akw2CHsnwsX1zkh2CHh4BkM0zrwVCrl2AHEXCrMhHrMVCHdZBkE2BkwTAj40Cro3Bnl4wsX3zklnBnInArhTAq4XBrMXBrsZAHA2wsX5zkl1CHwYBkA2zrohKjpBCq44Brl5Anh3AZX2wsA3zkw3BkonAnE1zrMhBjX3zkw3BkoYAnw4wrMTCq44Brl5Anl3BqprBjXYAq40AkA5CrM3wrdVAkd2ArAnBrITAHsVBZo4zkh0CHlnCrdnzrsYzkdhEnsXzkEZAnl2BkMTAHsVBZoYAG43zrsXzkEZAnl4BkdhAHsVBZX4zkh0CHlnCHd0wsAYAG43zrdVAkd2ArsnAkhhAHoVBrwnCHM2BjX2wrhVCrE5CHA4BnATBjpbxZpNbKYTDGdkaNaNaNaNxZ8#Dq9ODkXWd3aODjwTwNtkeumWcjw6wOBmevFQcNenwjXjdu9nbLFQc24jCjxjc3F0c20UdNmObvEjzqxUMLxObK4jCjwXwrMXwrdhAqwTwOF5duIjCjxneNdjzqxnM2tTaGw6wksjzqxnM2tTaK92aLwjCjwYzksjgGXjM29VevxWct9Xcut5cumneqw6fZxWdNFmdjw6AHITwN9VwkPYzqxQM29VwkPjDvB2aZp3bKF0br0OAkoOwuimbKePer0OAkoODkYOwvFZMK5naN9ZcH0OevxicOBTMLFmyrsTwrAQxn48dut0bqplDGeBAq40AroXArs1AkMTzHhVCrhYBnh0ANIUAHMhHrwVBrI2BkA4AHATzHhVCrhYBnh0ANIUAHMhHrwVBrI2BkA4AHATAj4XBHM2AnM2AGpAAq40AroXArs1AkMTAj4XBHM2AnM2AGpAAq40AroXArs1AkMTzHhVCrhYBnh0ANIUAHMhKjpBBq40Akl1CrI0BGXUCq44Crs3CrEZaG0YBjpAAHdVBkIZArs4BjXUCq44Crs3CrEZaG0YBjpAAHdVBkIZArs4BjXZzko1BkMnBkMYwsX0zkEZCHI4BHE1zrwVArI2BkA2BkshHrEVBrw5BHh1BrITzHhVCrhYBnh0ANIUAHMhKjpBAq40AroXArs1AkMTAZ45BrMXBHw4BqpAAj40BHM2AnhYAZXnzkl0Bko1Akh0wsXZzkE1BkMnCrsnzrMVAroZBkh5BrIhHroVBroXAroYBHw2zrMVAroZBkh5BrIhHroVBroXAroYBHw2zrAVCHE2ArIZCrEhKjpBBq40Akl1CrI0BGXnzkl0Bko1Akh0wsXYBZ42BHwXAHh2zrAVCHE2ArIZCrEhHrs3zkM1AkoYCrMTBj4XArw2Crl0BGpABq40Akl1CrI0BGX2zkoXAkM4CHE1wsX0zkEZCHI4BHE1zrAVCHE2ArIZCrEhKjpBAq40AroXArs1AkMTBZ45BrlZAHM5wsXZzkE1BkMnCrsnzrdVCHE5Aks2CGpAAj40BHM2AnhYAZXYAq4XArI4BHA1wsXXzkEXAroXAHIZBjXYAq4XArI4BHA1wsXXzkEXAroXAHIZBjX3zkl0CHwYBklhKjpBBq40Akl1CrI0BGX3zkl0CHwYBklhHrs3zkM1AkoYCrMTBZ45BrlZAHM5wsXYBZ42BHwXAHh2zrsXzkoXBHh1AnIhHrEVBrw5BHh1BrITAHoVAro1CrInBGpABq40Akl1CrI0BGX3zkl0CHwYBklhKjpBAq40AroXArs1AkMTAHsVCHEnAnMnBqpAAj40BHM2AnhYAZXYAG45BrAnBkA0wsXZzkE1BkMnCrsnzrs0wsXXzkEXAroXAHIZBjXYBqpAAq40AroXArs1AkMTAHsVCHEnAnMnBqpbws00zkEZCHI4BHE1zrsYzkl0AnA2AnEhHrs3zkM1AkoYCrMTAHsVCHEnAnMnBqpAAHdVBkIZArs4BjXYBqpABq40Akl1CrI0BGXYBqpABq40Akl1CrI0BGXYAG45BrAnBkA0wtPOwuaQcuX9xZBNaNaNaNMOzn48z2d#Dq9neNd#wjXjMKB0bK9VwkPjduYifKYQd3EjzqxXc3BQeumWcjw6wNxWevFWcG1ZbKePeqwTwN1idNeQcjw6wkohCHohBZoXwjXjMNdjCkoTwOBkMKYmwkPjAGwTwOF5duIjCjxneNdjzqxicNmUMLFQc24jCjxXc3BQeumWcjwTwNxOdutlaumVaZw6wkAhAZonwrAjzqxja2sjCkoVBqXjMNeic3amdjw6Aq44zqx0bLojCkoTwNt1eu9Xcut5cumneqw6AGXjc3pmcOpTMLmTbLB0MKa0aLwjCkoTwN9XaK5Xcut5cumneuxmaN9ZaGw6AqXjM2YQM2TjCksTwN9XaK5Xcut5cumnevxWc3EjCkp9zqxkc250dN9TL2a1cuXjCOTjc3xlaLwjCksZzqxWcjw6AGXjbKBWcjw6wkYneNdhe2mleuh9xnwXxZpPaKmObvE9xnwXxn48aZpNbKYTzLx1cuI9x25WcOQmdN8OwvFZMK5naN9ZcH0OevxicOBTMLFmyrsTwrsQxn48dut0bqplDGeBBj42BnE0ArIYAGXXwsX2zkM3BrEXBHsYzrsVBnEYCHA1BrhhHrsVBnEYAHE5AHMTAG43Brs5AnI0CqpAAG43BrsYBrlYBjX2zkM3BnEYCHA1wsXXzrMVBkd3Brs5AnIhHroTAqpABj42BnE0ArIYAGXXwtPhHHs4zrohHrs4zrMVBkd3Brs5AnIhHrs2zkw1Crh1ArhTBj42Bnd0AHlnBGpAAHMVAkI4CrIXCqXYzkd0AHlnBHE4wsXYAG4nAkI1CHE5zrsVBnEYCHA1BrhhHrsYzkAZBHI5BrlTAqpAAHhTAqpbws0Yzkd0AHs0CHs2zrsYzkAZAkI4ArMhHrsVBnEYAHE5AHMTAHMVAkI4ArM0BGpABj42BnE0ArIYAGXYBj4ZBHhXBkE1wsX2zkM3BrEXBHsYzrs4wsXXzrs4wsXXzrsYzkAZAkI4ArMhHrsVBnEYAHE5AHMTAHsVAnwZBHhXBjpbws0YCqXYAG4nAkw1Cro2wsXYCqXYCqpAAHsVAnw1BHl0CGXYCqpAAHsVAnw1BHl0CGXYBj4ZBHhXBkE1wsXYBj4ZBHh4BHo4zrs2zkw1Cro2BrIhHrs2zkw1Crh1ArhTAHsVAnwZBHhXBjpAAHhTAHsVAnwZBHhXBjpbxZpNbKYTDGdkaNaNaNaNxZ8#Dq9ODkXWd3aODjwTwNmkc24ZwkPjDvB2aZp3bKF0br0OAkoOwuimbKePer0OAkoODkYOwuaQcuXUdOJTaH0OcN9VfNJZcZdhevxicOBNc3xUDGe0dNtVd2YieuIPAGXhAGlODkYXMLFPwuE9x00XzrMVBkd3Brs5AnIhHroTBq45AnI0CrA4BZpABq45AnAZBHI5BGX0zklnBHE4Anh3wsX0zklnAnw1BHl1zq04zkh4AHd4BrxmzHs2wsX2zkM3BrEXBHsYzq04zkh4AHd4BrxmzHs2wsX2zkM3BrEXBHsYzrMVBkd3Brs5AnIhHroTBj42Bnd0AHlnBGpbws0YAG4nAkI1CHE5zrMVBkd3Brs5AnIhHrsYzkAZBHI5BrlTAqpAAHAVArM2BnE0AGXXwsXYAZ4XBkM3BrEYzrEVCHA1BrhnCrdhHrs4zrEVCHA1BrhnCrdhHrs4zrMVBkd3Brs5AnIhHrsYzkAZBHI5BrlTBj42Bnd0AHlnBGpbws00zklnAnw1BHl1zrs4wsX0zklnAnw1BHl1zrsnzko2BrIYBkshHq04zkh4AHd4BrxmzHs2zrsnzko2BrIYBkshHq04zkh4AHd4BrxmzHs2zrsYzkAZAkI4ArMhHrMVBkd0Bro1AHsTAHsVAnwZBHhXBjpABj42BnE0ArIYAGXYCqpABq45AnAZBHI5BGXYCqpbws0YAG4nAkI1CHE5zrs4wsXYAG4nAkI1CHE5zrsYzkAZAkI4ArMhHrs4zrsYzkAZAkI4ArMhHrs4zrsnzko2BrIYBkshHrsnzko2Bkd0BrsTAHAVArM0BHs2AGpAAHAVArM2BnE0AGXYCqpAAHsVAnw1BHl0CGXYCqpbxZpNbKYTDGdkaNaNaNaNxZ8#Dq9ODkXWd3aODjwTwNtkeumWcjw6wNa1cuYnM3xmaK4jzqxiM3FQc24ZwkPjcN9ZcKtTd2BZaKJVwjXjevmXaGw6wOB2aZwTwOpWd2m0bK9VwkPjMN90eu9UzLxQa2i0wjXjcKtZa2mVwkPjAqoZAqo3wrojzqxnM2tTaGw6wksjzqxnM2tTaK92aLwjCjwYzksjgGXjM29VevxWct9neutZeqw6fZxWdNFmdjw6AHATwOpWd2m0bK9VwkPjM2JVeuJZwjXjd2BicuIjCjw1wjXjc24jCksTwNmkc24jCjw8an48dut0bqplDGeUBq41CHA3BGXnzkE4BrA4cq0XzkonAHw1zrsnzkonAHw1crsXzkh3BGXUBj41AHI2A2XUAHoVCrEnBnITzHMVBHs1Bkx6xZpNbKYTDGdkaNaNaNaNxZ8#Dq9ODjwTwNmkc24nwkPjDvB2aZp3bKF0br0OAkoOwuimbKePer0OAkoODkYOwvFZMK5naN9ZcH0OevxicOBTMLFmyrwTwrAQxn48dut0bqplDGeBAHMTBZ4YAnM2AHsnAjpAAHMTBZ4YArlYBkl0BGpAAHIVAko4AHd4BGX3zksXCHs2CHE1wsXYBq4ZBnIXCHATBZ4YArlYBkl0BGprAHEVAkd1ArlnzrAVAHl5AHw2AkIhAHsVArMnAHl3zrohBZ4YAnd1BrM0BGXXwsAnzkwYAHh5BHlYzrohAqXnzks5CHsZBkw1wroTBZ4YArlYBkl0BGprAqXYAG4XAHlZAHw2wrAVAksYCrl1CHsTAHEVAks4AnA4CGo3zksnBnI0BkE1zrs0zkwYCrAnCrlhHrdVAHA3BHE2BrITAHwVBrEYArE2BGprBq4YCHAnArh1BGXYAj40BrsXBrM1wrsVBnh0Anh2BkwTAHoVArEYBnoYCqoYzkd4BrA4BkMZzrdVAHo5AHM5BrIhEnsVBnh0Anh2BkwTBq4YBnM2AndXBGo0zks5AnAXCrI1zrsVBnd3AklZAnMhBZ4YAnd1BrM0BGXYzkd3Bnw5AkA2wsAYAq4XCrs3CrE0zrsVBnd3AklZAnMhAHwVBrlXBno2AZX0zks3BkMnBno1wrsZzkE5ArdXBkATBZ4YArlYBkl0BGpAAHoVBkE0BHs2BZX3zksXCHs2CHE1wsXYAZ4nCrw4CHl2zrsYzkI1AkEXArEhHrs2zrdVAHA2BksYAnwhKjdhaNmTcr0Ow2aNaNaNajd#Dq9XMLFPDkXWan48z3B2an4jzqxiM3FQc24jCjxXcut5wjXjevmXaGw6wOB2aZwTwNxOwkPYzqxja2BWcu9ZwkPjAroXAroXwjXjMNeWwkPYzqxja3piauFQcNdjCjw3wrdhBZo3wjXjbKBWcN1idNeQcjw6wkohAqoXwrMjzqxja2sjCkoVAZXjMNeic3amdjw6Aq42zqxnM2tTaK92aLwjCkwVAGXjbumlaGw6AGXjbumlaK9VduYifGw6AGXjbumlaK9VfK91evJjaGw6AGXjbumlaKxmaN9ZaLmWeLF1MNIjCkt9zqxkc250dN9TL2YQeNIjCOTjc3xlaLwjCks0zqxWcjw6AqXjeuJ4eqw6wNYQeNIjzqxTaLF0aLxndutkbK5OwkPZzqxiM3FQc24jCjxTbLamwjXjevmXaGw6wOFmfvEjzqxPMK5lwkPXzqxkcumkbZw6AqXjaN9VevBQfNIjCksXzqxUMLxObK4jCjwXwrohAqoYBGwTwNsjCkoVBGXjbumlaGw6AGXjbumlaK9VeN9lwkPYzqxXc3BQeumWcm8jCjx0c3oUdNmObvEjgGXjM29VevxWct9neu9XwkQ7wN9ZauJZwkPnzqxWcjw6AqXjbKBWcjw6wkYODkYZaKB0wuimbKePer0OAHwOwveQavFPDGdYAjdhfH0OBqdhfr0OBqdhaNmTcr0Ow2aNaNaNajdWDkXWan4jzqxiM3FQc24jCjxneu9XwjXjevmXaGw6wOB2aZwTwNxOwkPXzqxXc3BQeumWcjw6wNBWcOFZc2YnwO0TwNBWcOFZc2Ygdvxmejw6fZxWdNFmdjw6BqXjc24jCksTwNmkc24jCjw8an48dut0bqp0dNtVd2aWdN09x3xWeut0aGhUAHhXwrsYzkoXArI5ArAZBrEXAHh1BGXYAqlhxZpNbKYTDGdkaNaNaNaNxZpnevxWb2IUe2mleuh9xnoOwuE9x203zkIXArMTBq43CrsZBNXXzrsXzkEnBnE5crMVCHl5CHlTzHIVAks4BnJTzHMVCHl5CHlTzHIVAks4BnJTAqXXzkoXAroYfjdWDkXWan48an48dNJkeqpNbKYTDGdkaNaNaNaNxZpnevxWb2IUe2mleuh9xnoOwvh9xnIVBrl5BrsOwvl9xnEVCHo2AnAOwveQavFPDGdZxZpPaKmObvE9xnsXzkw0CHhnxZ8#Dq9ODjwTwNtkeumWcjw6wOpZaLMjzqx0fLpmwkPjd3aOwjXjd2BicuIjCksVAjXjdu9nbLFQc24jCjxkc250dN9TdZwTwN1idNeQcjw6wkohAHohAqoXwO0TwNBWcOFZc2YgcNJ4eqw6fZxWdNFmdjw6BGXjc24jCksTwNmkc24jCjw8an48dut0bqplDGeUBG40Bkl0CqX0zkd1AroYcroTAHoVBrA3BrmTBj45CHl5CGXUBG4ZAHh3BKXUBj45CHl5CGXUBG4ZAHh3BKXXzroVAroXArt6xZpnevxWb2IUe2mleuh9xnoOwuaQcuX9xZBNaNaNaNMOzn48z2d#Dud#DvxmM3EhbuJQa2i0DGdYAq42AkE4Ajdhe2mleuh9xnwOwvl9xnEVBkh3BHlOwvh9xnsZzkInArIZxZpnevxWb2IUc3piM2m0fH0OcOJTcqdhd3FZc2UmzLeQavFPDGdXxZpNbKYTDGdkaNaNaNaNxZ8#Dq9ODjwTwNtkeumWcjw6wN5mfvEjzqx0fLpmwkPjd3aOwjXjd2BicuIjCjwYzkwjzqxXc3BQeumWcjw6wNBWcOFZc2YnwjXjcKtZa2mVwkPjAqoYAqoXwrojzqxnM2tTaK92aLwjCjwYzksjgGXjM29VevxWct9nbutZaGw6fZxWdNFmdjw6AHdTwN9VwkPXzqxQM29VwkPjDud#Dvpieuhhar0OHHsYzkMXBHsnBndTAHIVBHo3AroZAZpAAHsVBko1AHA3BZXYAj4nBkwYBrI1wsA2zkA0AnoYAHlYzrsZzks3AkwnAHEhAZ4YBnIYAronBGXYBq41AHM4BHA5wroVBGXYBZ4YAkw0ArAZwsAXzkITAHoVCHw5AHh1AZo2zkoYBkw1Crw0zrMVArIYAHs0AHshAHsVBko1AHA3BZX1zkl5BkIZBHh3wsXYAG42ArIYAnd3zrwVCrd1AkwZBHhhHrs5zkITCG4YCHsYAHw0AZpAAHsVBko1AHA3BZXYBG41ArdXArwnwtPOwuaQcuX9xZBNaNaNaNMODkXWdut0br48z2d#wjXjMKB0bK9VwkPjd2iidNIjzqx0fLpmwkPjd3aOwjXjdu9nbLFQc24jCjx0c3oUdNmObvEjzqxUMLxObK4jCjwYBGoYBGoXwrojzqxjaZw6AGXjMNeWwkPYzqxnM2tTaGw6AGXjMNeXMKFlbK5OwkPjBjo2wrMhBjwTwNxOMGw6Aq4nzqxja2tWeNJZwkPXzkMTwNtVbK1ieumWcjw6wOpWd2m0bK9VwjXjaKtnaGw6wNJTMLB0bKAjgGXjcutVaZw6wOx1wjXjd2J0eumVa3AjCOTjMNekc2YWdjw6wkoXAroXAqwTwNxOM29Tc3xWeNJZwkPjBHI1BHI1wjXjMNeiwkPXzkMTwNxOMK92aLwjCj0YzqxXc3BQeumWcjw6wNxWevFWcG1ZbKePeqwTwN1idNeQcjw6wkohAqoXwrojzqxXMKFlbK5OwkPjBZoYBGo3wrs1wjXjM29Tc3wjCjxNaNaNaNMjzqxNc250d2m6aGw6AHwTwOaicvJmaN9VevBQfNIjCksXzqx0bLFTaKBWcu9ZwkPjaNaNaNaNwjXjeNtTeKJkc2YWdjw6wNaNauEYajwTwNsjCksTwNtWeNJZwkPUAGXjd2J0eumVa3AYwkPYzqxnaLF0bK5OdntiM3FQc24jCjxnduJmaqwTwOBmevFQcNenAjw6AGXjd2J0eumVa3AZMKB0bK9VwkPjd3Jjeum0cuIjzqxnaLF0bK5OdnAjCksTwOBmevFQcNenA2tkeumWcjw6wNtQdOpTMLljzqxnaLF0bK5OdnEjCkoTwOBmevFQcNenButkeumWcjw6wNFWe25Tc2tlwjXjd2J0eumVa3A1wkPXzqxnaLF0bK5OdnJiM3FQc24jCjxnduJmaqx9zqxXcut5cumneqw6fZxXc3BQeumWcjw6wNxWevFWcG1TaKa0wjXjMN9ZauJZMN90eu9UwkPYzqxPbLB0c3x5eum0cuJnevxQb2IjCksTwNaWcOFnbLQmwkPYAqXjaNYWMLFTaKa0wkPYzqxicveifLAjCksTwNYQcKm0e2mleuhjCksTwNYQcKm0cKt4e2mleuhjCks0CqXjcKtZa2mVwkPjAqoXwrw5wrojzqxicveifLBReLB0dut1d2IjCksTwOpiauFQcNdjCjw1wrsXwrIhAHojzqxiwkPjAGwTwNxOMGw6wkoVCGwTwNtTe2t5d25Weua1cuYnM3xmaK4jCksTwOBkdN9TcutZdN93a3xiaummcOEjCkoTwOBkdN9TcutZdN93d2m6aGw6AZXjd2BZc2YTMLxZc3ejaZw6AqXjMLJ0c3pTMLmTbLB0wkPYgGXjaLamcOFnevxiM2Umdjw6AGXjaNmTaGw6wmU7duQnx3t0eum0cuJXbOAOdLE6duQnx3t00yvEUeuo0zkFkntXbOAOdLETduQnx3t0aNmTaLpRdZeYerQXbOAOdLFPevFXCj8WM2FVzOpTMLmmdNQnzNBWcG94zN1XBvpRdZeYeqYXbOAOdLFNbKYmAOpRdZeYerQXbOAOdLFPevFXCj8WM2FVzOpTMLmmdNQnzNBWcG94zN1XBvpRdZeYev0Tf3pRdZeYevFQeuYmduQnx3t0COpRdZeYeBqi0zLFhBq40M8ZduQnx3t0zvpRdZeYeuaQcuJXbOAOdLE6duQnx3t0bvF0drPWz2Blcj5Xcut5aLxRdZ5kc20Wfq5UdrFXbOAOdLETduQnx3t0aNmTaHxXbOAOdLE6duQnx3t0bvF0drPWz2Blcj5Xcut5aLxRdZ5kc20Wfq5UdrFXbOAOdLF9LGwTwOBPMLxmAGw6wOF3bLF0aLwjzqxXdNJTc2tlwkPXzqxPbKFmeNmlaK8jCkoTwNFid2hjCkoTwOxmcu9iaqw6AqXjdu9neuJZL3BkMKYmwkPjMLJ0cZwTwOaid3EjCksTwOpZaLxWcuYnwkPYzqxXMLJnaLxWcuYnwkPXzqxXc3B0dN9TcvAjCkoTwOaid3FgaLxZc3x0bK1mc3J0wkPYBGXjd3JjL3BQfNIjCks2zqxneKxgMNmOL2a1cuYnM3xmaK4jCksTwOB1Mm9nbLQmL2a1cuYnM3xmaK4jCkwZzqxieLFWduYifGw6AqXjbK50dN9nwkPXzqx2MLB0L3pZaLxWcuYgcumUbLEjCksXAroTwOaid3FgeN9TeK1mwkPjAq4ZwjXjeNtnet9XMLJnaK9VM2YQM2TjCkoTwNBWcOFZc2YgbOiIBu0jCOTjc24jCkoTwN9ZauJZwkPYCqXjMKB0bK9VwkPjM3Jneu9UwjXjbKBWcjw6wkYneNdhe2mleuh9xnwXxZpPaKmObvE9xnwXxn48aZpNbKYTDGdkAroXAroXxn48M2mZM2YmwuB4DGdYAqdhM3l9xnsXxZpZDGdYAqdhaNmTcr0Ow2aNaNaNajdWDkXWan48z3B2an4jzqx0fLpmwkPjd3aOwjXjdu9nbLFQc24jCjxkc250dN9TdZwTwN1idNeQcjw6wkohAqoXwrs1wjXjeumXwkPYzqx0bLp0aLi0wkPj0zzEVUq70M7Fi9q40MzFkqpwFqwTwNYQcNTjCksTwN5WdN1icu9VM2YQM2TjCkoTwNYQcNUXMLJnaGw6AqXjbKBWcOBkc2YWdjw6wNaNaNaNajx9zqxkc250dN9TL3iidJaZwkQ7wN9VwkPYzqx0aLi0wkPjGsEjzqxWdNFmdjw6AHlTwNtkeumWcjw6wNB1d3FWcGwTwOF5duIjCjx0aLi0wjXjdu9nbLFQc24jCjxkc250dN9TdZ1ZbKePeqwTwNxOwkPXzqxja3piauFQcNdjCjw1wrIhBGo1wjXjMNekc2YWdjw6wNaNAroXAqwTwN1idNeQcjw6wkohAHs2wq0YwrojzqxicNmUMLFQc24jCjxXc3BQeumWcjwTwNYQcNTjCksTwNYQcNU1dNXjCjxRdnQPas91eqwTwOFQdqw6AGXjeumXeuJ4eqw6wliswjXjcN9ZcKtTc25kcumkbZw6AqXjcumVb3pieLBmwkPXzqxNc250d2m6aGw6AHhTwNFWcGw6wNilc3J0wO0TwOaXMKmlL3FQcKJWeLEjCkITwOaid3Fgeum0cuIjCkoTwNaQcuJgd2JXMLxieu9ZwkPjgGwTwOpQdqw6fZxWcjw6AGXjMN9ZauJZwkP3zqxPbKFmwkPXzqxXc3BQeumWcjw6wNxWevFWcG1ZbKePeqwTwNxOM29Tc3wjCjwXAroXArojgGXjMLJ0c3pTMLmUeLFmwkPYzqxTc29XwkPXzqxPc3FSaLljCOTjeLplc3eVwkPjeN9TeK1mwO0TwNBWcOFZc2YgIKT3FJAjCOTjc24jCksTwN9ZauJZwkPZAqXjMKB0bK9VwkPjM3Jneu9UwjXjbKBWcjw6wkYneNdhe2mleuh9xnwXxZpPaKmObvE9xnwXxn48aZpNbKYTzLx1cuI9x25WcOQmdN8OwuaQcuX9xZBNaNaNaNMOwvFZMK5naN9ZcH0OevxicOBTMLFmyroTwrwQxn48dut0bqplDGeBBG44BnM1CrI0AGX0zkA4AHs5Bnl0wsA1zkl1AklXCrd4zrEVAns4CHh5AZo2zko2Bnh1AkhZzrEVAkw0CrIYBnEhBj4nBndnBnh5BGXnzkl3AHs0CHAZwsA2zkdYAHM4Cro1zrAVBkl3ArM0AndhBj44Anl5BkhnAGXnzkI5AHlZAHdZwrMVCrl4CHM1BHlTAZ41BrA3And4AjprBZ4XBHE4Anl4AZXnzkEYBkI3BHh3wrdVArI0CrA5CrATAZ40AHM1BnI4BZo3zks5CHo1ArA4zrAVAkl5BHI1BkwhEnhVCHonBHEZBrdTAG45AHh1BHh4BZo5zkh0CHd4AnE2zrsVAkh1BkA0CrMhAHoVBrEnAHoYAGXYzks5CHA0Bno3wsAYAq45BkI5CrMnzrsVAHwnAnE1BHshAHsVAnA1Bkh2AjXYzkw0CHI4BkonwrsYzkI2Ars2CrMTAG42BHs4CHM4BjprAHsVBnI4CHs5AGXZzkoXCrsXBro5wrsYzkhnAHd5ArETAj41Bkd2CHMYBZoYAG44AksZBrIZzrAVBrEXArh2BrMhEnsYzkhYCHw0CqXnzkMXBnlnCrI4wrsYzkhYBno3BklTAZ45BkonAHA4CqoYAG44AHE3BrI4zrEVBrlZBkEXCrMhEnsYzkhYAHonBqX1zkA0AkM4CHl0wrsYzkhXBkl5BHMTBj42Ano3ArlXAGoYAG44Arw3AHh5zrhVAnsYAkEYBkMhEnsYzkhXAronBZX5zkA2And3AnA1wrsYzkd5BnA3CHATAHoVBHwnAHAXCGoYAG43CHE4Anl1zrsYzkdnCHh3BkEhEnsYzkd5AnMXBrITAHwVAnA4CHAYCqoYAG43CHA2ArE1zrsZzkAnCrlnAHhhAHsVBnlZBHE5BjXYAj44Bkl3BnsnwsAYAG43CHwZAHE2zrsnzko0Ako4BHdhAHsVBnlZAks0BjXYAZ4XBrwXCrI3wrsYzkd5AHlnCHMTAHAVAHh2AndXAGprAHsVBnlYBnh2AZXYAZ4ZBkInCHMZwrsYzkd5AHd4BkATAHAVAkM1Anl2AjoYAG43CHs3CHA2zrsnzkw4Crd3AnMhEnsYzkhYArl5BrATAHEVArM4CrM0BZoYAG41Arl3CrE3zrs0zkI3BnMZAnlhAHoVCrh2AkM0BjXYBq43AHs5BHIYwsAYAq40BkA2Bnw1zrs0zkhXAkl4CHEhCG45AHs1BklZAZXYBq42CrdYAHd1wrlVBHI2AkI1ArMTAHEVBrE4AnhZAGprCq4XBHs3AHIXBGXYAZ40And2BnA1wrMVAnIYCrAZBkITAHwVAHM4CHwYBGo0zkl5CrsZBnd2zrsYzko1BHIZBnMhHrwVCrs3CHoXBHETAHsVArI1BHw3BjprAj4XBnhXAnETAHsVArI1BHw3BjoYzkMXBronArATAHoVBnM4BroZBZoYzkA3AnAnArs0zrsXzks1BHE5CHIhEnsVAHd5BrdYArdTCG42Bro0BHsXBqoYzko0AnA5BjX4zkh3AHwXCrw5wrsVArEnAnl2zrhVArM1BnA0CrMhEnsVArEnAnl2zrdVAkE0Bkh0BkIhAG4YCrAYAHlYBjX2zkA2BHw4AHAhAG4nBHl3AHwXAZX1zklYAHhnCHshEnsVBHhZBronBnETBG4nAnl5CrI5CqoZzko0AHs1BrdTBG4XBnlZCHd2AZoZzkd1Bnw0ArI0zrIVArd5Akl3BkAhHrIVAroYAkw1AHETBG4XBnlZCHd2AZprBG4ZAnhXAkIYAZX0zkh5Bkl5ArMYwrIVBHsXAro1CHsTBq42Bnl5Bkd4BZo1zkh3BkI4BHEYzrEVAnhYAHl3CHEhKjpBAHoVBHh2CHd5CGXZzks4Crl0AkA5wsAYAq4ZBHM1BnM1zrwVAkA2CHlnCrIhCG4nBHAnBkw4AGXZzkh0AHsnBnMnwrdVCrw4BHM5BklTBq4XBnM1Bro0BjprBZ42CrMXBksZBGX0zks5Aks3CHA4wrdVBkh2ArMYAkITBq4YCHwYBnlnCqo3zkInAHIYCrd4zrEVAns4AkI0BnIhEndVBrdnAns0CrsTBq4nBkI3CHo3AZo3zkA0BHhYBrs2zrEVBrdXAkl0AnlhBZ4XAHs3AnE4CGX0zkd0Brs5ArI5wsA2zkdXAHdXBnhnzrEVCHl4Ano0AnshBj41CrI3Bkd1AjX1zko5Anw1BnhYwrMVBHo4AnM1ArsTBG4YBHMnBrMXAGprBj4YAHwYCHAYCqX1zkE3CHwnBrAZwrIVCrwZAnh3CrdTBG43AHoXBkw3wrIVBHM2AHI0AHdTBG45ArMnArh2CqprBG40AHl2BHM5AGX2zkoYCrE4Bnw2wrIVAkEXAkdnBZX2zko3CHw5BnMnwrIVArI1BnIXBHETBj4XBnlZCHd2AZpAAj43BHdZBro1BqX2zko3CHw5BnMnwsAZzkEZBHo5Arl1zrMVArd5Akl3BkAhAj4nBHsnAkI1AjX2zksZAHwYBHAnwrwVAklYBHE0BHhTBj4ZBnE3Akd2BGprAj4YBkA5AHA3AGX2zkMXAkE0CrhnwrwVArEnAnl2zrdVAnMXCHd1ArwhAj4XBrAnCHMTCq4XBkI3AnE4BjprAj4XBrAnCHMTCq43BHw1ArE0BjoZzks1CrA1CrsYzrlVBroZAnl0wrwVAno5Akw4BHITCG44ArAZAkl0AZprAj4nCrA5CHoXAjXYAq4XArs4Brh5wrwVBrdZBko2AHdTAHoVArI1BHw3BjoZzkhYBnlXArI0zrsXzko1BHIZBnMhHrIVArI1BnsXBHETAHoVArI1BHw3BjprBG4ZBHo1CHE0AjXYAq4XBHI1Akd2wrIVBrA5BrsXBkMTAHoVAHwnAnAZwrIVBHh5Bnh5ArhTAHoVAkE3Anw0AZprBj45AkI2CrlnBZXYAG4nBrh5ArsZwrhVBkwXAkE2AHETAHwVBks0CHo2CGoYAq4YAHA5AkwnzrsnzkMYCrAYBnIhEnsXzkw0Crd1CrhTAHAVBno4CHs0AGoYAq41AkE4CqXYAZ43BkM4BkE2wrsXzkM3BHM2BkdTAHAVBnA0AnhZAZprAHoVBnM2Crh0CGXYAZ43AHE3AnonwrsXzkhXArE0ArwTAHAVBkI4ArInBGoYAq43CHs4AnwTAHAVAno3BnIZAZprAHoVBnlYBnh3AZXYAZ4ZBkA1AHoYwrsXzkd5AHd4BnATAHAVAkMnBHsXAGoYAq43CHs5Brs0zrsnzks4BrE2BkhhEnsXzkd5AkwYBkITAHAVArEXAHw5BjoYAq43CHwZAHM1zrsnzko0ArsZCHMhAHoVBnlZBHIYBGXYAj44Bkd4AkIYwsAYAq43CHA2ArM2zrsZzkAnBklXAnEhAHoVBnlnBko2BjXYAj4nAnM5ArA0wrsXzkd5Brh0AHMTAHsVBnA3BnlnCGprAHoVBnl3AnhYCqXYAq41Ako4CHd0wrsXzkhXAronCHhTCG4nBksnCrhYAZoYAq44Arw3AkwZzrhVAno4Bkl1AkshEnsXzkhXBnoXArATBj42Akd2ArI4wrsXzkhYAHo0ArATBG4nAnlXBkIZBqoYAq44AHE3BHInzrEVBrh4AkM4ArhhEnsXzkhYBno5BnhTAZ45BHAnBHMZAZoYAq44AHlZBnh0zrAVBHl5BrAnAZoYAq44AksnAHdYzrAVBrw4Arl0AjprAHoVCrw5CrE4AGXZzkdZAkAnBkE0wrsXzkd3BrAXArhTAj4ZCHI3Bnh2AZoYAq42CrM5Arh5zrwVAHA5AHIZArAhEnsXzkM5AnlYBkETAj4YBHs3AHo2BqoYAq43Anh0BkhTAj4YBkM5AkA1BqoYAq41CrM5Bnl5zrwVAHh4CHEZAnlhKjpBBj4XBnl0AkEnAjX0zkMnAro0BkI3wsA1zkdnBHwXArh5zrEVCHsXBkw0BHIhBG40BnEYBnI4BZX1zksYCHw3CHIYwrIVAkE2Akd5BHMTBG4ZCHI3AHd2wsX1zksYAHsZAHw1zrIVBroXAnI3BkAhHrwVBnI3AkIXBHETBG40AronBHd2AZprAj4YBHA2ArM0BjX1zkEXArA1BnMnwrsVCrw1AnM2ArITBG42Aro4BkE0CqoYzkM1Crh4BklTBj4XAkhnBHs3wsAYzkE3BrwYCrd5zrMVBHoZBHE2CrshAG4nCrl1Crd0zrdVArAYCHsnBGoYzkA4CHI4BnETCq4XAnw3AHE4BqprAG4nCrl1Crd0zrlVArs5AHd3CGoYzkE3AkoYCrlZzrlVBHo2AkM2CHdhAG42BnA4AkM2BjXYAq4XBrw0AnE0wsAYzkh1AHE2ArE4zrsXzkIYBrA0ArIhAj4YCHM0Bkh4BZXYAq43AnE1Ard2wrwVCrs3CHEXBHETAHoVBnA0BHo3BjpABG4YAHw5Ard1AGXYAq43AnE1Ard2wsX1zkw1AHs2BHdnzrsXzkh0Bnh5BrMhEnMVBHlYBnMnAkITAHsVCHE3AnAYCqo4zkw1CHoZAGXYAZ4YCHoYBkA1wrlVBnA1AnEYArMTAHEVAHhYCHo2BZprAHoVArwYCrdZAjXYBq4nBnE0AkI2wrsXzkE4Bro2AnhTAHEVBrdXAks1CGoYAq44AHh3ArdTAHEVAnl4AHwZAjprAHsVAkIYCHAnzrs0zkAXBrd4CrEhAHsVBrh2ArE5BZXYAZ45BHM1CHl4wrsYzkE3Ard0AHITAHAVAklnAnIXBqpAAHsVBrdXCHEYBqXYAZ4YCrI3CrM3wsAYAG40BnsZAHs1zrsnzko0AHE4BnAhAHsVBrdYAksYBGXYAZ4XBrs0CrdnwrsYzkE3AHI1AHITAHwVCrM5AHd1wsAYAG40Bnw2Ars2zrsZzkAnCrAXBrhhAHsVBrdZBkoYBjXYAj4nAnhnArE4wrsYzkE3Anh0AHMTAHsVBnA5AkEnCGprAHsVBrd2AnEnBqXYAq41Bro4BrAhAHsVBrd5Ars1BGX5zkA3BkEYCHdZwrsYzkE4AHdZAkwTCq4nAHo0BHE5AGprAHsVBrh2AroXBZX2zkMZCHMXBrE0wrsYzkE5Aro0ArMTBG4nBrs0CHwnBjoYAG40CHA3BHInzrEVBrlYAkd5BkEhEnsYzkE5Bko2CHATAZ45BkoXBHl1BGoYAG40CHhZBHs1zrAVBko1BnlnBHEhAHsVBHoXAkd2BZXnzkEnBkw4Akw0wsAYAG41AHo1AHM1zrwVBHh1Aks1ArwhAHsVBrA3BkMXCGXZzko5AHs5Akh3wrsYzkw3CHhZArlTAG44ArhnAHI1BqprAHsVAHA0CHd1BGXYzkI0CrdZAnh0wrsXzklXCrAZAZXYzkE1BksZBrEnwrsXzkE4CHw5CrdTAG41AHdXBrsYwsA5zkl5Ard0CHoZzrsVBHh5BHI1BkAhCG4YAHh0Crl0AGXZzks1BnI4BHA0wrdVBroYAHlXCqXnzkI0Crl2Bns0wsA3zkw1BnI4AHAYzrAVBkM1BHs0AnshBZ4ZBHd1CrsnAGXnzkM2BHIYBrAYwrdVAHoZArEZAnETAZ43CHw0AroXAGprBZ4XBrA0Brw1AjXnzkh0Arw1BnM2wrMVCHs2AkMnCHETAZ45BrE0CHM0Bqo2zkI4AnoYBns3zrEVAks3Bno5CGprBj4ZBnw1BHE1AZX0zkE3Aks4AHA3wrMVAHI2BrMYBklTBq41BkdZBHl3Bqo2zko3CHEZBrAZzrEVBkAXArE2BHdhKjpBBG40Brd2BkI3zrAVCrI0CHo5BHIhEnIVBHwnBksZBHATAZ43CHw5CrAnCqo1zkMnCrM5Bko1zrAVBkl4BnAYBkwhBG45Brh2BkM1AGXnzkE0BrM2BrAYwsA2zkw4Aks0ArsTAZ4YBnsZBkE1Bjo2zkEYArsXAnw1zrAVArM2AnhZBnwhBj40Bkl0CHd0BGXnzkoYBnh3BkAhEnMVBkw2AnI5BndTAj44Crl5AHo5Bqo2zkMZBkA1CHd3zrwVCrh5CHsXCHEhBj43Bns2AklYBqXZzkd3AkoYBkMZwsA4zkM1AHA0CrI5zrsVAkE5ArA4CHIhCG41CHo4CHw2BZXXzkMnBns5AkE4CqoYAq4nBrInCHhTAq41Akd0Brh5BnhhEnsYzks1ArwZBkdTAq40AHo0BrIXAklhAHsVBnlYArM4AjXXzkM3Akw2Akw2AjoYAj4YBHAXBnlTAG4nAksXBHd1BqprAHwVBrs3CHdnCGXYzkd5BHd5Bkw3wrsZzkIYAkA4BrETAj40AnI5BnlnAjoYAj41AroZArE5zrAVBrE4AkdYArMhEnsZzkE5CrwZAGXnzkMYBrAYBndnwrsZzkE5Bko0CrITAZ45BkdXAHIZAjoYAj40CHA3BrI4zrEVBrl1BkEZAHdhEnsZzkE5AronBrATBG4nBrIYAHh3AjoYAj40CrI5CHMTBj42Anw3Arh4CqoYAj40Crs3AHh5zrhVAnsZCHl3AkAhEnsZzkE3CHoYAkMTCG4nBnh4Ars3wrsZzkE3BkA0ArlTAHoVBHEnArd1BGoYAj40BnA4Anl0zrsYzkd0AHAnCrdhEnsZzkE3AkI5CHITAHwVAnEXAnwXBGoYAj40Bnw1CHl1zrsZzkA0ArAZArIhAHwVBrdYBHE5BGXYAj44BnsYBkAnwsAYAj40BnsZArl2zrsnzko0AnA5CqoYAj40BnsZArl2zrsnzko0AnA5CqoYAj40Bno5Anl3zrsnzks4BnM1CrEhEnsZzkE3Ard4CrwTAHAVAkM4BnI5CqoYAj40Bno3CrM0zrsnzkw2CHd0BnEhAHwVBrdXBnIYzrsnzkw4CHwXBHlhEnsZzkE5Brs5BHITAHEVAnh3BnIXBZoYAG45BkA2CrEYzrs1zks3BrA5AnshAHsVArw5AnsYCGXYBG4nBnI2CHA1wsAYAq40AkA4AHEZzrs1zkIXBksnCrMhCG42CrInBnlnBZXYBG4nBHAXCHMYwrlVAHd3Bkd2BkwTAHIVArsYCHdnAjprBZ43AkIYBHdXAZXYBq4XAnMZAHhnwrMVArl1BHoZAnMTAHwVCrw1Ars1BGo0zkd1BHhYBHoYzrsYzkdnBrIXBnMhHrwVCrs3CHEXBHETAHsVBnA0BHo3BjprAG43CHEXCHl5BjXYAG43AnE1Ard2wrsVArM3Bnh1AHwTAHsVAkdYAro5CqoXzkdnBnlnAro1BqXYAq4nCHE3ArlZwsAXzkE5Aks2BHd3zrlVBnEYBnI3ArAhAq4nCrl1Crd0ArwTCG4YAnI2AHl5AGoXzkA4CHI4BnEXAjX4zkonAkdYBrh0wsAXzkA4CHI4BnEXAjX2zklYBHEZAHA1wroVBrlnBHdYAronzrMVAkM1Aro3AHdhAq43AkdXBHE0BHMTBG42BkI0Bkw4BZprAG4XBHsXBnwXAjX0zkhnAnE0BkI4wrsVBnMXArMYBnITBq40AronBHd2AZoZzkd1Bnw1ArI0zrEVBroXAnI3BkAhHrEVBnM4AklYBHMTBq40AronBHd2AZprBq45BHd3Crh4AZX0zkw1AHI5Ano3wrIVAHd1CroZAnMTBq4XBnM0CrEZCqo1zkE0BnM2BHdTAZ44BHE5Arl1BGpbxZpNbKYTDGdkaNaNaNaNxn48z3pieuh#DvpWcvmOc24hdu9QcOFnDGd0wrIhBqoYAGo1zkM5CHl5Bkl1wrsYwrIVBkl5CHl2CHIhBGdhaNmTcr0Ow2aNaNaNajd#Dq9Xc2Y5a29VDkYXMLFPwuE9x00YBj4ZBnEZCHwTBj45BnA4Ard0CGpAAHIVArAZBrh3CqX1zkdZAHhnBkEnwsAYBq43Bro3CHsTBG40Akd3BHs1BZoYBq4ZBkI5AksnzrIVBrw1Crs1BHhhAHAVCHdYCrA2BqX1zkdYBnIYAkw5wsAYAZ42Bnd3BHs1zrMVAro5Ako4CHlhAHAVBkd1Crs1BGX2zkE4Bro3Crd4wrsnzkl2BnIYAkwTBj43BnhYBkA2BqpAAHIVAks3CHw5BZX4zkonCrhYCrEhHrsnzkl2BnIYAkwTCG4ZCHl0BnAYBGprAHAVBkd1Crs1BGX5zkI5AnI1CroZwrsnzkM3Bnd1AHITAHoVArM4Brw3CqoYAZ45Bns4AnM0zrsXzkA2ArsZBrIhEns0zkw2BHlZAHATAHoVBkIYCrwYAjoYBq43Bro3CHsTAHoVBkE5Crh1AjoYBG4XAnw0Crd4zrsXzkA1BHhXArEhHrs2zkw3Brw5AjX5zksXAnhZCHAhHrs3zkIYBko5BkwTAHoVAnI1CroXBqprAHdVCro3BnlZCGXYAq42Brl4CrIZwrs4zkw4AkM2AkdTAHoVBkIYCrwYAjoYCq41BnM3Brd2zrsXzkA2ArsZBrIhEns4zkh3ArhnAkITAHoVArM4Brw3CqoYCq44Bnw3Bkh0zrlVBHlnBHI4ArwhAHhVBHhYArdYBZX5zkw5CHE3Ans1wsXYBZ4nAno2BHEnzrhVArA4Crs4BqpAAHhVBHhYArdYBZX2zkd3Crs2AnM0wsAYCq44Bnw3Bkh0zrMVBrh0Ard4BnhhAHhVCrdXCrAZBGX2zkoXCHwXCrl5wrs4zkI3Bkd0BnMTBG43AHd1AHwZCGprAHhVAkhZBkMZBZX1zkEZBHhYBHI4wrs3zkhXBnd5AklTBG40Akd3BHs1BZoYBZ41AHMXCHMZzrIVBnwYCrA2BrAhHrs2zkw3Brw5AjX2zkl3AnhXBnE5wtPOwuaQcuX9xZBNaNaNaNMODkXWdut0br48z2d#Dq9neNd#wjXjevmXaGw6wOB2aZwTwOpWd2m0bK9VwkPjcuJNeqwTwN1idNeQcjw6wkohAqoXwrE1wjXjcumVbZw6AGXjcumVb3JZcqw6wNtXbHQ1cN11euIjzqxVc3xUMKYWcNBTbKBSwkPXzqxTbK5Sdut1d2IjCkoTwOBkMKYmwkPjAj40wjXjeumXwkPYzqx0bLpXMKFlbK5OwkPjBZoYAqo3wrsXwjXjeumXMKY3MLmnwkPYzqx0bLpUMLxObK4jCjwXwrohAqoYAqwTwOFQduxOMGw6wkoVBGwTwOFQduaWcOFnbLQmwkPYAGXjeumXcuJ0euJZd3piM2mVaZw6AjXjeumXMNeZc3JVaumVaZw6BZXjeumXeuJ4eqw6wmJCHJJIFGwTwOFQduaWcOEjCjxidNmicqXhbuJTeNJ0bKBizqpnMK5nzLBmdNmNwjXjbumlaGw6AGXjbumlaK9VeK5UeLFmwkPYzqxPbKFmMKa0aLxkcumkbZw6AL0TwNxid2I2Bqw6AGXjMNTXwkPjc2YWcu8jzqx0bK1md3FWdNIjCksTwOFQcKJneu9ZaK5Wd2JmbZw6AGXjeumUaLB0c3xmau9VevJnaGw6AGXjdvxWeuJkeumWcjw6AqXjaOpTMKBmwkPXzqxNdvMYwkPjbOA6dNtVaqwTwNBWcOFZc2YgJlP1I2wjCOTjc24jCksTwN9ZauJZwkPZBqXjMKB0bK9VwkPjM3Jneu9UwjXjbKBWcjw6wkYneNdhe2mleuh9xnwXxZpPaKmObvE9xnwXxn48aZp0dNtVd2aWdN09x3FZMK5ncut0aGhXzqoZyGd#DvpWcvmOc24haNmTcq1ZeKYmDGeVc256aLxWxZpXc2mVevA9xnsVCrIXArh4BrEhAG41AHE2Brh0BqoYCq4ZBrwYAHA4wrsVBHs0BkE4BrEhAHhVAkEZAHsnCqo3zkd0AHwYArl0wrs5zkw0AksYAnhhBZ43BrsZAHo5BqoYCG4ZBrwYAHA4wroVBHs0BkE4BrA4wroVCrIXArh4BrEnwroVBHs0BkE4BrA4wroVCrIXArh4BrEnwrsYzkdZBrE1BnwhCG4YBkInCHAnAGoYAG43BnI4BklnwrlVAHdYBHd2ArAhAHoVBnd1Crh4BGoYzkh1Aro4CrE0wrsXzkdnArMZArlOwuaQcuX9xZBNaNaNaNMODkXWdu9TfKeWck48dNJkeqp4DGdYAq41xZp5DGd5xZp3bKF0br0OCG41xZpPaKmObvE9xnMOwuaQcuX9xZBNaNaNaNMODkXWdNJker48dut0bqplDGeBCq40CHIYBnlnAGX2zkl5AnEnAnlhHrEVBHhZBkh5ArETAZ4YArInCHM2CGpAAZ44Bnd4ArwnBGXnzkhYBrdYBkMZwsX3zkd1BHlXAkl2zrdVBkM4BHd5AGpABG4YBroZBHM0CGX3zkM2CrI3CHshHrIVAHEXAkI2BrlTCq42Bkh1BnlYwsX5zkE5BHs3CHAYzrhVBkM4BHd5AGpACG40CHIYBnlnAGX0zkM0BrE2BndYwsX4zkE5BHs3CHAYzrEVBkE0BrM3BnshHrhVBrl1AHd5AnsTBj45CHA0AnA5wtPOwuaQcuXUdOJTaH0OcN9VfNJZcZdhaNmTcr0Ow2aNaNaNajd#Dq9XMLFPDkXWan48z3B2an4jzqx0fLpmwkPjd3aOwjXjdu9nbLFQc24jCjx0c3oUdNmObvEjzqxUMLxObK4jCjwYArIhAkohAqoXwjXjcumVbZw6AGXjcumVb3JZcqw6wNtXbHQXbLp3aKxSbLEjzqxVc3xUMKYWcNBTbKBSwkPXzqxTbK5Sdut1d2IjCkoTwOBkMKYmwkPjAj40wjXjeumXwkPXzqx0bLpXMKFlbK5OwkPjBZoYAqo3wrsXwjXjeumXMKY3MLmnwkPYzqx0bLpUMLxObK4jCjwXwrohAqoYAqwTwOFQduxOMGw6wkoVBGwTwOFQduaWcOFnbLQmwkPYAGXjeumXcuJ0euJZd3piM2mVaZw6AjXjeumXMNeZc3JVaumVaZw6BZXjeumXeuJ4eqw6wjwTwOFQduaWcOEjCjxidNmicqXhbuJTeNJ0bKBizqpnMK5nzLBmdNmNwjXjbumlaGw6AGXjbumlaK9VeK5UeLFmwkPXzqxPbKFmMKa0aLxkcumkbZw6AqXjM29XfGw6AGXjbumlaK9VaOJTcvBkdNJmcjw6AL0TwNBWcOFZc2YgKlF5BuEjCOTjc24jCksTwN9ZauJZwkPZAZXjMKB0bK9VwkPjM3Jneu9UwjXjbKBWcjw6wkYneNdhe2mleuh9xnwXxZpPaKmObvE9xnwXxn48aZpNbKYTDGdkAroXAroXxn48M2mZM2YmwuB4DGdYAqdhM3l9xnsXxZpZDGdYAqdhaNmTcr0Ow2aNaNaNajdWDkXWan48z3B2an4jzqx0fLpmwkPjd3aOwjXjdu9nbLFQc24jCjxjc3F0c20UdNmObvEjzqxUMLxObK4jCjwXwrwXwrsZBGoXwjXjcumVbZw6AGXjcumVb3JZcqw6wNBPdN9UaKBid3EjzqxnM2tTaGw6wksVBGwTwNiQauIjCkp9zqxkbvxWcKJkMLB0wkQ7wN9VwkPYgGXjeNtnet91cN11euJWcNBTbKBSwkPYzqxkc250dN9TL3maeOaNwkQ7wN9VwkPYzqxWdNFmdjw6AkITwNtkeumWcjw6wNB1d3FWcGwTwNmkc24jCjw8d3aOwveQavFPDGdZAqdhbuJQa2i0DGdZAqd#DudhaNmTcq1ZeKYmDGeVc256aLxWxZpNbKYTDGdkaNaNaNaNxZp0dNtVd2aWdN09x3FZMK5ncut0aGhYzkITwrAQxn48dut0bqplDGeBAZ4ZCHs3BrhXBGXYAG40BrEnAnI5wsXZzkIZBnhnAkonzrsYzkE0BrAnBHlhEnsVCHMXAHd2ArhTAHsVBrE0AnA1CGoYzkITAHoVCHh0AHI5CGoYzkITAHoVBrs2BHonCGpAAG41zrwVBnd3AnEnBnIhEnsVBGXZzkwXCHM4Bnd5wrsVCHMXAHd2ArhTAG43Brl1AHs3AjoZzkIZBnhnAkonzrsVBnE5BHsYBnwhHrs0zkd1ArE4CrATAG43Brl1AHs3AjprAHIVAns4AHE0AjXYzkd0CHIYAHdZwrs1zkd3CrAZArATAj4ZArl2Crd3CGoYBG43BnhnAkonzrwVBnd3AnEnBnIhHrs1zkd3CrAZArATAHoVBrs2BHonCGprAHIVBnd4AnwXAZXYAq45CrEYBHl5wrs1zkAYCrs0BrwTAHsVBrE0AnA1CGoYBq43BHo0CrhnzrsYzkE0BrAnBHlhHrsnzkl4BkI3AkATAHsVBrE0AnA1CGprAHAVBnsXBrw5CGXYAG40BrEnAnI5wrsnzkE4BkI3AkATAHsVBkM4AHlnBjoYAZ40CrM1BnwnzrsYzkl0BrAnBHlhEnsnzkE4BkI3AkATAHwVAkwXBrd4AZoYAZ43AHo0Akl5zrsZzkE0BrAnBHlhAHAVCHh2BHdZAZXYAj40BrEnAnI5wsXYBq43BHo0CrhnzrsZzkE0BrAnBHlhEns1zkh3ArEZCGXYAj40BrEnAnI5wrs2zkd3CrAZArATAHsVBHA2BrE0BjoYBj43BnhnAkonzrsXzkEYBkIXAnlhHrs2zkd3CrAZArATAj43BndnBrA3BGprAHMVBnd4AnwXAZXYzkM1BnEXAno0wrs1zkh3ArEZCGXXzkd0CHIYAHdYCGoYBq43BHo0CrhnzroVBnE5BHsYBns5wsXZzkIZBnhnAkonzroVBnE5BHsYBns5wsAYzkEXBnh5AHAnzroVBnE5BHsYBns5wroVBGXYzkM1BnEXAno0wroVBGXZzkd3BnA0And1wsXXzkITAHoVBrs2BHonCGprAq41zrsYzkInBkE0BrMhAG40Ard4CHsnAZXYAj40BrEnAnI5wrwVBHw3CrAZArATAHwVBrE0AnA1CGpAAZ4ZCHs3BrhXBGXYAj40BrEnAnI5wsAnzkI2Bnh5ArEZzrsZzkE0BrAnBHlhAZ43CHs3BrhXBGXYAj4ZAko0BnhnwrAVBnlYBnE4ArITAHsVCHE0AnA1CGprAZ43CHs3BrhXBGXYAG42BkhYCHA2wrAVBHM3CrlXBrwTAHsVBrE0AnA1CGonzkw5AHd0Cro1zrsYzkE0BrAnBHlhKjdhaNmTcr0Ow2aNaNaNajd#Dq9XMLFPDkYXMLFPwuE9x001zkh4BnsXArh4zrs0zkIhHrsYzkA5AHwYCHETAHEVBGpACq42AnlYBkoYBjXYAG4YCHd1Akh5wsX1zkh4BnsXArh4zrs0zkIhKjpBCG4XAkAZBno4zrsXzko5BkEYAHdhHrsZzkh0Akh1ArlTAHEVBkd5CHo3CqprAHAVAHs0AkA3AGXYBG4XArI1BnsnwrsZzkh4AkM1CHsTAHIVBGoYAj40BHh3BroZzrs1zkIhHrEVCrs5BHhXArhTAHIVBGprBq4nCHI2BksZBGXYBG41wrEVAHM0ArhnAkwTAHIVAro1BHdYAZo0zkEnBHE2CHE0zrs0zkM3CHlXBnhhHrhVAkI1ArE5BHwTAHoVArl2BrsYBZprCq40BHE5BrdXBZX5zkh1BkInBrM0wrhVCrwnAndnAkETCG44BHM1AnE2Bqo5zkoZAnw3ArhTAHoVArl2BrsYBZpbxZpNbKYTDGdkaNaNaNaNxn48z3pieuh#Dq9ODkXWd3aODjwTwOF5duIjCjxneNdjzqxXc3BQeumWcjw6wNxWevFWcG1ZbKePeqwTwN1idNeQcjw6wkohAkohAHdXwrojzqxTbK5SwkPYzqxTbK5SeLxTwkPjMKmZduYifGwTwOBkMKYmwkPjAG41wjXjbumlaGw6AGXjM29XfGw6AGXjbumlaK9VaOJTcvBkdNJmcjw6AL0TwOxkL2B1d3FWcGw6AGXjMKYmdOE0ArEjCksTwNtTaLx0dZw6AGXjMKYmdOFnaN9VevBQfNIjCksZzqxicuJZerEXBvFmfvEjCjzEQBqX0zOEVZrETUuo0zLEWBq10z3EWeq#wBq90zLEUBq#0MvFhUur0z/EUeq9wjXjbuYnM29VaNmOwkQ7wN1ifsx1aNamdlYmcNe0bqw6Bkp9zqxZM19icOm3MLljCksTwOxkL3amdOBQc24jCkoTwOxkL2YiMNJTwkPjaut0MKYWM2TjzqxZM19TMKxmcvJZcqw6wj8jzqx2c2Y1cKJneu9ZaGw6AGXjcLJ0aLB0c3xmwkPXzqxPcvB2MLB0e2tQeqw6AGXjeNtneuxOdvxmcu9iaqw6AL0=',
    u2: '',
    u3: '',
    u4: '',
    u5: '',
    u6: '',
    u7: '',
    u8: '',
    u9: '',
    y: 'xx??x?=xx????=',
    p: '{partners}',
    isflash: - 1,
    brand: 'datalock.ru',
    brandurl: '//datalock.ru',
    motions: [
    ],
    dt: true,
    pr: true,
    ga: false,
    gatracked: [
    ],
    pjsga: false,
    files_quality: [
    ],
    files_audiotrack: [
    ],
    files_channel: [
    ],
    rightclick: 0,
    vastclick: false,
    focus: false,
    start: false,
    metadata: false,
    subtitle_on: false,
    thumbs_on: false,
    noads: false,
    timerInterval: undefined,
    toolbarInterval: undefined,
    reloaderTimer: 0,
    timerTime: 200,
    tagvideo: false,
    controlover: false,
    logos: {
    },
    files_speed: [
    ],
    time: 0,
    casting: false,
    dk: - 1,
    current_speed: 3,
    vastgo: 0,
    reloadTimer: 0,
    mediascale: 1,
    sub_options: [
      'sub_sizeproc',
      'sub_color',
      'sub_bgcolor',
      'sub_bga',
      'sub_shadow',
      'sub_weight',
      'sub_bottom'
    ],
    vast_impressions: 0,
    vast_starts: 0,
    stuck: 0,
    acted: false,
    quartile: [
      false,
      false,
      false
    ]
  };
  var default_style = {
    but: {
      w: 20,
      h: 20,
      action: '-',
      action_back: '-',
      a: 1,
      aover: - 1,
      color: 'ffffff',
      type: '',
      scale: 1,
      scaleover: - 1,
      rotation: 0,
      tip: 1,
      icon: '',
      text: '',
      font: 'Verdana',
      fontsize: 12,
      letterspacing: 0,
      position: 'controls',
      margin: '0 3 0 3',
      marginproc: '0 0 0 0',
      click: 1,
      clickmargin: '0 0 0 0',
      normalonclick: 0,
      hand: 1,
      bg: 0,
      bgo: 0,
      bgstretch: 0,
      bga: 1,
      bgaover: - 1,
      bgcolor: '000000',
      bgcolorover: - 1,
      bgpadding: '0 0 0 0',
      bgborder: - 1,
      bgbordercolor: 'ffffff',
      iconscolor: - 1,
      iconscolorover: - 1,
      animation: 'none',
      target: '_blank',
      tip: 0,
      tipbgcolor: '000000',
      tipbga: 0.7,
      tipbgrounding: 0,
      tipcolor: 'ffffff',
      tippadding: '5 5 5 5',
      tippmargin: '0 0 0 0',
      tipa: 1,
      tipfont: 'sans-serif',
      tipfontsize: 10,
      tipletterspacing: 0,
      tiptext: '',
      linetipmarginbottom: 5,
      toptip: 0,
      hidden: 0,
      stripsw: 2,
      stripsspace: 2,
      linespeed1: 0.2,
      linespeed2: 0,
      linespeed3: 0.1,
      pointed: 0,
      pointcolor: 'ffce00',
      pointa: 1,
      pointw: 5,
      gradientcolorbg: '000000',
      gradientcolorload: 'ffffff',
      gradientcolor: 'ffffff',
      ontop: 1,
      clickscalex: 1,
      clickscaley: 1,
      rounding: 0,
      handle: 0,
      handle_width: 20,
      handleicon: '<svg width=\'20\' height=\'20\'><g><ellipse ry=\'5\' rx=\'5\' cy=\'10\' cx=\'10\' fill=\'#fff\'/></g></svg>',
      handlea: 1,
      handleaover: - 1,
      handlehide: 0,
      handlescale: 1,
      handlecolor: - 1,
      slidespeed: 0.1,
      link: 0,
      linkurl: '',
      linkpause: 0,
      linktarget: '_blank',
      src: '',
      hideonwidthlimit: 700,
      hideoverwidthlimit: 700,
      displayvolume: 0,
      value: 0,
      valuecolor: 'ffffff',
      valuebg: 0,
      valuebgcolor: '000000',
      valuesize: 9,
      valuemargin: '0 0 10 0',
      valuepadding: '0 0 0 0',
      valuerounding: 0
    }
  };
  function prtObj() {
    return true
  }
  function fd2(x) {
    var a;
    eval(decode('#1MGo9wvhVd3Jjd3FZyrwQC2aWdji2MLwhbH00C2l#zHs7bG0UyLUQajimfumneqi2KZxjbZwSbJ0QyLUQaji2KZxjbZwSbJ0iDGwjyLUiwr0hMG5ZaLpTMKBmyqwWzZwSMksPemTjMNTjy2meyGXjwjl7gL19evx5f2shDGpjAjiiyHU9M2t0M2hPaGm7MH0jwO0ywqohwqohwqohwqohwqohwua1cNB0bK9VwuwYyvB0djlhfXPhwqohwqohwqohwqohwqohwqohwvxmevJZcjpjeu9iyuJVM29laJJGGIBWcLpWcNJVeqinevwQzOxmduYiM2IPzZIPKnoUCIsUFm17AO0Qz2dTqjohwqohwqohwqohwqohwqohwqohwqohwua1cNB0bK9VwvFWI29TbKFqfLFmdZiUMLFkbqXhdrsQwvTywqohwqohwqohwqohwqohwqohwqohwqohwqohwvxmevJZcjpHevxQcNdVaOxWcIBPMLxrc2FmyqwXfqwhyZpXAGl7qjohwqohwqohwqohwqohwqohwqohgGlQCXPhwqohwqohwqohwqohwqohgEPhwqohwqohwqohwqohwqohaOJVM3FQc24hMkwPd3FZyGp7qjohwqohwqohwqohwqohwqohwqohdNJ0eLxVwuFmM29laJJGGIBWcLpWcNJVeqiieu9jyvB0djlVd3pTbLEPwjwQzN1idqiNeK5keumWcjikyGp7qjohwqohwqohwqohwqohwqohwqohwqohwvxmevJZcjojxGwhyZoPwkoXwjoSwuAVM2iidlBWauJpeqhXyG50c1B0dNmVaZhYBjlQzOBTbKBmyq0ZyHTywqohwqohwqohwqohwqohwqohwqp9yG5Rc2mVyqwjyGl7qjohwqohwqohwqohwqohwqp9'));
    return a
  };
  function fd3(x) {
    var a;
    return a
  };
  function fd0(s) {
    if (s.indexOf('.') == - 1) {
      s = s.substr(1);
      s2 = '';
      for (i = 0; i < s.length; i += 3) {
        s2 += '%u0' + s.slice(i, i + 3)
      }
      s = unescape(s2)
    }
    return s
  };
  function optStr() {
    if (o.u != '') {
      v = UpdateObject(v, JSON.parse(decode(o.u)))
    }
    if (options.indexOf('#2') == 0) {
      options = JSON.parse(fd2(options))
    } else {
      if (options.indexOf('#3') == 0) {
        options = JSON.parse(fd3(options))
      }
    }
  };
  eval(function (w, i, s, e) {
    var lIll = 0;
    var ll1I = 0;
    var Il1l = 0;
    var ll1l = [
    ];
    var l1lI = [
    ];
    while (true) {
      if (lIll < 5) l1lI.push(w.charAt(lIll));
       else if (lIll < w.length) ll1l.push(w.charAt(lIll));
      lIll++;
      if (ll1I < 5) l1lI.push(i.charAt(ll1I));
       else if (ll1I < i.length) ll1l.push(i.charAt(ll1I));
      ll1I++;
      if (Il1l < 5) l1lI.push(s.charAt(Il1l));
       else if (Il1l < s.length) ll1l.push(s.charAt(Il1l));
      Il1l++;
      if (w.length + i.length + s.length + e.length == ll1l.length + l1lI.length + e.length) break
    }
    var lI1l = ll1l.join('');
    var I1lI = l1lI.join('');
    ll1I = 0;
    var l1ll = [
    ];
    for (lIll = 0; lIll < ll1l.length; lIll += 2) {
      var ll11 = - 1;
      if (I1lI.charCodeAt(ll1I) % 2) ll11 = 1;
      l1ll.push(String.fromCharCode(parseInt(lI1l.substr(lIll, 2), 36) - ll11));
      ll1I++;
      if (ll1I >= l1lI.length) ll1I = 0
    }
    return l1ll.join('')
  }('e8c811s212a27313718263o0z3z1o272z2o193x3e1b3o0z112m3o0z302m3x2s35242v322n1z303a251q253321162z2v23211c2s271z113a231q2535211430361y1110141z153x292o1721261s3s2t212p1z3u242e153v292o1931241z101o252c1g3c2b38162v3s12111m360w121139213v213b36162v3u121z1m3c182v39213v2b233v39213x2b213v1z113u271z302u291s3s271r2q1g25302q3e1x21121b3x1z1z302435143z2o1b3x1z1i1t35211b303n2e113u2m2z1q1g253z1o1o251z1q253t192z24142e1e2c39361c3y29321v3w2u3o3s37223b3p35302919143z1411121m233c1q111z3u242e1d35383v111z21121g1m2s161d1k1g1l1d1j3c1a1e1r3c1c2g1d3d143e1r3g1i1c1w1g141d172c1v2e1y2c1u2e112c1t2d1w2e1q1c152e1v2e1y2c1w2e132c1t3g1w2c1u1c1m2e1s1c1z2e1w1c1x2c1u3f1u2c1t2e1v2c1s2d192e1r2c1u2e1u2c1e2c1w2g1r2c1u2f1t2c1s3e1z2e1q3e142e1w2e1y2c1v3g1x2c1s2e1u2c1s2e1x2e1r2c1v2e1v2c1v2c1u3f1u2c1u3e1s2c1s3e1j2e1q2d192e1u3d102c1u2f162c1s3f1j2c1s3d192e1q3e102e1u3d172c1w3f1s2c1s3f1b2c1s3d1v2e1q2d172e1w3d1v2c1u3f172c1t3e1e2c1s3d1a2e1s3d1y2e1u3d192c1w3f162c1s1f1b2c1u3d1d2e1q3d172e1u3e1r2c1u2f172c1s3g1e2c1s3d1b2e1q3e1w2e1u1d172c1u3f172c1s3f192c1s3d1d2e1q2c1u2e1u1c1f1c1d2f1c3e1c1e1k1e1p3e1t3d1d3d1c3f1k2d123d1q2f1d2e1p1e1d3c1c3e1e1f1k1e1c2g1s3e1c3c1e1f1d3c1d2f181e1s1d1d1f1a3d1c1g1i3d1g2c1e1e1b1c1c1g1r3c1c1c1a3f111e1h2e1d2d1k3e1f1e1e1e1j1g1l1e1j3e161f1c3e1p1g1r1e1i3e1d2e1d1e1h3d1f2d1c1c1u2g1d1d1f1g141c1c3d1e1e1k3e1o3e1f3e181e1f1e101c1b1f1b1d1f1d1f1f1h1e1c2e1q2c1c1c1e1e1b3d1c1e1a1b1c1e1j1e122c1t1e1l2c1u1e1m2e1q3c152e1v2c1s2c1u3g1w2c1s3f1z2c1u2e1z2e1s2e172e1v3d1u2c1w3e1b2c1u2e1t2c1u2e122e1s1c1z2e1v1d1t2c1u1e141c1o2e1w2e1u2c1w2e1s2c1u1g1h2c1u1e172e1p1d1w2e1u3c152c1u1f1y2c1t2g1k2c1s2d1y2e1r3d1u2e1v2c152c1w2g1t2c1u1g1h2c1t1e1h1e162c1u2f1x2c1u2c1y2e1q1e1r2e1w1e1v2c1v2e1p2c1s1f1h2c1t1e1a2e1r2c1i2e1w1c1v2c1v3e1p2c1t2f1u2c1u3e1y2e1q1c1y2e1w2e1h2c1w1f1x3c142f113c10121r2q3e193d1s1e191c131g123c141e1k3f171e1e2g1k1c1x3e1k3g152c1t3g1v2c1u2c1x2e1u2e192e1u1d1y2c1v2g1q2c1s2f1y2c1t2e1q2e1t1c1u2e1t2c1s2c1u3e1y2c1s3e192c1u2e122e1s3c172e1t3e1z2c1u3e1w2c1u1e1l2c1t2c172e1s1c1o2e1s3e1f2c1w2e1e2c1s3g1g2c1u2d1z2e1t2e1j2e1u2e1t2c1w3g1z2c1s2e1c2c1u1c1z2e1u2c1h2e1s1d182c1w3f1a2c1s3f192c1s3d1c2e1s3d192e1u3d1o2c1u3f192c1t3e1d2c1s1d1a2e1u3e152e1s3d172c1v3f1d2c1s1f182c1u3e122e1s3d182e1s3d192c1u3f182c1s3e172c1s3d192e1s3c1d2e1s3d172c1u3g1o2c1s3f192c1u3d1e2e1s3d172e1s3d1j2c1u2f182c1u3f1e2c1s1d192e1s3d1b2e1s2c1z2c1u2e1k1c1h3e1f2d1e1c1j3d1c3d1c3e1b2c141c123d1d3e181f191e1c1e1i3f1g3c1c3f1f2e1k1c1q1e1i1d1h1f1c1c1h1c1d2f1k3d183f1f3c1a1d1i3f141e1h1e121e1w2d1l1f181c121d1d1e1e3d1r1e1b3c1c3f1j3e1e3d1g3g1e3d1e3e1f3d1c1d1m3g1k3d1w1f142c1e1c1d1e1d1e1h1f1m3c1y3e1e2g132c1a3f142d1c3c1i1e1i3c1c1e1s2e1p1c1e2g1b3d143g1d2e1i1d1m1g1h3c121f141c1a1d1t1g1b3c1e1e102c1u1c1z2e1t3c1q2e1s1c102c1v1e1v2c1s2g1j2c1u3c1a2e1u1e1p2e1u2d1f2c1v2e182c1s1g1t2c1s2e1z2e1u3c1s2e1t3c1u2c1v3e152c1s1f1t3e1v2c1w3f1q2c1u3g1v2c1s2e1q2e1s2d1p2e1s1d162c1u2f1y2c1t2e172c1u1c1u2e1s2e142e1u2c1b2c1w3e1t2c1s2g1l2c1s1e1u2e1t3d1d2e1y2c1u3e1a2e1u1e1s2e1s3c1h2c1v3e1f2c1t2g1u2c1r2d182e1s2c1h2e1t1e1v2c1v3e1x2c1s3e1r2c1s3c1a2e1u1c1h2e1t1e1u2c1w3e1o2c1u3g143c1y2d193e1y3c121i1t1p1e1a1e1m2e141e1e3g1h1d1c3g161d1i1e1j1g1t2c1g2g1y2c1r1e1g2e1u1c1s2e1v2c1k2c1u2e162c1q2g1r2c1s1d192e1u2e1k2e1w1e1x2c1s2g1y2c1q3f122c1s3c1w2e1s1d1i2e1t2e1v2c1t3g1g2c1q2e1w2c1s1d1r2e1t3e1r2e1u2c1w2c1s2g1e2c1s1e112c1s3c1r2e1u2c122e1u2e1p2c1u1e1k2c1s3e1j2c1u3d1z2e1s3c1x2e1v1d1u2c1s1f172c1r3e182c1s1d182e1u3d162e1u3d172c1s3e1b2c1q3f192c1u3e1t2e1s1d172e1u3d1b2c1s3f172c1q3g182c1s1d192e1s3d1e2e1u3d172c1u3f142c1q2f1b2c1s3d1z2e1s1d172e1u3e1w2c1s3f192c1r3f1d2c1s3d172e1s3c1c2e1u3d182c1t3f192c1q1f192c1t3c192e1s3d152e1u3d192c1s2e1u2c1q2e1y1c1f1c123e161c1i3g1d3c141c121f142e1q2e1d3c1q1c183e1c1c1e3g161e1h3e191g1c3d1q1g1r3c1d1c1f3f1s2e1k1e1d3c1d3e1c3e1p1e1d2g1e3e1c1c1s1f1c3c1b2f181e1s1d1b1g1j3d1d1g1i3d1g2c1f1e1q3d1a3f1l3d183d142e1a1c1d3f1e3d183e1f3g1p3c101f163c1e1c1d3f1s3d1g1f1e3e1p1e1d1e141c1q3f1r3c181c1t3e1c1e1e1g1k3d171e1e3e1o1c1d1e1e2c1s1d1f3g1p1e1d3e1m1e1p3c121f1t3c1y2e1u2c1w2c1t1g1s2c1r3g112c1u3e1l2e1u2e1t2e1w2e1k2c1s3g152c1s3g122c1t2d1t2e1u3d1h2e1w2c102c1t2f102c1q1e112c1u2d1a1e1p2c1r3f172c1t2e1f2e1u3e1j2e1w2d142c1t2e172c1q2f192c1u3c1v2e1t2d1y2e1u1d1p2c1u1f1u2c1s2g112c1s1c1j2e1t3c1h2e1w2e162c1s1e1u2e1q2e1v1e1o2c1u2f102c1r2e102c1s2c1l2e1t1e172e1v1e102c1s1e1q2c1q1e1u2c1u1c1y2e1u3c1y2e1u2c1x2c1u2g1i2c1s3e102c1s2d1f1e1t3c132f122d1f321q1m1i1i1f2l1t1i1h1i2s161', '033f0o3o1v3q241c271u393x211b3q0z121o25212o1b3x2c1k193x111i1c2z193u3w112z1611133x392q1920261s3u2v202p1z3w262c153v3b2q17222411211m252c1i2e29381w2x3u1z121m280y1z1229233x2z2b361y2x3s11101o2e162v2z2p11203a231s27332e14212x232e162u291z1138251s25352c1621261y1a2u291w2u27182u271u2s291q2c113u28111z3w26113w243u2m3q011z21293y141m272c2q111x231211121m272c2q2o35222o11212z2b213x2226163o011e1c2v2c2b2q122u1z121f2z1q1z213a23373u273w253t1338231z113839112z161h111e1m2e162v212p2e29233x2z2q1g29332c2b3w141o122s2c1e2f1e1e1h1e122e1m1c1e2g1p1e1a3g181e171e1m1e1k1f1f2e1s1d1t2c1v2g1t2e1s2e1w2c1u2e1g2e1u1e1z2e1s3c1t2c1w2e142e1s2g1m2c1w1c1m2e1u3e1h2e1u2d112c1u3e1z2e1t1f1u2c1u1d1w2e1s2e1u2e1t3e1x2c1w2e1v2e1u2g192c1w1d102e1t2g1q2e1s2d102c1v2g1o2e1t1e1u2c1v2c1u2e1s2e1y2e1s3c1b2c1w2g102e1s3e172c1v3e1v2e1s2f172e1s3d1z2c1u3f172e1s3f1e2c1u2d1b2e1s3f1a2e1s1d1b2c1v3g162e1s3f182c1u3d1x2e1s1f172e1t3e1e2c1u3f182e1s3f142c1u3d1b2e1u3f1a2e1s3d1a2c1u3f1h2e1s1f192c1u3d1f2e1s3f172e1s3d1v2c1u2f192e1s3f162c1u3d192e1t3e1i2e1s2d192c1u3g192e1s3f172c1w2c1w2e1s2e1e1e1f1c1r1e1e1e1k2f1d3e1b2c161c141g143f1s3f1c1e1w1d1y2f1j2f181f121b1e1e1g3g1p1e1b3e1f3d1l3e151g1o1e1i1f1h1d1i2c1a1e1c1f161g1s1e1l3c1e1e1g3g141f1h3e1b1e1e3f1s1g1p3e1f1c1e3d1e3f1c3f1c3f1f3d1e2d1d2f1e3f1e3f1e2e1u1c1h1e141g1s2g1f3e1t3b1e3f1c3e1c1e181c1e2e1d2e1c1g1b3f1g2c1e2c1e1g1k1e1d3e1g1d1i2c1l1f1t2e1s1f1j3c1f1e1a1e1d3g1i1f1f1c1i3c1v2g1j2e1u2e1k2c1u1e172e1t1g1v2e1t1c192c1u2e162e1s2g1q2c1v1e1q2e1u1e152e1u3e112c1u3g1t2e1t2f1v2c1w3c1j2e1t2e1j2e1s3e1m2d1j2e1s3f1u2e1s1d1z2c1v1e1f2e1s3g1l2c1v2e1h2e1s3e152e1t2c1m2c1u3g1t2e1s3e1w2c1u3e1f2e1u2e1o2e1s2c1x2c1u2g1f2e1u2e1e2c1m2c1w2e1w2e1u1g1q2c1u3d1j2e1s2f1c2e1u3c1s2c1w2g1d2e1u1e1l2c1w3e1y2e1u2f1f2e1u2d122c1u2f1u2e1u2g152c1w2e1j2e1t2f1r2e1s3d1m2c182e1w3e173f1h121s223e181c1m3e1g2g1c3f142e1k3d1c1e1g1f1q2g1j1e143e1e1c1r3g142e1u2g1t2c1u2c1z2e1u2e1g2e1w3c1v2c1u2g1w2e1t2e1v2c1w2e1g2e1t2e1x2e1w2d102c1u2e182e1s2g1z2c1w2e1b2e1s1f162e1u2c112c1s1g1g2e1u1e1w2c1v2c1k2e1u2e162e1u2e1r2c1s1f192e1u2g1r2c1w2e1x2e1s2g1y2e1u3d122c1s2e1w2e1s1f1m2c1t2e1v2e1t3g1g2e1u1d1b2c1u3g182e1s3f1b2c1v3d162e1s1f172e1w3d1e2c1s2f172e1u3g1i2c1u3d192e1u3f1d2e1u3d1a2c1u3g1b2e1s3f192c1u3d172e1s2f172e1w3c1c2c1s3f182e1s3g1c2c1u3d182e1s3f1a2e1u1d192c1t3f1b2e1s3f1b2c1u3d152e1s2f172e1w3e1y2c1s1f172e1s3f1d2c1u1d172e1s3e1z2e1u2c1y2c1k1e123f1o1g1m1d161d121g142g1s2g1e3d161d103g1i1f1d3e1f1d181e1f1f1b1f1q3f1e3e1i3d1g1e1d1e1c1e1e1e1r3c1f1e183f131g1j2c1d2d1k1f1c1e1g2e1u1e1l3e1d1e1j3e1c2f1d3e1l1d181e122e192f1d1d1d2d1b2f1b1e181e1f3d1a3d153e1i1f1s3f1h1e1e1d1f1e1c3e1b1e1b1d1t1d1s1g121e1u1g163d1e3d171g1h1f1s2g1l2e1r1c1a3g181f1p3g1f1c1j1c1f1e1g2e1c1g1j2c1k2e1f3f1f2e1v2e1j2c1u1c102e1s2g1h2e1w1d1l2c1r1f1w2e1t1e122c1u1c1j2e1s1e1q2e1u1d1v2c1u3e1j2e1t2f1r2c1w3c152e1u2e102e1v2e122c1t2e1f1e162e1w2d182c1t2g152e1s3e1v2c1v2c1r2e1s2e1h2e1v3c1v2c1s3e1x2e1t2e1h2c1u2e1y2e1s2g1p2e1w2c102c1t3g1z2e1s2f1h2c1v3c102e1u1e1s2g122c1u2e1f2e1t2e172e1u2e1b2c1u2g1x2e1u3g1q2c1u3e1u2e1s3g1j2e1w2e172c1s2g152e1s2f162c1v2c1j2e1s2e1d2e1w2c1b2c1t2e1c1e102e1x2c102c161e121d1d1i1g1g3g1s1g1l2d1b1c1l1f191f1d1f1f1c1j1c1w1g1o3e1q3f1g2c1s2c1k2e1s3e1x2e1w2c1v2c1w1f1r2e1r1e1i2c1s1d1z2e1t2e1k2e1w1e1v2c1v2e152e1s2e102c1s3c1g2e1u2e1p2e1u1d162c1u2e1u2e1q2g1m2c1t3c112e1u2g1w2e1v2c1y2c1u3f1k2e1q2e1a2c1s3c1t2e1u2e1o2e1v1c1g2c1w2e142e1s2e112c1s2c1d2e1u2g1c2e1v3e1j2c1u2f182e1q3e1e2c1s1d1b2e1s3g1c2e1u3d182c1v3e192e1q3f192c1s3c1j2e1s2f162e1w3c1d2c1u1f192e1q3e1j2c1s3d1a2e1u3f172e1u3d192c1u3e1z2e1q2f1b2c1s3d1d2e1s1f172e1u3e1c2c1u3f172e1r3g1d2c1s2d1a2e1s3f162e1u2d172c1v3e1j2e1q2f1a2c1s3d1b2e1s3f152e1u3d1t2c1u2e1u2e1d1e1h3b143e1h2f182g1d2g1e1c1i1d1r3g1y2g1d2e1e1e1c1d1j3e1b2f1i1g1a3d1d3c1c1g1g3g121g1j1e121d1y2f1j3f163e141b1f1d1g3g1p1e193e1f3e1j3d153g1o1e1g1g1j1d1g2c1a1e1c2f141g1u1d1j3c1a1e181e161e1a1c1s1e1l3e1a1e181g143b1f1d1e1e1i2f1d3f1h1c121d163g1d3e1d3g1g3e1j1e1e2e192f121f1e1c1f3c1e1f1i3f181g1i1d1f1e1m3g1h2e1q3g1l3e152d1g3g142f1c2g1e1c1f3d122e1u1g1w2e1v2e1e2c1w3f152e1q1e162c1u1c1w2e1s3e1v2e1w2c102c1u1f162e1q3e1z2c1t2d1b2e1s1g1v2e1v2c1u2c1u2e1j2e1s2g1v2c1f2d1v1g152e1r2e1t2c1s1c112e1s2g1r2e1t2d1t2c1v1e1z2e1r2f122c1s3c1z2e1s2g1d2e1u2c1j2c1u2e1u2e1s1f1m2c1u3c1a2e1u2g1r2e1u2e1f3d1s2e1s1e1f2e1v2c1v2c1w1e1p2e1q2e1r2c1t3e1l2e1s3g1j2e1u2d1h2c1u2g1f2e1q2e1e2c1u3e1d2e1s2g1u2e1v2c1z2c1u3e102e1s1g1v2c1f2c102f1r2e1q3e14121j1d2k1f2p1d2i1m2e2s141m', '48fd62933313w331w371e25202o193v2c1b3o001z1m252z3o2m252c2o2m2w23381e232z1g2c29361a2v3s1z3z1m260w1z3z39213v2z39361a2v3s1z3z1m2z162t3z2n1z2038231q25333c142z2v233c1w2s271z1z38231q25333c142z261w101z141z133v392o172z341s3s2t2z3n1z3u243c133v392o172z24101z1m231z3u261z3u261z3u261z3u2o2z39213v2c29213v29213v252y393v2c1z1z2233143o00202c293w121m2c1b3o0z2z2k221z3z1m2z1z1z3s271z2z1d393v2c181w10202v3u2s332c101z1c1m1z133v27211t302o12232520332c1626332z1d1e182c143z261w1z101z302s271z101m3s350z3z223314331s2r3d1o1e1i1d1f1c1q3d1j2e1q3d1d3e183e1k2e1i1c1h2d1c3c1s3d1k2c1t2c1z2c1s3e1y2c1t2c1y2c1s3d1i2c1s2c182c1s3c1r2c1s2c1q2c1t1c1g2c1u2c122c1u2c1z2c1s2c1b2c1s2e1e2c1t3e1j2c1s2c1s2c1s1e142c1u2e1r2c1q2c1z2c1u2c1g2c1u3c1r2c1u2e1w2c1t2c1t2c1s2e1g2c1t2c1x2c1u2d1w2c1u2c182c1s2e1x2c1s2e1b2c1s1d162c1u3e1t2c1s3d192c1s3d192c1q1d182c1s3e1z2c1s3d172c1s3c1i2c1s2d172c1s3d142c1s2d172c1t3d1j2c1s2d192c1u3d142c1q3d192c1u3c1c2c1s2d152c1u3d1d2c1s3d172c1r3d1c2c1s1d172c1s3e192c1s2d172c1t3d1z2c1q3d162c1u3e1a2c1s2d162c1u3e1v2c1s3d172c1q3e192c1s3d1u2c1s2c1s2c1f1c1h3d1g1e1g3e1s1e142e1s2e1d3c1i1d101e143d1g2c1g3c1s2e1o3e1c1c1j3c1c1d1b1d1h2d181e121c193d1c1e1e3d1g2c1c3d1s3e1k1c1j1c1i1e1h1d1c1c1h1c192d1k1e183d1c3c1a1d1e3e141d1h1c121c1a1c181c1a1c1a3e1p1e1s2d192d1b1d1p3d1c3d1g1e1b1e1p3c122c143e101c1d3d1c1e1k1e1t1e1s2c1b1d1a3e1s1c1s3c1g3d1c3e141d1i1e1s1d1g1c1s2e1h1d1c1c1c1e1k1c103e1c1d1g1e193c1s2c1s1e1u2c1t1c1d2c1s3e1k2c1u2e1h2c1s2e1p2c1q2e1r2c1u2e1i2c1s3e1k2c1u2c162c1s3c1c2c1r2d1u2c1u3c152c1u2c1t2c1s2c1c2c1y3c1r2c152c1t2c1i2c1u2c1h2c1s1c152c1u3c1v2c1s2d122c1t3d1y2c1u2c152c1q1c1a2c1u2e142c1s2e1q2c1u3d1y2c1t2e1v2c1s1d1o2c1u1c1t3c1p2c1q2c1j2c1s2e172c1s2e1t2c1t2c102c1s2c1p2c1q1c1f2c1t3d102c1t1c1u2c1u2c1s2c1u2e1t2c1r2c1x2c1t2c1o2c1s2c1s2c1u1c1c2c1y2c1u3c163c193c172i2s143e1d2d183e1r3c1a3c1u3e181e1i3c1j1c1o1c1h2c161b1g3d142c1u2e1t2c1s2d1r2c1s3e1x2c1s2e122c1u2e1y2c1t2e1z2c1q2c1s2c1s2e1v2c1t2c1t2c1t2c1v2c1s3d1w2c1s3c1q2c1s3e1h2c1s2c1x2c1s2c1e2c1s1c1i2c1q3c1z2c1u2c1v2c1u1d1p2c1t1c1g2c1s1d1x2c1r2c1p2c1u1e1v2c1t2c132c1u2c1y2c1s3c1e2c1s2c1r2c1s1d162c1u3c1e2c1s3d192c1u3e162c1q3d172c1s3d1b2c1s2d172c1s3d1v2c1s3d192c1q3c182c1s3d192c1u3e192c1s3d182c1s3d182c1q3d192c1u3d1v2c1s3d162c1s3c1c2c1s3d192c1r3e1d2c1s3d192c1s3d1i2c1s2d172c1u3e1c2c1q1d192c1u3c1q2c1s1d152c1t3c1i2c1s3d172c1q3d1b2c1s3d172c1s2c1x2c1s1c1k1c183d1k1e1h1e1c1c1i1d1p3e1r3b1d3e1c1d1b3e1h3e131d1j1c1i1d1h1d1g3c181c1d2d161e1c1e1j3c1d1c1e3d141d1h3e193d1c3d1q1e1p3c1c1c1d3d1s2d1k1c1b3c1c3e1c1c1p1e1d2e1j3e1d1c1s1d1p1e1k1e1p1e1p1e1c3e1k1d161c181c142d1d3e1d1c1k3c1c1d1g1e141e1c2c1e1c1d3d1c3d1c3c1i1c101c161e1k1d1h2c1s2e1o3d1f3e183e1k1e151d1i1c1c1c1d3d1s3c1c3d1q2e1o3c1d1c1w3d1z2c1s2e1j2c1u2c1t2c1s3d1g2c1s2e1h2c1u1e1i2c1q3d1k2c1s2e1f2c1u1e1e2c1s3d102c1t2c1y2c1r2e152c1u2e1z2c1t2c1r2c1t3c1w2c1f2c1u2e1r2c1u2c1u2c1t2e102c1r2c1w2c1u2e1y2c1u3e152c1u2c152c1u3c1r2c1s2e1u2c1u3e1r2c1t3c1q2c1u2e1a2c1u1d1s2c1q2c152c1s1c1f2d1u2c1r3e1v2c1t2c1o2c1u1e1o2c1s1c1s2c1t2d102c1q3d102c1t1c172c1t2c1q2c1u2e1y2c1u2d1o2c1s3c1y2c1u1e1w2c1s2d1y2c1t2e1v2c1f3c1y2c1x3c1x2d1h171e2c2e1c3e1c1c1g3c1p1e1j1d1i1c1d3c1e1d1g1d1g2c1f1e1b2c132c1u1c1o2c1r2c152c1q1c1o2c1s3e1d2c1u2c1c2c1s3e1g2c1s1d1x2c1r2e1j2c1u2e1r2c1u3e1x2c1s2c1c2c1s1c1x2c1s2c1h2c1s1c1s2c1s2c1u2c1t2c102c1s2c1z2c1r2d1u2c1s1c132c1t3e1w2c1u2c152c1r3e1u2c1s2c1k2c1u1c1x2c1u1c1v2c1s2d1w2c1r2c1t2c1q2d172c1t3c1x2c1s3d162c1s3c1b2c1q3d192c1s3d1d2c1s3d162c1s3d1b2c1s2d172c1r3d1z2c1q1d172c1s3c1i2c1s3d152c1s3d162c1q1d192c1q3d152c1s3d162c1s3d1t2c1s2d192c1q3e1g2c1q2d192c1s3d1c2c1s1d152c1s3c1q2c1q3d192c1s3d1t2c1s3d162c1u3e1w2c1s3d172c1q3d192c1q3d172c1s2c1s2c1s2e1d1c123e193d1o1c1p3d1p3b1d3d1c3c192c1p3c1w2d1k3e1c1c1d1e1p3c1b1c183e131e1f2c1b2d1i1d1c3c1g2c1q1e1c3e1d1c1j3c1d2d193e1j3d161c122c191e1d1e1g3d1e2c1c3d1s1e1i3c1o1c1g1d1h3e1c2e1i3e1k1e1i3d1k3e1c3d1d3e1j1e1f3d143c1c2e1d3d1s3c1b1c1c1c1i2e101e141e1d2d1b1e1h3b1q2d1s2d1d3c1d2e141e1j1e1a1e1g3c1j1c1c2e1d3c1x1c102c193d1s2d193d1w1e1q2e1f3c182c1r2e1f2c1s2e1w2c1s2d142c1u3c1f2c1t1d1f2c1r2d182c1s1e1o2c1s3e1g2c1r3d152c1t2c1u2c1q1c1k2c1r3c1r2c1u3e1y2c1u3e1s2c1s3c1x2e1g2c1s3c1w2c1u1c1f2c1q1e1y2c1s3e1o2c1u3e1d2c1s3d1y2c1s2e102c1s2c1s2c1r2c1s2c1s2d1w2c1s3e1j2c1t1c152c1s1e1z2c1r3e1x2c192c1r2c1f2c1q2e1t2c1s3e1h2c1t3e1w2c1s1e152c1s3e152c1r3e1u2c1t2c1y2c1u2e1p2c1t2c1b2c1r2c1u2c1r2d1q2c1u1e132c1s3c1i2c1s1c1x2d1r3c1y3d161c172i1j1q1e1o1g2s1j1r1t2k14', 'a769827c77324ab850de77896d17fec9'));
  var v = {
    log: 0,
    logout: 0,
    screencolor: '#000000',
    border: 0,
    bordersize: 1,
    bordercolor: '#000000',
    bgcolor: '#ffffff',
    rounding: 0,
    screenclick: 1,
    doubleclick: 1,
    player: 0,
    stopotherplayers: 1,
    iframe: 0,
    toolbar: {
      customimage: 0,
      color: '000000',
      a: '0.4',
      h: 34,
      stretchonfullscreen: 1,
      hide: 1,
      hidewithoutmoving: 1,
      hidejustfull: 0,
      hidetimeout: 3,
      hideleavetimeout: 0,
      leftandrightpadding: 3,
      animation: 'none',
      position: 'bottom',
      margin: '0 0 0 0',
      rounding: 0,
      clickarea: 0,
      image: ''
    },
    hotkey: {
      f: 1,
      r: 1,
      m: 1,
      seek: 5,
      leftright: 'seek',
      space: 1,
      updown: 'volume',
      seeksides: 0,
      nums: 1,
      volumewheelfull: 1,
      wheelstep: 0.2
    },
    playlist: {
      bgcolor: '000000',
      bgcolorover: '333333',
      bga: 0.9,
      bgaover: - 1,
      position: 'left',
      margin: '0 0 0 0',
      padding: '7 15 7 15',
      color: 'ffffff',
      font: 'arial, helvetica, sans-serif',
      fontsize: 12,
      valuefontsize: 10,
      letterspacing: 0,
      valuecolor: 'ffdd1f',
      borderbottom: 1,
      bordercolor: '444444',
      a: 1,
      aover: - 1,
      posters: 0,
      posterheight: 100,
      posterwidth: 177,
      postertitleonhover: 1,
      historytitlea: 1,
      historycolor: '999999',
      historybgcolor: '000000',
      historybga: - 1,
      historybgaover: - 1,
      historytitlestrike: 0,
      activeiconsize: 3,
      headfontsize: 16,
      headbordercolor: '888888',
      rounding: 0,
      scrollarrows: 1,
      scrollarrowsize: 1,
      scrollarrowcolor: 'ffffff',
      scrollarrowbg: 0,
      scrollarrowbgcolor: '000000',
      scrollarrowgradient: 1,
      scrollarrowbgover: 0,
      scrollarrowbgovercolor: '333333',
      limitwidth: 0,
      limitmaxwidth: 200,
      autoplaylist: 0,
      always: 0,
      alwaysjustpause: 0,
      alwaysnotfullscreen: 0,
      autohide: 1,
      floatleft: 0,
      floatheight: 50,
      floatmarginright: 0,
      floatlimitwidth: 1,
      floatwidth: 170,
      marginbg: 0,
      marginbgcolor: '333333',
      marginbgpadding: '0 0 0 0',
      hmaxk: 30,
      bordercolor: '666666'
    },
    settings: {
      bgcolor: '000000',
      bgcolorover: '222222',
      bga: 0.7,
      bgaover: - 1,
      font: 'arial, helvetica, sans-serif',
      position: 'bottom-right',
      margin: '0 0 0 0',
      padding: '7 10 7 15',
      color: 'ffffff',
      fontsize: 12,
      headfontsize: 16,
      valuefontsize: 10,
      letterspacing: 0,
      titlecolor: 'ffffff',
      valuecolor: 'ffdd1f',
      a: 1,
      aover: - 1,
      activeicon: 1,
      activeiconsize: 3,
      headfontsize: 16,
      scrollarrows: 1,
      scrollarrowsize: 1,
      scrollarrowcolor: 'ffffff',
      limitwidth: 0,
      limitmaxwidth: 200,
      rounding: 0,
      settings1: 1,
      settings1action: 'quality',
      settings2: 1,
      settings2action: 'audiotrack',
      settings3: 1,
      settings3action: 'subtitle',
      settings4: 0,
      settings4action: 'download',
      settings5: 0,
      settings5action: 'speed',
      hmaxk: 30,
      bordercolor: '666666'
    },
    logo: {
      position: 'bottom-right',
      margin: '0 10 50 0'
    },
    volume: 0.8,
    volumestore: 1,
    mutestore: 1,
    loop: 0,
    shuffle: 0,
    finishrewind: 1,
    mute: 0,
    preload: 0,
    preloadhls: 0,
    preloaddash: 0,
    autoplay: 0,
    autoplaymute: 1,
    showtitleplaylist: 0,
    addtitleplaylistbr: 0,
    addtitleplaylist: 0,
    file_separator: ',',
    file2_separator: ';',
    file3_separator: '//',
    poster_scale: 'fill',
    poster_a: 1,
    poster_aover: - 1,
    poster_float: 0,
    poster_floatmargin: '20 0 0 20',
    poster_floatposition: 'top-left',
    poster_floatwidth: 100,
    poster_floatheight: 100,
    poster_floatbgcolor: - 1,
    posteronpause: 0,
    d: location.hostname,
    href: location.href,
    https: location.href.indexOf('https') == 0,
    alerts: 1,
    alertsbgcolor: 'ff0000',
    alertscolor: 'ffffff',
    alertsbga: 1,
    alertsfontsize: 10,
    rightclick: 0,
    youtubeposter: 1,
    youtubelayer: 1,
    ytautoquality: 1,
    posterhide: 1,
    aspect: '16x9',
    landfullmobile: 0,
    hlschangequality: 'next',
    hlsautoquality: 1,
    hlsdebug: 0,
    hlscookies: 0,
    hlslowquality: 0,
    hlsquality: 1,
    hlsaudio: 1,
    livewakeuptime: 5,
    nativehlsinsafari: 0,
    reload: 0,
    reloadlive: 1,
    livewakeup: 0,
    reloadtimeout: 5,
    dashdebug: 0,
    dashcookies: 0,
    dashlowquality: 0,
    dashquality: 1,
    dashaudio: 1,
    nameofhlsquality: 0,
    nameofyoutubequality: 0,
    nameofdashquality: 0,
    qualitystore: 1,
    eventstracker: 0,
    events: 'PlayerjsEvents',
    errortimeout: 5000,
    container_h_procent: '100%',
    ga: 0,
    ga_event: {
      init: 1,
      error: 0,
      full: 0,
      end: 0,
      play: 1,
      play25: 0,
      play50: 0,
      play75: 0,
      vast_skip: 0,
      vast_click: 0,
      vast_impression: 0
    },
    yamtr_event: {
      init: 1,
      error: 0,
      full: 0,
      end: 0,
      play: 1,
      play25: 0,
      play50: 0,
      play75: 0
    },
    ga_proc: 100,
    playsinlineonmobile: 1,
    subtitle_start: 1,
    sub_size: 14,
    sub_sizeproc: '100%',
    sub_big_fullscreen: 1,
    sub_size_fullscreen: 20,
    sub_bg: 1,
    sub_bga: 0.7,
    sub_bgo: 2,
    sub_bgpadding: 3,
    sub_bottom: 10,
    sub_color: 'ffffff',
    sub_bgcolor: '000000',
    sub_shadow: 0,
    sub_weight: 400,
    sub_designstore: 1,
    sub_store: 1,
    sub_off: 1,
    sharetitle: 1,
    sharetop: 0.3,
    shareiconscale: 3,
    shareiconscaleover: 4,
    shareiconmargin: 5,
    embedsize: 0,
    embedwidth: 560,
    embedheight: 315,
    fullonplay: 0,
    fullonplaymobile: 1,
    fullblack: 1,
    nativefullios: 1,
    hidestartbutios: 1,
    thumbs: 0,
    thumb_width: 160,
    thumb_height: 90,
    thumb_border: 0,
    thumb_borderwidth: 1,
    thumb_bordercolor: '333333',
    thumb_radius: 0,
    thumb_shadow: 1,
    vast_timeout: 10,
    vast_pauseonclick: 1,
    vast_closeonclick: 1,
    vast_volume: - 1,
    vast_title: 1,
    vast_preroll_limit: 1,
    vast_preroll_andlimit: - 1,
    vast_preroll_timebreak: 0,
    vast_preroll_counter: 0,
    vast_pauseroll_limit: 1,
    vast_pauseroll_timebreak: 0,
    vast_pauseroll_counter: 0,
    vast_postroll_limit: 1,
    vast_postroll_timebreak: 0,
    vast_postroll_counter: 0,
    vast_playroll_limit: 1,
    vast_playroll_counter: 0,
    vast_midroll_limit: 1,
    vast_midroll_counter: 0,
    vast_midroll_timebreak: 0,
    vast_linktxtbgcolor: '#2fd565',
    vast_linktxtcolor: '#000000',
    vast_skipbgcolor: '#000000',
    vast_skipcolor: '#ffffff',
    vast_titlebgcolor: '#000000',
    vast_titlecolor: '#ffffff',
    vast_xbgcolor: '#000000',
    vast_xcolor: '#ffffff',
    vast_progressbgcolor: '#000000',
    vast_progresscolor: '#ffffff',
    vast_volumebgcolor: '#000000',
    vast_volumecolor: '#ffffff',
    vast_linktxtonmobile: 1,
    vast_unmutehover: 0,
    vast_unmutebutonce: 1,
    vast_default_volume: 0.5,
    vast_unmutebutbgcolor: '#ffffff',
    vast_unmutebutcolor: '#000000',
    vast_openclick: 1,
    vast_preroll_vmap: 1,
    vast_pauseroll_vmap: 1,
    vast_postroll_vmap: 1,
    vast_midroll_vmap: 1,
    vpaid_timeout: 10,
    vpaid_timeout2: - 1,
    eventstrackervast: 0,
    pauserollonplay: 0,
    partnerprerollor: 'or',
    partnerpauserollor: 'or',
    partnerpostrollor: 'or',
    partnermidrollor: 'or',
    midrollpoint: '50%',
    introskiptime: - 1,
    introclickable: 0,
    introclosetime: - 1,
    introtitle: 0,
    introtxt: 0,
    rc_version: 1,
    rc_anyway: 0,
    heartbeatinterval: 30,
    default_channel: 2,
    tagsinterval: 10,
    playedquartile: 0,
    pip: {
      on: 0,
      bgcolor: '000000',
      border: 0,
      shadow: 2,
      bordercolor: '000000',
      position: 'left',
      margin: '35 0 0 10',
      width: 150,
      hide: 0
    }
  };
  v.lang = 'ru';
  var VastLoader = function (preload) {
    var vast = [
    ];
    var vastType = '';
    var vastUrl;
    var partner;
    var _preload = preload == true;
    var _status = '';
    var die_error = false;
    vast.events = [
    ];
    vast.wrapper0 = ' -> ';
    var no = [
      'desktop',
      'mobile',
      'mobiletv',
      'tv',
      'lg',
      'winmob'
    ];
    eval(decode('#1euiQdZ5Ac2tlwr0haOJVM3FQc24PfqY5zvPQf3aidjpVc3dhDGpVaLdhFut0aGhQzNemetFQcKIPyHU2MLwhfuF0wr0hcNJ3wsFieuIPxnwXAHlUAHsUAnoOyHU4avEVd2J0Fut0aGi4avEVa2J0Fut0aGhQynAQCZp4avEhDGp4avEVa2J0JumUaGhQC28VavEhDGp4avEhDjpVc3d7qjohwqohwqohwqohwumNyqtWzNF0xja4DH0YyLTywqohwqohwqohwqohwqohwviPdjhObvF0dvA6zZ9TbKAVduYZbOAVM29Uz240akaPcOFmCrw2BrdOzua1cNB0bK9Vyqm7qjohwqohwqohwqohwqohwqohwqohbKMPeuiQdZ5ZaLBXc25naJFmfvEQf28VauThDGp0bumnzOxmd3pWcOBmJuJ4erUWzNFSDH0YwqMNwu8VeNtner9WzNtkeumWcOAVJNtnetxmcK92aItVatpTMLlPyHPOxnU9qjohwqohwqohwqohwqohwqp9yHTywqohwqohwqohwqohgHU2MLB0JvmXaGo9wvl7eNtneq5naKBWcNE9fkU2MLwhfjo9wqeXcut5aLxRdZ5kc20Td2Jid29VeNtZzOx1L2F0AkoYCG0YAj0XAZYlMLFicu9kbZ5ZeJ9lerwXAHlUAHwUArAOC3aidjp6fjo9wvPVd3pTbLEPxZXOyHU2MLwhaZo9wuaicvBmC28VeN9Swr0hevx1aHU6fj5Nc3xtMKBPyua1cNB0bK9VyuEQf2mNyuEVbK5laLiDajhOLZdSx2F0AkoOyH4XyLU2MLwhavEhDGplzOB1MOB0djhUAHoQC3aidjplerwhDGpVaLdhFut0aGileqlVa2J0JumUaGhQC3aidjpleu4hDGpVaLdhFut0aGhQzNemetFQcKIPyHUQajilerw#avFVgvYWzNFSwH0YyLUlwr0haq5neKxnevwPAqYlzNmVauJ4H2MPx18OyZelerwXxZlQC31mcvBmf2YWaZhOaLiXbLxmaqdQC2EhDGoOaLiXbLxmaqe9gHUWzNEhDGpTc2BieumWcj5Pc3B0cNtUaHUQajilzNmVauJ4H2MPxZ4RxZl#Aqm7cZ5lzNmVauJ4H2MPaq5neKxnevwPAqYlzNmVauJ4H2MPxZ4OyGlQDj0YD2E9cZ5lCjdOC31QajoPaq5QcNFmfs9NyqdVxZl#AqoNxjoPcNJ3wtxma0J4dqilwqThxZEOzqoObGdQzOFmd3EPcZ5lyLY8ar09x2tVfG5lc21ibK4OyGm7aZo9wvFZeKI7dNJ0eLxVC319yHU2MLwharwhDGpWzNEVd3pTbLEPxZ4OyHUlAj5TaK5Oeuh9DHF8gvhVbK5laLiDajhOdvx0cLm2MLB0xZl9DHo/an10dOJmCjdOC2mNyqtOyLUTc2dPx1apI1EhFu9UMKmVdZptdOxWdjoOy28Vaql7ej56au1Vwr0hfkU2zOaid3E9ArUWzNtkeumWcOAVJNtnesJZdN9Zyql7gKJTd2J7bOAPx3aid3Fgcu9iaqdTeNtnetF5duIQC0YWMKFMcKXPfql7gL07'));
    function LoadXml(x, wrap) {
      var stop = false;
      if (typeof x == 'string') {
        if (x.indexOf('js:') == 0) {
          vast.jscall = x;
          x = eval(x.substr(3) + '()');
          if (x.indexOf('.') == - 1) {
            o.actions.EmptyVastUrl()
          }
        }
        if (x.indexOf('<VAST>') == 0) {
          var x2 = new Object();
          if (window.DOMParser) {
            var p = new DOMParser();
            x2.responseXML = p.parseFromString(x, 'text/xml')
          } else {
            var p = new ActiveXObject('Microsoft.XMLDOC');
            p.async = 'false';
            p.loadXML = x;
            x2.responseXML = p
          }
          vast.vasturl = '';
          Parsing(x2);
          return
        }
      }
      for (var i = 0; i < no.length; i++) {
        if (x.indexOf('[no_' + no[i] + ']') > - 1) {
          x = x.replace('[no_' + no[i] + ']', '');
          if (o.system[no[i]]) {
            log('VAST no ' + no[i]);
            stop = true
          }
        }
      }
      if (x.indexOf('[remove]') > - 1) {
        o.actions.VastRemoveUrl(vastUrl);
        x = x.replace('[remove]', '')
      }
      if (v.vast_ima == 1) {
        if (v.vast_imaurl == 1) {
          if (x.indexOf('[ima]') > - 1) {
            vast.ima = 1
          }
        } else {
          vast.ima = 1
        }
        x = x.replace('[ima]', '')
      }
      if (x.indexOf('[pausemute]') > - 1) {
        vast.pause_mute = 1
      }
      if (x.indexOf('[mute]') > - 1) {
        vast.mute = 1;
        x = x.replace('[mute]', '')
      }
      if (!stop) {
        x = vastURL(x, wrap);
        vastUrl = x;
        if (vast.ima == 1) {
          if (o.ima) {
            o.ima.Destroy();
            o.ima = undefined
          }
          o.ima = new VastIMA(x)
        } else {
          !wrap ? vast.vasturl = x : '';
          js((wrap ? 'vast_wrapper' : 'vast_url'), x);
          var xhr = new XMLHttpRequest();
          xhr.open('GET', x, true);
          if (v.vast_nocredentials == 1 || x.indexOf('nocredentials') > - 1 || x.indexOf('kxcdn.com') > 0) {
          } else {
            xhr.withCredentials = true
          }
          xhr.timeout = parseInt(v.vast_timeout) * 1000;
          xhr.onload = function (e) {
            Parsing(this)
          };
          xhr.onerror = function (e) {
            if (e.target.status == 0) {
              LoadXmlNoCredentials(x)
            } else {
              ErrorLoad()
            }
          };
          xhr.ontimeout = function (e) {
            ErrorLoad(301)
          };
          try {
            xhr.send()
          } catch (e) {
            ErrorLoad()
          }
        }
      } else {
        die_error = true;
        _status = 'next';
        if (!_preload) {
          setTimeout(function () {
            o.actions.VastNext()
          }, 100)
        }
      }
    }
    function LoadXmlNoCredentials(x) {
      var xhr = XHR(x);
      xhr.timeout = parseInt(v.vast_timeout) * 1000;
      xhr.onload = function (e) {
        Parsing(this)
      };
      xhr.onerror = function (e) {
        ErrorLoad()
      };
      try {
        xhr.send()
      } catch (e) {
        ErrorLoad()
      }
    }
    function ErrorLoad(x) {
      log('VAST Loading Error');
      if (vast.isWrapper) {
        Event('Error', (x > 0 ? x : 300))
      } else {
        Event('Error', 100)
      }
      _status = 'error';
      !die_error && !_preload ? o.actions.VastError()  : '';
      die_error = true
    }
    this.break = function () {
      if (!die_error) {
        ErrorLoad()
      }
    };
    function Parsing(x) {
      if (x.responseXML == null || vastType == '') {
        log('VAST XML Error');
        ErrorLoad(303)
      } else {
        vast.type = vastType;
        var xml = x.responseXML;
        var vmap = g('vmap:VMAP', xml);
        var stop = false;
        if (vmap) {
          var vmaps = vmap.getElementsByTagName('vmap:AdBreak');
          if (vmaps.length > 0) {
            for (var i = vmaps.length - 1; i >= 0; i--) {
              if (vmaps[i].getAttribute('breakType') == 'linear') {
                var vmaptag = t('vmap:AdTagURI', g('vmap:AdSource', vmaps[i]));
                if (vmaptag != '') {
                  if (v['vast_' + vastType + '_vmap'] == 0 && i < vmaps.length - 1) {
                    o.actions.VastInsertOr(vmaptag)
                  } else {
                    o.actions.VastInsertAnd(vmaptag)
                  }
                }
              }
            }
            o.actions.VastRemoveAndPlay();
            stop = true
          }
        }
        var ads = xml.getElementsByTagName('Ad');
        if (ads.length > 1) {
          for (var i = ads.length - 1; i > 0; i--) {
            var adwp = g('Wrapper', ads[i]);
            if (adwp) {
              var adtg = t('VASTAdTagURI', adwp);
              if (adtg) {
                var nx = new XMLSerializer();
                var nt = '<VAST>' + nx.serializeToString(ads[i]) + '</VAST>';
                if (adwp.getAttribute('allowMultipleAds') == 'true') {
                  o.actions.VastInsertAnd(nt)
                } else {
                  o.actions.VastInsertOr(nt)
                }
              }
            }
          }
        }
        if (!stop) {
          var ad = g('InLine', g('Ad', xml));
          var wrapper = g('Wrapper', g('Ad', xml));
          vast.isWrapper = false;
          vast.isVpaid = false;
          vast.isImg = false;
          _Event('Error', xml);
          if (wrapper) {
            vast.isWrapper = true;
            ad = wrapper;
            vast.wrapper ? vast.wrapper0 += vast.wrapper + ' -> ' : '';
            vast.wrapper = t('VASTAdTagURI', ad)
          } else {
            var xml_string = new XMLSerializer().serializeToString(xml.documentElement);
            js('vast_xml', escape(xml_string))
          }
          if (ad) {
            vast.adsystem = t('AdSystem', ad);
            vast.version = xml.documentElement.getAttribute('version');
            _Event('Impression', ad);
            _Event('Error', ad);
            if (vast.adsystem == 'PjsVast' && vast.pjstat) {
              vast.events['Error'].push(vast.pjstat + 'err')
            }
            var creatives = g('Creatives', ad);
            var creative;
            if (creatives) {
              creative = g('Linear', g('Creative', creatives));
              if (creative) {
                if (t('Duration', creative) != '') {
                  vast.duration = seconds(t('Duration', creative))
                }
                if (t('AdParameters', creative) != '') {
                  vast.adparameters = t('AdParameters', creative);
                  try {
                    vast.adparametersjson = JSON.parse(vast.adparameters)
                  } catch (e) {
                  }
                }
                if (g('MediaFiles', creative)) {
                  vast.file = _Media('MediaFile', g('MediaFiles', creative))
                }
                if (g('TrackingEvents', creative)) {
                  _Tracking('Tracking', 'event', g('TrackingEvents', creative))
                }
                var clicks = g('VideoClicks', creative);
                if (clicks) {
                  vast.click = t('ClickThrough', clicks);
                  _Tracking('ClickTracking', 'id', clicks)
                }
              }
            }
            !exist(vast.extensions) ? vast.extensions = [
            ] : '';
            var extensions = g('Extensions', ad);
            if (creative) {
              var skipoffset = creative.getAttribute('skipoffset');
              if (skipoffset) {
                vast.extensions.skipTime = seconds(skipoffset)
              }
            }
            if (extensions) {
              _Extensions(extensions)
            }
            if (vast.vasturl.indexOf('nocontrols') > - 1) {
              vast.nocontrols = 1
            }
          }
          if (vast.isWrapper) {
            log('Wrapper', vast.wrapper);
            LoadXml(vast.wrapper, true)
          } else {
            Event('onVastLoad');
            if (exist(vast.file) && o.vok) {
              _status = 'ready';
              !_preload ? o.actions.VastReady(vast)  : ''
            } else {
              Event('Error', 401);
              _status = 'error';
              !die_error && !_preload ? o.actions.VastError()  : '';
              die_error = true
            }
          }
        }
      }
    }
    function g(x, xml) {
      if (exist(xml)) {
        return xml.getElementsByTagName(x) [0]
      } else {
        return null
      }
    }
    function t(x, xml) {
      if (exist(xml.getElementsByTagName(x) [0])) {
        if (exist(xml.getElementsByTagName(x) [0].childNodes[0])) {
          return xml.getElementsByTagName(x) [0].childNodes[0].wholeText.trim()
        } else {
          return ''
        }
      } else {
        return ''
      }
    }
    function _Event(x, xml) {
      if (!exist(vast.events[x])) {
        vast.events[x] = [
        ]
      }
      if (exist(xml.getElementsByTagName(x) [0])) {
        for (var i = 0; i < xml.getElementsByTagName(x).length; i++) {
          var y = xml.getElementsByTagName(x) [i].childNodes;
          for (var j = 0; j < y.length; j++) {
            if (y[j].wholeText) {
              var z = y[j].wholeText.replace(/\s+/g, ' ').trim();
              if (z != '') {
                vast.events[x].push(z)
              }
              if (z.indexOf('pjstat') && x == 'Impression') {
                vast.pjstat = z
              }
            }
          }
        }
      }
    }
    function _Tracking(x, x2, xml) {
      if (exist(xml.getElementsByTagName(x) [0])) {
        for (var i = 0; i < xml.getElementsByTagName(x).length; i++) {
          var y = xml.getElementsByTagName(x) [i].getAttribute(x2);
          if (x == 'ClickTracking' && y != 'skipAd') {
            y = 'click'
          }
          if (y) {
            var n = xml.getElementsByTagName(x) [i].childNodes;
            if (n.length > 0) {
              var z = xml.getElementsByTagName(x) [i].childNodes[0].wholeText.replace(/\s+/g, ' ').trim();
              if (y == 'impression') {
                y = 'Impression'
              }
              if (!exist(vast.events[y])) {
                vast.events[y] = [
                ]
              }
              vast.events[y].push(z)
            }
          }
        }
      }
    }
    function _Extensions(xml) {
      if (exist(xml.getElementsByTagName('Extension') [0])) {
        for (var i = 0; i < xml.getElementsByTagName('Extension').length; i++) {
          var y = xml.getElementsByTagName('Extension') [i].getAttribute('type');
          if (y) {
            var z = '';
            if (exist(xml.getElementsByTagName('Extension') [i].childNodes[0])) {
              if (exist(xml.getElementsByTagName('Extension') [i].childNodes[0].wholeText)) {
                z = xml.getElementsByTagName('Extension') [i].childNodes[0].wholeText.replace(/\s+/g, ' ').trim()
              }
            }
            if (y == 'CustomTracking') {
              _Tracking('Tracking', 'event', xml.getElementsByTagName('Extension') [i])
            }
            if (y == 'Allowblock' && (o.media.duration() > 120 || o.media.duration() == 0)) {
              if (z == '1') {
                if (vastType == 'preroll') {
                  vastUrl.indexOf('vr=1') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=1', 'vr=5'))  : '';
                  vastUrl.indexOf('vr=5') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=5', 'vr=9'))  : ''
                }
                if (vastType == 'midroll') {
                  vastUrl.indexOf('vr=2') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=2', 'vr=6'))  : '';
                  vastUrl.indexOf('vr=6') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=6', 'vr=10'))  : ''
                }
                if (vastType == 'pauseroll') {
                  vastUrl.indexOf('vr=3') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=3', 'vr=7'))  : '';
                  vastUrl.indexOf('vr=7') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=7', 'vr=11'))  : ''
                }
                if (vastType == 'postroll') {
                  vastUrl.indexOf('vr=4') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=4', 'vr=8'))  : '';
                  vastUrl.indexOf('vr=8') > 0 ? o.actions.VastInsertAnd(vastUrl.replace('vr=8', 'vr=12'))  : ''
                }
              }
            } else {
              if (y == 'skipAd' || y == 'addClick' || y == 'viewable' || y.indexOf('second') == 0) {
                if (y.indexOf('second') == 0) {
                  if (!exist(vast.sec)) {
                    vast.sec = [
                    ]
                  }
                  vast.sec.push(parseInt(y.substr(6)))
                }
                if (!exist(vast.events[y])) {
                  vast.events[y] = [
                  ]
                }
                vast.events[y].push(z)
              } else {
                if (y.indexOf('Time') > - 1) {
                  z = seconds(z)
                }
                if (y.indexOf('Txt') > - 1) {
                  z = decodeHtml(z)
                }
                if (y == 'controls') {
                  var x_control = xml.getElementsByTagName('Extension') [i].getElementsByTagName('control');
                  if (x_control.length > 0) {
                    for (var i2 = 0; i2 < x_control.length; i2++) {
                      if (x_control[i2].getAttribute('id')) {
                        vast['control_' + x_control[i2].getAttribute('id')] = x_control[i2].getAttribute('layout')
                      }
                    }
                  }
                }
                if (y == 'minVisibility') {
                  if (z > 0 && v.vast_visibility != 0 && exist(o.visibility)) {
                    if (o.visibility < z) {
                      log('VAST visibility', (o.visibility + '<' + z));
                      js('vast_visibility', (o.visibility + '<' + z));
                      vast.file = undefined;
                      vast.isWrapper = false
                    }
                  }
                }
                vast.extensions[y] = z
              }
            }
          }
        }
      }
    }
    function _Media(x, xml) {
      var r = '';
      if (exist(xml.getElementsByTagName(x) [0])) {
        for (var i = 0; i < xml.getElementsByTagName(x).length; i++) {
          var y = xml.getElementsByTagName(x) [i];
          var type = y.getAttribute('type');
          var api = y.getAttribute('apiFramework');
          r = y.textContent.replace(/\s+/g, ' ').trim();
          if (type) {
            vast.filetype = type;
            if (type.indexOf('javascript') > - 1 && api == 'VPAID') {
              vast.isVpaid = true;
              break
            }
            if (type.indexOf('mp4') > - 1) {
              break
            }
            if (type.indexOf('image') > - 1) {
              vast.isImg = true;
              break
            }
          }
        }
      }
      return r
    }
    function vastURL(x, wrap) {
      if (x.indexOf('prt') == 0) {
        partner = true;
        x = Prt(x);
        log('VASTP ' + vast.prt)
      }
      x = x.replace(/\(referer\)/g, encodeURIComponent(location.href));
      x = x.replace(/\(random\)/g, Math.random());
      x = x.replace(/\(vast_id1\)/g, v.vast_id1);
      x = x.replace(/\[random\]/g, Math.random());
      x = x.replace(/\[CACHEBUSTING\]/g, Math.random());
      x = x.replace(/\(width\)/g, o.screen_w);
      x = x.replace(/\(height\)/g, o.screen_h);
      x = x.replace(/\(duration\)/g, o.media.duration());
      x = x.replace(/\(visibility\)/g, (exist(o.visibility) ? o.visibility : - 1));
      if (x.indexOf('(timeout:') > 0) {
        var to = x.match(/\(timeout:\d*\)/g);
        if (to.length > 0) {
          var tmp = to[0].substr(to[0].indexOf(':') + 1);
          v.vast_timeout = tmp.substr(0, tmp.length - 1);
          v.vpaid_timeout = tmp.substr(0, tmp.length - 1)
        }
        x = x.replace(/\(timeout:\d*\)/g, '')
      }
      if (x.indexOf('(connection)') > 0) {
        var cn = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
        x = x.replace(/\(connection\)/g, ((typeof (cn) != 'undefined' && typeof (cn.type) != 'undefined') ? cn.type : 'undefined'))
      }
      x = VastReplace(x);
      if (wrap != true) {
        v.vpaidimpression == 1 || x.indexOf('vpaidimpression') > 0 ? vast.vpaidImOnVdSrt = 1 : ''
      }
      if (x.indexOf('http://') == 0) {
        x = '//' + x.substr(7)
      }
      return x
    }
    function seconds(x) {
      var y = x.split(':');
      var z = 0;
      if (y.length == 3) {
        z = parseInt(y[0]) * 3600 + parseInt(y[1]) * 60 + parseInt(y[2])
      }
      if (y.length == 2) {
        z = parseInt(y[0]) * 60 + parseInt(y[1])
      }
      return z
    }
    function decodeHtml(x) {
      var div;
      if (x) {
        div = createElement('div');
        div.innerHTML = x;
        return decodeURIComponent(div.textContent)
      } else {
        return void 0
      }
    }
    function Event(x, code) {
      if (exist(vast)) {
        if ((exist(vast.prt) && v.eventstrackervast == 0) || vast.adsystem == 'intro' || vast.adsystem == 'outro') {
        } else {
          code > 0 ? js(('vast_' + x), code)  : js('vast_' + x)
        }
        if (exist(vast.events[x])) {
          for (var i = 0; i < vast.events[x].length; i++) {
            log('VAST ' + x);
            var stop = false;
            var gif = document.createElement('img');
            var z = vast.events[x][i];
            if (code > 0) {
              if (z.indexOf('[ERRORCODE]') > 0) {
                z = z.replace('[ERRORCODE]', code)
              }
            }
            z = VastReplace(z);
            if (!stop) {
              gif.setAttribute('src', z);
              gif.setAttribute('height', '1px');
              gif.setAttribute('width', '1px')
            }
          }
        }
      }
    }
    function AddEvnt(x, y) {
      if (!exist(vast.events[y])) {
        vast.events[y] = [
        ]
      }
      if (x) {
        var z = x.split(',');
        for (var i = 0; i < z.length; i++) {
          z[i] = z[i].replace(/\(random\)/g, random(1000, 2000));
          vast.events[y].push(z[i])
        }
      }
    }
    function VastReplace(x) {
      x = x.replace(/\(visibility\)/g, (exist(o.visibility) ? o.visibility : - 1));
      if (typeof v.vast_replace == 'object') {
        for (var y in v.vast_replace) {
          if (v.vast_replace.hasOwnProperty(y)) {
            x = x.replace(y, v.vast_replace[y])
          }
        }
      }
      return x
    }
    this.Ready = function () {
      o.actions.VastReady(vast)
    };
    this.disablePreload = function () {
      _preload = false
    };
    this.Status = function () {
      return _status
    }
  };
  var VastVideo = function () {
    var vast;
    var over = o.mousehere;
    var no = [
      'desktop',
      'mobile',
      'mobiletv',
      'tv',
      'lg',
      'winmob'
    ];
    o.vastcontainer = createElement('div');
    css(o.vastcontainer, {
      'position': 'absolute',
      'width': '100%',
      'height': '100%',
      'background-color': '#000000'
    });
    o.frame.appendChild(o.vastcontainer);
    if (!o.system.mobile) {
      o.vastcontainer.addEventListener('mouseover', onOver, false);
      o.vastcontainer.addEventListener('mouseleave', onOut, false)
    }
    var tag = createElement('video');
    o.vastcontainer.appendChild(tag);
    o.vastcontainer.style.zIndex = 1001;
    hide(o.vastcontainer);
    css(tag, {
      'autoplay': 1,
      'width': '100%',
      'height': '100%',
      'object-fit': 'contain',
      'min-height': 'auto',
      'max-height': 'none',
      'min-width': 'auto',
      'max-width': 'none'
    });
    attr(tag, {
      'preload': 'auto',
      'x-webkit-airplay': 'allow',
      'webkit-playsinline': true,
      'cursor': 'pointer',
      'playsinline': '1'
    });
    if (v.vast_unmutehover == 1 || v.vast_unmutebut == 1) {
      tag.muted = true;
      attr(tag, {
        'muted': 'true'
      })
    }
    var duration;
    var paused;
    var controls;
    var uiplay,
    uiplay2;
    var uibuffer;
    var uit;
    var uitxt;
    var uimute;
    var uiunmute;
    var uiunmutebut;
    var uiprogress;
    var uix;
    var uiskip;
    var vpaidframe;
    var vpaidslot;
    var vpaidslot2;
    var vpaid;
    var vpaid_int;
    var vpaidframe_int;
    var vpaid_t;
    var video_t;
    var vpaidvolume = 1;
    var vpaidvolume2;
    var vpaidstopped = false;
    var vpaidstarted = false;
    var vpaidskipped = false;
    var vpaidcompleted = false;
    var vpaidvideostarted = false;
    var vpaidquartile = false;
    var vpaid_int2;
    var removed = false;
    var imgtime = 0;
    var img_int;
    var _move = false;
    var unmuteicon = '<svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'><g><path fill=\'' + v.vast_volumecolor + '\' stroke-width=\'0\' d=\'m2.49931,6.8746l0,6.25079l3.10029,0l4.64114,4.37461l0.00276,-15l-4.64182,4.37461l-3.10237,0l0,-0.00001z\'/><path d=\'m18.125,12.20836l-2.20816,-2.20816l2.20776,-2.20816l-1.13498,-1.13579l-2.20816,2.20816l-2.20816,-2.20816l-1.13498,1.13579l2.20776,2.20816l-2.20816,2.20816l1.13579,1.13539l2.20776,-2.20816l2.20776,2.20816\' fill-opacity=\'null\' stroke-opacity=\'null\' stroke-width=\'0\' fill=\'' + v.vast_volumecolor + '\'/></g></svg>';
    var impression = false;
    var unmute_volume = 0;
    var slow_unmute;
    var js_events;
    var remove_t;
    var ytag;
    var youtube = false;
    var vimeo = false;
    var ytinterval;
    var start_timeout = true;
    var pp = tag.play();
    if (pp !== undefined) {
      pp.then(function () {
      }).catch (function (error) {
        if (error.message.indexOf('interact') > 0) {
          tag.muted = true;
          attr(tag, {
            'muted': 'true'
          })
        }
      })
    }
    this.break = function () {
      if (exist(uiplay)) {
        onError()
      }
    };
    this.Go = function (x) {
      tag.volume = 0.4;
      duration = 0;
      paused = false;
      controls = true;
      impression = false;
      vast = x;
      die_error = false;
      js_events = [
      ];
      show(o.vastcontainer);
      if (exist(vast.extensions.controls)) {
        if (vast.extensions.controls === 0 || vast.extensions.controls === '0') {
          controls = false
        }
      }
      if (vast.nocontrols == 1 || v.vast_nocontrols == 1) {
        controls = false
      }
      if (o.controls.SettingsVisible()) {
        o.controls.Settings()
      }
      if (exist(vast.prt)) {
        vast.prtg = 1
      }
      var stop = false;
      if (exist(vast.file)) {
        if (vast.file.indexOf('youtube.com/') > - 1 || vast.file.indexOf('youtu.be/') > - 1) {
          youtube = true
        }
        if (v.vimeo == 1 && vast.file.indexOf('vimeo.com/') > - 1) {
          vimeo = true
        }
        if (vast.adsystem == 'intro') {
          for (var i = 0; i < no.length; i++) {
            if (vast.file.indexOf('[no_' + no[i] + ']') > - 1) {
              vast.file = vast.file.replace('[no_' + no[i] + ']', '');
              if (o.system[no[i]]) {
                onError('no ' + no[i]);
                stop = true;
                break
              }
            }
          }
        }
      }
      if (!stop) {
        if (vast.isImg || vast.isVpaid || youtube || vimeo) {
          vpaidslot = createElement('div');
          o.vastcontainer.appendChild(vpaidslot);
          css(vpaidslot, {
            'position': 'absolute',
            'top': '0',
            'left': '0',
            'width': '100%',
            'height': '100%'
          })
        }
        if (youtube) {
          ytag = new MediaYoutube('intro' + vast.file, vpaidslot)
        }
        if (vimeo) {
          ytag = new MediaVimeo('intro' + vast.file, vpaidslot)
        }
        if (!youtube && !vimeo) {
          var elm = vast.isImg ? vpaidslot : tag;
          if (o.system.mobile) {
            elm.removeEventListener('touchstart', onTouchStart);
            elm.removeEventListener('touchmove', onTouchMove);
            elm.removeEventListener('touchend', onScreenClick)
          } else {
            elm.removeEventListener('click', onScreenClick)
          }
          var _clck = true;
          if (exist(vast.extensions.isClickable)) {
            _clck = vast.extensions.isClickable == 1
          }
          if (_clck) {
            if (o.system.mobile) {
              elm.addEventListener('touchend', onScreenClick);
              elm.addEventListener('touchstart', onTouchStart);
              elm.addEventListener('touchmove', onTouchMove)
            } else {
              elm.addEventListener('click', onScreenClick)
            }
          }
        }
        RemoveInterface();
        uiplay = createElement('div');
        css(uiplay, {
          'position': 'absolute',
          'top': '0',
          'left': '0',
          'width': '100%',
          'height': '100%',
          'display': 'none',
          'cursor': 'pointer',
          'z-index': 1
        });
        o.vastcontainer.appendChild(uiplay);
        uiplay2 = createElement('div');
        css(uiplay2, {
          'position': 'absolute',
          'top': '50%',
          'left': '50%',
          'margin-left': - 10,
          'margin-top': - 10,
          'cursor': 'pointer',
          'background': '#000',
          'border-radius': 20,
          'width': 20,
          'height': 20,
          'padding': '3px 2px 3px 4px',
          'zIndex': 1
        });
        if (o.system.safari && o.system.desktop) {
          css(uiplay2, {
            'zoom': '3'
          })
        } else {
          css(uiplay2, {
            'transform': 'scale(3)'
          })
        }
        uiplay2.innerHTML = '<svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'><g><path d=\'m4.59375,3.48438l-0.03125,13.03125l10.875,-6.51563l-10.84375,-6.51562z\' fill=\'#ffffff\'/></g></svg>';
        uiplay.appendChild(uiplay2);
        uiplay.onclick = onScreenClick;
        uibuffer = createElement('div');
        css(uibuffer, {
          'position': 'absolute',
          'top': '50%',
          'left': '50%',
          'margin-left': - 30,
          'margin-top': - 30,
          'pointerEvents': 'none',
          'zIndex': 1
        });
        uibuffer.innerHTML = '<div class=\'loader_' + v.id + 'pljsvast\'><svg class=\'circular_pljsvast\' viewBox=\'25 25 50 50\'><circle class=\'path_pljsvast\' stroke=\'#fff\' cx=\'50\' cy=\'50\' r=\'20\' fill=\'none\' stroke-width=\'2\' stroke-miterlimit=\'10\'/></svg></div>';
        var uibuffercss = '.loader_' + v.id + 'pljsvast {position: relative;margin: 0 auto;width: 50px;}.loader_' + v.id + 'pljsvast:before {content: \'\';display: block;padding-top: 100%;}.circular_pljsvast {-webkit-animation: rotate 2s linear infinite;animation: rotate 2s linear infinite;height: 100%;-webkit-transform-origin: center center;transform-origin: center center;width: 100%;position: absolute;top: 0;bottom: 0;left: 0;right: 0;margin: auto;}.path_pljsvast {stroke-dasharray: 1, 200;stroke-dashoffset: 0;-webkit-animation: dash 1.5s ease-in-out infinite;animation: dash 1.5s ease-in-out infinite;}@-webkit-keyframes rotate {100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}}@keyframes rotate {100% {-webkit-transform: rotate(360deg);transform: rotate(360deg);}}@-webkit-keyframes dash {0% {stroke-dasharray: 1, 200;stroke-dashoffset: 0;}50% {stroke-dasharray: 89, 200;stroke-dashoffset: -35px;}100% {stroke-dasharray: 89, 200;stroke-dashoffset: -124px;}}@keyframes dash {0% {stroke-dasharray: 1, 200;stroke-dashoffset: 0;}50% {stroke-dasharray: 89, 200;stroke-dashoffset: -35px;}100% {stroke-dasharray: 89, 200;stroke-dashoffset: -124px;}}';
        pushCSS(uibuffercss);
        o.vastcontainer.appendChild(uibuffer);
        vast.buffering = true;
        if (controls) {
          if (vast.introtitle == 0) {
          } else {
            if (v.vast_title == 1) {
              uit = createElement('div');
              css(uit, {
                'text-transform': 'uppercase',
                'letter-spacing': 2,
                'fontsize': 12,
                'color': v.vast_titlecolor,
                'position': 'absolute',
                'top': 0,
                'left': 0,
                'backgroundColor': v.vast_titlebgcolor,
                padding: '5px 8px 5px 8px',
                'box-sizing': 'border-box',
                'zIndex': 1
              });
              o.vastcontainer.appendChild(uit);
              uit.innerHTML = Lang('advertising') + (v['vast_' + o.vasttype + '_counter'] == 1 ? (o.adscounter <= o.adsinchain ? (o.adsinchain > 1 ? ' ' + o.adscounter + '/' + o.adsinchain : '')  : '')  : '')
            }
          }
          if (exist(vast.control_adlabel)) {
            if (vast.control_adlabel === '0') {
              css(uit, {
                'top': - 1000
              })
            } else {
              if (vast.control_adlabel !== '1') {
                if (vast.control_adlabel == 'TR' || vast.control_adlabel == 'BR') {
                  css(uit, {
                    'text-align': 'right'
                  })
                }
                if (vast.control_adlabel == 'TR' || vast.control_adlabel == 'TL') {
                  css(uit, {
                    'position': 'absolute',
                    'top': 0,
                    'left': 0
                  })
                } else {
                  css(uit, {
                    'position': 'absolute',
                    'bottom': 0,
                    'left': 0,
                    'top': 'auto'
                  })
                }
              }
            }
          }
          if (exist(vast.extensions.linkTxt)) {
            if ((o.system.mobile && v.vast_linktxtonmobile == 0) || vast.extensions.linkTxt == '') {
            } else {
              if (!exist(uitxt)) {
                uitxt = createElement('div');
                css(uitxt, {
                  'background': v.vast_linktxtbgcolor,
                  'padding': '7px 10px',
                  'position': 'absolute',
                  'bottom': 50,
                  'margin-left': 'auto',
                  'margin-right': 'auto',
                  'left': 0,
                  'right': 0,
                  'font-size': (o.system.mobile ? '12px' : '14px'),
                  'color': v.vast_linktxtcolor,
                  'border-radius': 3,
                  'display': 'table',
                  'width': '50%',
                  'text-align': 'center',
                  'cursor': 'pointer',
                  'zIndex': 1
                });
                uitxt.innerHTML = vast.extensions.linkTxt;
                o.vastcontainer.appendChild(uitxt);
                if (vast.click == '' && vast.isVpaid) {
                  css(uitxt, {
                    'pointer-events': 'none'
                  })
                } else {
                  uitxt.addEventListener('click', onInvite)
                }
                if (!o.mouseHere && !o.system.mobile) {
                  hide2(uitxt)
                }
              } else {
                show2(uitxt);
                uitxt.innerHTML = vast.extensions.linkTxt
              }
            }
          } else {
            if (exist(uitxt)) {
              hide2(uitxt)
            }
          }
          uimute = createElement('div');
          css(uimute, {
            'position': 'absolute',
            'bottom': 8,
            'right': 10,
            'text-align': 'center',
            'cursor': 'pointer',
            'transform': 'scale(1)',
            'background': v.vast_volumebgcolor,
            'border-radius': 30,
            'height': 30,
            'width': 30,
            'padding-top': 5,
            'box-sizing': 'border-box'
          });
          uimute.innerHTML = '<svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'><g><path fill=\'' + v.vast_volumecolor + '\' stroke-width=\'0\' d=\'m2.49931,6.8746l0,6.25079l3.10029,0l4.64114,4.37461l0.00276,-15l-4.64182,4.37461l-3.10237,0l0,-0.00001zm10.44167,-0.75275c-0.26762,-0.30766 -0.69733,-0.30766 -0.96359,0.00158c-0.26557,0.30925 -0.26557,0.80989 0.00136,1.11992l0,-0.00157c0.58769,0.68334 0.94997,1.62056 0.94997,2.66218c0,1.04083 -0.3616,1.97489 -0.94861,2.65823c-0.2683,0.30766 -0.2683,0.8083 -0.00136,1.11912c0.13279,0.15423 0.30713,0.23173 0.48146,0.23173c0.17501,0 0.34934,-0.0775 0.48213,-0.23173c0.83216,-0.9649 1.34835,-2.30548 1.34767,-3.77735c0.00068,-1.47504 -0.51755,-2.8172 -1.34903,-3.7821l0,-0.00001zm1.55246,-1.75907c-0.27124,0.30979 -0.27124,0.81211 0,1.12031c1.00334,1.14962 1.62195,2.73104 1.62195,4.4852c0,1.75256 -0.61861,3.3332 -1.62056,4.48361c-0.27125,0.30899 -0.27125,0.81053 0,1.12031c0.13493,0.1545 0.31208,0.23214 0.48991,0.23214c0.17713,0 0.35428,-0.07764 0.48921,-0.23214c1.25105,-1.43327 2.02674,-3.41876 2.02536,-5.60392c0.00069,-2.18675 -0.775,-4.17383 -2.02813,-5.60551c-0.27194,-0.30979 -0.70857,-0.30979 -0.97774,0z\'/></g></svg>';
          uiunmute = createElement('div');
          css(uiunmute, {
            'position': 'absolute',
            'bottom': 8,
            'right': 10,
            'text-align': 'center',
            'cursor': 'pointer',
            'transform': 'scale(1)',
            'display': 'none',
            'background': v.vast_volumebgcolor,
            'border-radius': 30,
            'height': 30,
            'width': 30,
            'padding-top': 5,
            'box-sizing': 'border-box',
            'zIndex': 1
          });
          uiunmute.innerHTML = unmuteicon;
          o.vastcontainer.appendChild(uimute);
          o.vastcontainer.appendChild(uiunmute);
          uimute.onclick = onMute;
          uiunmute.onclick = onUnmute;
          if (exist(vast.control_soundbtn)) {
            if (vast.control_soundbtn === '0') {
              hide(uimute);
              hide(uiunmute);
              css(uimute, {
                'top': - 1000
              });
              css(uiunmute, {
                'top': - 1000
              })
            } else {
              if (vast.control_soundbtn !== '1') {
                css(uimute, {
                  'top': 'auto',
                  'right': 'auto',
                  'bottom': 'auto',
                  'left': 'auto'
                });
                css(uiunmute, {
                  'top': 'auto',
                  'right': 'auto',
                  'bottom': 'auto',
                  'left': 'auto'
                });
                if (vast.control_soundbtn == 'TR') {
                  css(uimute, {
                    'top': 8,
                    'right': 10
                  });
                  css(uiunmute, {
                    'top': 8,
                    'right': 10
                  })
                }
                if (vast.control_soundbtn == 'TL') {
                  css(uimute, {
                    'top': 8,
                    'left': 10
                  });
                  css(uiunmute, {
                    'top': 8,
                    'left': 10
                  })
                }
                if (vast.control_soundbtn == 'BL') {
                  css(uimute, {
                    'bottom': 8,
                    'left': 10
                  });
                  css(uiunmute, {
                    'bottom': 8,
                    'left': 10
                  })
                }
              }
            }
          }
          uiprogress = createElement('div');
          o.vastcontainer.appendChild(uiprogress);
          uiprogress.innerHTML = '<svg id="pljsvastprogress_' + v.id + '" width="20" height="20" viewPort="0 0 10 10" version="1.1" xmlns="http://www.w3.org/2000/svg"><circle r="9" cx="10" cy="10" fill="transparent" stroke-dasharray="56.48" stroke-dashoffset="0" stroke-width="2" style="stroke:' + v.vast_progresscolor + ';opacity:0.3"></circle><circle id="pljsvastprogressbar_' + v.id + '" r="9" cx="10" cy="10" fill="transparent" stroke-dasharray="56.48" stroke-dashoffset="0" stroke-width="2" style="stroke:' + v.vast_progresscolor + ';opacity:0;-webkit-transform-origin: center center;transform-origin: center center;"></circle>';
          css(uiprogress, {
            'background': v.vast_progressbgcolor,
            'border-radius': 30,
            'padding': 5,
            'width': 20,
            'height': 20,
            'font-color': v.vast_progresscolor,
            'position': 'absolute',
            'bottom': 8,
            'left': 10,
            'transform': 'rotate(-90deg)',
            'transform-origin': 'center center',
            'zIndex': 1
          });
          if (exist(vast.control_logo)) {
            if (vast.control_logo === '0') {
              css(uiprogress, {
                'top': - 1000
              })
            } else {
              css(uiprogress, {
                'position': 'absolute',
                'bottom': 8,
                'left': 10
              })
            }
          }
          uix = createElement('div');
          css(uix, {
            'position': 'absolute',
            'top': - 100,
            'right': 0,
            'width': 40,
            'height': 40,
            'padding': 10,
            'color': v.vast_xcolor,
            'opacity': 0,
            'visibilty': 'hidden',
            'transition': 'opacity 0.2s linear',
            'cursor': 'pointer',
            'background-color': v.vast_xbgcolor,
            'box-sizing': 'border-box',
            'zIndex': 1
          });
          uix.innerHTML = '<svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'><g><path d=\'M19.25,0.75 L0.75,19.25 L19.25,0.75 Z\' stroke=\'#FFFFFF\' stroke-width=\'3\' stroke-linecap=\'square\'></path><path d=\'M0.75,0.75 L19.25,19.25 L0.75,0.75 Z\' stroke=\'#FFFFFF\' stroke-width=\'3\' stroke-linecap=\'square\'></path></g></svg>';
          o.vastcontainer.appendChild(uix);
          uix.onclick = onClose;
          uiskip = createElement('div');
          css(uiskip, {
            'background': v.vast_skipbgcolor,
            'padding': '5px 10px',
            'position': 'absolute',
            'bottom': 10,
            'left': 50,
            'font-size': '16px',
            'color': v.vast_skipcolor,
            'visibilty': 'hidden',
            'opacity': 0,
            'transition': 'opacity 0.2s linear',
            'border-radius': 3,
            'display': 'none',
            'zIndex': 1
          });
          uiskip.innerHTML = Lang('skip');
          o.vastcontainer.appendChild(uiskip);
          if (exist(vast.extensions)) {
            if (exist(vast.extensions.skipTime)) {
              if (vast.extensions.skipTime > 0 && vast.extensions.skipTime < 100) {
                uiskip.innerHTML = Lang('skipfrom') + vast.extensions.skipTime;
                css(uiskip, {
                  'bottom': 10,
                  'border': '0',
                  'cursor': 'default',
                  'font-size': '10px',
                  'visibility': 'visible',
                  'opacity': 1,
                  'display': 'block'
                })
              }
            }
          }
          if (exist(vast.control_countdown)) {
            if (vast.control_countdown === '0') {
              css(uiskip, {
                'bottom': - 100
              })
            } else {
              if (vast.control_countdown !== '1') {
                css(uiprogress, {
                  'top': 'auto',
                  'right': 'auto',
                  'bottom': 'auto',
                  'left': 'auto'
                });
                css(uiskip, {
                  'top': 'auto',
                  'right': 'auto',
                  'bottom': 'auto',
                  'left': 'auto'
                });
                if (vast.control_countdown == 'TR') {
                  css(uiprogress, {
                    'top': 8,
                    'right': 10
                  });
                  css(uiskip, {
                    'top': 10,
                    'right': 50
                  });
                  css(uix, {
                    'top': 0,
                    'left': 0,
                    'right': 'auto'
                  })
                }
                if (vast.control_countdown == 'TL') {
                  css(uiprogress, {
                    'top': 8,
                    'left': 10
                  });
                  css(uiskip, {
                    'top': 10,
                    'left': 50
                  })
                }
                if (vast.control_countdown == 'BR') {
                  css(uiprogress, {
                    'bottom': 8,
                    'right': 10
                  });
                  css(uiskip, {
                    'bottom': 10,
                    'right': 50
                  })
                }
              }
            }
          }
        }
        if (v.vast_unmutebut == 1) {
          uiunmutebut = createElement('div');
          css(uiunmutebut, {
            'background': v.vast_unmutebutbgcolor,
            'padding': '11px 10px 6px 20px',
            'position': 'absolute',
            'top': '50%',
            'left': - 200,
            'font-size': '16px',
            'margin': '-20px 0 0 -5px',
            'color': v.vast_unmutebutcolor,
            'border-radius_': 20,
            'cursor': 'pointer',
            'zIndex': 1
          });
          o.vastcontainer.appendChild(uiunmutebut);
          var unmutebuticon = unmuteicon;
          var rg = RegExp(v.vast_volumecolor, 'g');
          unmutebuticon = unmutebuticon.replace(rg, v.vast_unmutebutcolor);
          uiunmutebut.innerHTML = Lang('unmutevideo') + ' &nbsp; <span style="float:right;margin-top:-2px">' + unmutebuticon + '</span>';
          uiunmutebut.onclick = onUnmute;
          var m = new Motion({
            'mc': uiunmutebut,
            'me': 'uiunmutebut',
            'type': 'left',
            'to': 0
          })
        }
        js3('vast_system', vast.adsystem);
        js3('vast_url', vast.vasturl);
        js3('vast_info', VastInfo());
        if (vast.isImg) {
          hide2(uimute);
          hide2(uiunmute);
          var image = new Image();
          image.onload = function () {
            vpaidslot.style.backgroundImage = 'url(\'' + vast.file + '\')';
            vpaidslot.style.backgroundSize = 'cover';
            imgtime = 0;
            exist(vast.duration) ? duration = vast.duration : duration = 10;
            img_int = setInterval(onTimeupdate, 100);
            onTimeupdate();
            Event('start', true)
          };
          image.onerror = function () {
            onError(405)
          };
          image.src = vast.file
        }
        vpaidstopped = false;
        vpaidskipped = false;
        vpaidcompleted = false;
        vpaidstarted = false;
        vpaidvideostarted = false;
        vpaidquartile = false;
        if (vast.isVpaid) {
          vpaidframe = document.createElement('iframe');
          vpaidframe.id = 'pljsvpaid';
          vpaidframe.allow = 'autoplay';
          vpaidframe.scrolling = 'no';
          vpaidframe.src = '';
          if (v.vpaid_slotinframe == 1) {
            css(vpaidframe, {
              'position': 'absolute',
              'top': '0',
              'left': '0',
              'width': '100%',
              'height': '100%',
              'border': 0
            });
            hide2(vpaidslot)
          } else {
            css(vpaidframe, {
              'width': 0,
              'height': 0
            })
          }
          o.vastcontainer.appendChild(vpaidframe);
          vpaidframe_int = setInterval(vpaidframeloaded, 100);
          js2('vpaidframe');
          var vpaidtimer = 0;
          vpaid_int = setInterval(function () {
            vpaidtimer++;
            if (vpaidframe.contentWindow) {
              var fn = vpaidframe.contentWindow['getVPAIDAd'];
              if (fn && typeof fn == 'function') {
                vpaid = fn();
                clearInterval(vpaid_int);
                if (vpaid) {
                  Vpaid()
                } else {
                  onError(900)
                }
              } else {
                if (vpaidtimer > 10) {
                  log('VPAID timeout');
                  clearInterval(vpaid_int);
                  !die_error ? onError(901)  : ''
                }
              }
            }
          }, 300);
          clearTimeout(vpaid_t);
          vpaid_t = setTimeout(vpaidLoadTimeout, v.vast_timeout * 1000)
        }
        if (!vast.isVpaid && !vast.isImg) {
          if (youtube || vimeo) {
            CheckMuteStart()
          } else {
            tag.addEventListener('loadstart', onLoadStart);
            tag.addEventListener('error', onTagError);
            tag.addEventListener('ended', onEnded);
            tag.addEventListener('playing', onPlay);
            tag.addEventListener('timeupdate', onTimeupdate);
            tag.addEventListener('seeking', onSeeking);
            tag.addEventListener('seeked', onSeeked);
            tag.addEventListener('volumechange', onVolume);
            tag.addEventListener('waiting', onWaiting);
            tag.addEventListener('durationchange', onDuration);
            tag.addEventListener('progress', onProgress);
            attr(tag, {
              'src': x.file
            });
            if (v.vast_volume != - 1) {
              tag.volume = v.vast_volume
            } else {
              tag.volume = v.volume
            }
            CheckMuteStart();
            var playPromise = tag.play();
            if (playPromise !== undefined) {
              playPromise.then(function () {
              }).catch (function (error) {
                log('playError VAST', error.message);
                if (error.message.indexOf('user denied permission') > 0 || vast.pause_mute == 1) {
                  Pause(true)
                } else {
                  if (!die_error && !removed) {
                    onMute();
                    tag.play()
                  }
                }
              })
            }
            video_t = setTimeout(tagTimeout, v.vast_timeout * 1000)
          }
        }
        setTimeout(startTimeout, 500)
      }
    };
    function vpaidframeloaded() {
      try {
        if (vpaidframe.contentWindow) {
          clearInterval(vpaidframe_int);
          js2('vpaidframeloaded');
          var xjs = document.createElement('script');
          xjs.async = true;
          xjs.src = vast.file;
          var s0 = vpaidframe.contentWindow.document.getElementsByTagName('head') [0].appendChild(xjs);
          vpaidframe.contentWindow.document.close()
        }
      } catch (e) {
        log('VPAID frame error');
        onError(901)
      }
    }
    function CheckMuteStart() {
      if (v.vast_volume == 0 || (o.muted && v.vast_resound != 1) || vast.mute == 1 || vast.mutedautoplay == 1 || (v.vast_unmutehover == 1 && !o.mouseHere && !o.system.mobile) || tag.muted) {
        onMute()
      }
    }
    function startTimeout() {
      start_timeout = false
    }
    function onLoadStart() {
    }
    this.ytReady = function () {
      duration = ytag.duration();
      js3('vast_duration', duration);
      StopBuffering();
      ytinterval = setInterval(this.timeUpdate, 500);
      if (v.vast_volume == 0 || o.muted || (v.vast_unmutehover == 1 && !o.system.mobile)) {
        onMute()
      }
    };
    this.ytError = function () {
      onError()
    };
    this.ytWaiting = function () {
      onWaiting()
    };
    this.ytWaited = function () {
      StopBuffering()
    };
    this.ytEnded = function () {
      onEnded()
    };
    var die_error = false;
    function onOver() {
      if (!over) {
        if (uitxt) {
          show2(uitxt)
        }
        if (v.vast_unmutehover == 1 && !o.system.mobile) {
          onUnmute();
          if (v.vast_unmuteonce == 1) {
            v.vast_unmutehover = 0
          }
        }
      }
      over = true
    }
    function onOut() {
      if (over) {
        if (uitxt) {
          hide2(uitxt)
        }
        if (v.vast_unmutehover == 1 && !o.system.mobile) {
          clearInterval(slow_unmute);
          onMute()
        }
      }
      over = false
    }
    function onTagError() {
      var errorCode = tag.error.code;
      if (errorCode == 4) {
        onError(403)
      } else {
        onError(405)
      }
    }
    function onError(x) {
      if (!die_error && !removed) {
        die_error = true;
        log('VAST video playing error ' + x);
        if (vpaid) {
          for (var eventName in vpaidCallbacks) {
            if (vpaidCallbacks.hasOwnProperty(eventName)) {
              vpaid.unsubscribe(vpaidCallbacks[eventName], eventName)
            }
          }
        }
        Event('Error', false, x > 0 ? x : 400);
        clearInterval(vpaid_int);
        clearInterval(vpaidframe_int);
        clearTimeout(vpaid_t);
        clearTimeout(video_t);
        o.actions.VastError()
      }
    }
    function RemoveAndPlay() {
      Event('remove');
      clearTimeout(remove_t);
      if (!removed) {
        removed = true;
        o.actions.VastRemoveAndPlay()
      }
    }
    function onEnded() {
      if (!vpaidcompleted) {
        Event('complete', true)
      }
      RemoveAndPlay()
    }
    function onClose() {
      Event('close', true);
      var d = new Date();
      o.clicktime = d.getTime();
      o.vastclick = true;
      gaTracker('vast_skip', 'VAST Skip', false);
      v['vast_' + o.vasttype + 'skipor'] == 1 ? o.actions.VastNext()  : RemoveAndPlay()
    }
    function onSkip() {
      var d = new Date();
      o.clicktime = d.getTime();
      o.vastclick = true;
      log('VAST Skip');
      gaTracker('vast_skip', 'VAST Skip', false);
      if (!vpaidskipped && vpaid && vast.isVpaid) {
        log('VPAID Skip request');
        vpaid.skipAd()
      } else {
        Event('skipAd', true);
        v['vast_' + o.vasttype + 'skipor'] == 1 ? o.actions.VastNext()  : RemoveAndPlay()
      }
    }
    function onInvite() {
      Event('addClick');
      Event('acceptInvitation', false);
      onClick()
    }
    function onMute() {
      var stop = false;
      log((vast.isVpaid ? 'VPAID' : 'VAST') + ' Mute');
      if (youtube || vimeo) {
        ytag.Mute()
      } else {
        if (!vast.isVpaid) {
          Event('mute');
          tag.muted = true
        } else {
          if (vpaid) {
            vpaid.getAdVolume() > 0 ? vpaidvolume = vpaid.getAdVolume()  : vpaidvolume = v.vast_volume;
            vpaid.setAdVolume(0)
          } else {
            stop = true
          }
        }
      }
      if (!stop && exist(uimute)) {
        hide2(uimute);
        show2(uiunmute)
      }
    }
    function onUnmute() {
      var stop = false;
      if (youtube || vimeo) {
        ytag.Unmute();
        Event('unmute')
      } else {
        if (!vast.isVpaid) {
          tag.muted = false;
          if (unmute_volume == 0) {
            unmute_volume = tag.volume;
            unmute_volume < 0.3 ? unmute_volume = v.vast_default_volume : ''
          }
          tag.volume = 0;
          clearInterval(slow_unmute);
          slow_unmute = setInterval(SlowUnMute, 200)
        } else {
          if (vpaid) {
            if (unmute_volume == 0) {
              unmute_volume = vpaidvolume;
              unmute_volume < 0.3 ? unmute_volume = v.vast_default_volume : ''
            }
            vpaid.setAdVolume(0);
            clearInterval(slow_unmute);
            slow_unmute = setInterval(SlowUnMute, 200)
          } else {
            stop = true
          }
        }
      }
      if (v.vast_unmutebut == 1 && uiunmutebut) {
        var m = new Motion({
          'mc': uiunmutebut,
          'me': 'uiunmutebut',
          'type': 'left',
          'to': - 200,
          'hide': true
        });
        v.vast_unmutebutonce == 1 ? v.vast_unmutebut = 0 : ''
      }
      if (!stop && exist(uimute)) {
        hide2(uiunmute);
        show2(uimute)
      }
    }
    function SlowUnMute() {
      v.vast_volume = unmute_volume;
      if (!vast.isVpaid) {
        if (tag.volume < unmute_volume && tag.volume < 0.95) {
          tag.volume += 0.1
        } else {
          unmute_volume = 0;
          clearInterval(slow_unmute);
          Event('unmute')
        }
      } else {
        var x = vpaid.getAdVolume();
        if (x < unmute_volume && x < 0.99) {
          vpaid.setAdVolume(parseFloat(x) + 0.1)
        } else {
          unmute_volume = 0;
          clearInterval(slow_unmute);
          Event('unmute')
        }
      }
    }
    function onTouchStart() {
      _move = false
    }
    function onTouchMove() {
      _move = true
    }
    function onScreenClick() {
      var stop = false;
      if (o.system.mobile) {
        if (_move) {
          stop = true
        }
      }
      if (!stop) {
        if (paused) {
          if (vast.isVpaid) {
            if (vpaid) {
              vpaid.resumeAd();
              hide2(uiplay);
              paused = false
            }
          }
          if (vast.isImg) {
            img_int = setInterval(onTimeupdate, 100);
            onTimeupdate();
            hide2(uiplay);
            paused = false
          }
          if (!vast.isVpaid && !vast.isImg) {
            if (youtube || vimeo) {
              ytag.Play()
            } else {
              tag.play()
            }
            Event('resume');
            hide2(uiplay);
            paused = false
          }
          if (uitxt) {
            show2(uitxt)
          }
        } else {
          onClick()
        }
      }
      v.vast_unmuteonclick == 1 ? onUnmute()  : ''
    }
    function onClick() {
      if (!start_timeout) {
        var d = new Date();
        o.clicktime = d.getTime();
        Event('click');
        if (v.vast_addclick == 1) {
          Event('addClick')
        }
        gaTracker('vast_click', 'VAST Click', false);
        var x = false;
        if (exist(vast.click)) {
          if (vast.click != '') {
            js2('vast_clickurl', vast.click);
            v.vast_openclick == 1 ? window.open(vast.click, '_blank')  : '';
            x = true
          }
        }
        if (v.vast_pauseonclick == 1) {
          Pause(x)
        } else {
          if (v.vast_closeonclick == 1) {
            x ? o.actions.VastRemoveAndPlay('dontplay')  : ''
          }
        }
      }
    }
    function onPlay() {
      onTimeupdate();
      Event('start', true)
    }
    function Pause(x) {
      if (vast.isVpaid) {
        if (vpaid) {
          vpaid.pauseAd();
          if (controls) {
            show2(uiplay)
          }
          paused = true
        }
      }
      if (vast.isImg) {
        clearInterval(img_int);
        if (controls) {
          show2(uiplay)
        }
        paused = true
      }
      if (!vast.isVpaid && !vast.isImg) {
        if (x) {
          if (youtube || vimeo) {
            ytag.Pause()
          } else {
            tag.pause()
          }
          Event('pause');
          show2(uiplay);
          paused = true
        }
      }
      if (uitxt) {
        hide2(uitxt)
      }
      StopBuffering()
    }
    this.timeUpdate = function () {
      onTimeupdate()
    };
    function CurrentTime() {
      var t = 0;
      if (youtube || vimeo) {
        t = ytag.time()
      } else {
        if (vast.isImg) {
          t = imgtime;
          imgtime += 0.1
        } else {
          t = tag.currentTime
        }
      }
      return t
    }
    function CurrentVolume() {
      if (!vast.isVpaid) {
        return tag.muted ? 0 : tag.volume
      } else {
        if (vpaid) {
          return vpaid.getAdVolume()
        }
      }
    }
    function onTimeupdate() {
      var t = CurrentTime();
      if (!impression) {
        onImpression();
        impression = true
      }
      if (exist(vast.events['firstQuartile'])) {
        if (t > duration / 4) {
          Event('firstQuartile', true)
        }
      }
      if (exist(vast.events['midpoint'])) {
        if (t > duration / 2) {
          Event('midpoint', true)
        }
      }
      if (exist(vast.events['thirdQuartile'])) {
        if (t > (duration / 4) * 3) {
          Event('thirdQuartile', true)
        }
      }
      onTimeupdateExtensions(t);
      if (t > 0) {
        StopBuffering()
      }
      if (o.vasttype == undefined) {
        if (vast.adsystem == 'intro') {
          o.vasttype = 'preroll'
        }
        if (vast.adsystem == 'outro') {
          o.vasttype = 'postroll'
        }
      }
      if (vast.isImg) {
        if (t > duration) {
          onEnded()
        }
      }
    }
    function onTimeupdateExtensions(x) {
      js3('vast_time', x);
      if (controls && exist(vast.extensions)) {
        if (exist(vast.extensions.skipTime)) {
          if (vast.extensions.skipTime > - 1 && vast.extensions.skipTime < 100 && uiskip) {
            if (x > vast.extensions.skipTime) {
              js3('vast_skipTime', vast.extensions.skipTime);
              uiskip.innerHTML = Lang('skip');
              css(uiskip, {
                'cursor': 'pointer',
                'font-size': '16px',
                'visibility': 'visible',
                'opacity': 1,
                'display': 'block'
              });
              uiskip.onclick = onSkip;
              delete vast.extensions.skipTime
            } else {
              uiskip.innerHTML = Lang('skipfrom') + (Math.round(vast.extensions.skipTime - x))
            }
          }
        }
        if (exist(vast.sec)) {
          for (var i = 0; i < vast.sec.length; i++) {
            if (x >= vast.sec[i] && vast.sec[i] > - 1) {
              Event('second' + vast.sec[i], true);
              vast.sec[i] = - 1
            }
          }
        }
        if (exist(vast.extensions.skipTime2)) {
          if (vast.extensions.skipTime2 > - 1) {
            if (x > vast.extensions.skipTime2) {
              js3('vast_skipTime2', vast.extensions.skipTime2);
              Event('skipTime2');
              uix ? css(uix, {
                'top': 0,
                'visibility': 'visible',
                'opacity': 1,
                'display': 'block'
              })  : '';
              delete vast.extensions.skipTime2
            }
          }
        }
      }
      if (controls && duration > 0) {
        var val = parseInt(x / duration * 100);
        var circle = document.getElementById('pljsvastprogressbar_' + v.id);
        if (circle) {
          if (isNaN(val)) {
            val = 100
          } else {
            var r = circle.getAttribute('r');
            var c = Math.PI * (r * 2);
            if (val < 0) {
              val = 0
            }
            if (val > 100) {
              val = 100
            }
            var pct = ((100 - val) / 100) * c;
            css(circle, {
              'opacity': 1,
              'strokeDashoffset': pct
            })
          }
        }
      }
    }
    function onSeeking() {
    }
    function onSeeked() {
    }
    function onImpression() {
      if (!die_error) {
        Event('Impression', true);
        Event('creativeView', true);
        gaTracker('vast_impression', 'VAST Impression', false);
        if (v['vast_' + (vast.adsystem == 'intro' || vast.adsystem == 'outro' ? 'intro' : o.vasttype) + 'timebreak'] > 0) {
          StoreImpression()
        }
        impression = true;
        o.vast_impressions++
      }
    }
    function onDuration() {
      duration = tag.duration;
      js3('vast_duration', duration)
    }
    function onVolume() {
      js3('vast_volume', VastInfo())
    }
    function onProgress(event) {
    }
    var vpaidCallbacks = {
      AdStarted: vpaidStartAd,
      AdStopped: vpaidStopAd,
      AdSkipped: vpaidSkipAd,
      AdLoaded: vpaidAdLoaded,
      AdLinearChange: vpaidAdLinearChange,
      AdSizeChange: vpaidAdSizeChange,
      AdExpandedChange: vpaidAdExpandedChange,
      AdSkippableStateChange: vpaidAdSkippableStateChange,
      AdDurationChange: vpaidAdDurationChange,
      AdRemainingTimeChange: vpaidAdRemainingTimeChange,
      AdVolumeChange: vpaidAdVolumeChange,
      AdImpression: vpaidAdImpression,
      AdClickThru: vpaidAdClickThru,
      AdInteraction: vpaidAdInteraction,
      AdVideoStart: vpaidAdVideoStart,
      AdVideoFirstQuartile: vpaidAdVideoFirstQuartile,
      AdVideoMidpoint: vpaidAdVideoMidpoint,
      AdVideoThirdQuartile: vpaidAdVideoThirdQuartile,
      AdVideoComplete: vpaidAdVideoComplete,
      AdUserAcceptInvitation: vpaidAdUserAcceptInvitation,
      AdUserMinimize: vpaidAdUserMinimize,
      AdUserClose: vpaidAdUserClose,
      AdPaused: vpaidAdPaused,
      AdPlaying: vpaidAdPlaying,
      AdError: vpaidAdError,
      AdLog: vpaidAdLog,
      AdViewable: vpaidAdViewable
    };
    function Vpaid() {
      if (typeof vpaid.handshakeVersion == 'function') {
        for (var eventName in vpaidCallbacks) {
          if (vpaidCallbacks.hasOwnProperty(eventName)) {
            vpaid.subscribe(vpaidCallbacks[eventName], eventName, this)
          }
        }
        if (v.vpaid_slotinframe == 1) {
          vpaidslot2 = document.createElement('div');
          vpaidframe.contentDocument.body.appendChild(vpaidslot2);
          css(vpaidslot2, {
            'position': 'absolute',
            'top': '0',
            'left': '0',
            'width': '100%',
            'height': '100%'
          })
        }
        vpaid.initAd(o.screen_w, o.screen_h, (o.fullscreen ? 'fullscreen' : 'normal'), 720, (exist(vast.adparameters) ? {
          'AdParameters': vast.adparameters
        }
         : ''), {
          'slot': (v.vpaid_slotinframe == 1 ? vpaidslot2 : vpaidslot),
          'videoSlot': tag,
          'videoSlotCanAutoPlay': true
        });
        vpaidslot.style.zIndex = 0
      } else {
        log('VPAID incorrect');
        onError(901)
      }
    };
    function vpaidAdLog(x) {
      log('VPAID Log: ' + x)
    }
    function vpaidAdViewable() {
      Event('viewable', true)
    }
    function vpaidAdError(x) {
      if (!vpaidcompleted) {
        log('VPAID Error', x);
        if (typeof x == 'object' && v.log == 1) {
          console.log(x)
        }
        onError(901)
      } else {
        log('VPAID Error but completed', x);
        vpaidStopAd()
      }
    }
    function vpaidAdLoaded() {
      log('VPAID Loaded, ad ' + vpaid.getAdLinear());
      if (vpaid.getAdLinear() != 'nonlinear') {
        clearTimeout(vpaid_t);
        vpaid_t = setTimeout(vpaidVideoTimeout, v.vpaid_timeout * 1000);
        StopBuffering();
        StartVpaidVolume();
        vpaid.startAd();
        vpaid_int2 = setInterval(vpaidAdRemainingTimeChange, 1000);
        vpaidAdRemainingTimeChange()
      } else {
        vpaidAdError('Nonlinear')
      }
    }
    function StartVpaidVolume() {
      if (v.vast_volume == 0 || vast.mute == 1 || (v.vast_unmutehover == 1 && !o.system.mobile && o.mouseHere != 1)) {
        if (vpaid.getAdVolume() > 0) {
          onMute()
        }
      } else {
        if (v.vast_volume != - 1) {
          vpaid.setAdVolume(parseFloat(v.vast_volume))
        } else {
          vpaid.setAdVolume(parseFloat(v.volume))
        }
      }
      if (vpaid.getAdVolume() == 0 && controls) {
        hide2(uimute);
        show2(uiunmute)
      }
    }
    function StopBuffering() {
      if (vast.buffering) {
        uibuffer ? hide2(uibuffer)  : '';
        vast.buffering = false
      }
    }
    function onWaiting() {
      uibuffer ? show2(uibuffer)  : '';
      vast.buffering = true
    }
    function vpaidStartAd() {
      vpaidstarted = true;
      v.vpaidvideotimeout != 1 ? vpaidvideostarted = true : '';
      duration = vpaid.getAdDuration();
      if (exist(vast.duration)) {
        if (vast.duration >= vpaid.getAdRemainingTime()) {
          duration = vast.duration
        }
      }
      if (duration >= 5000) {
        duration = duration / 1000
      }
      js3('vast_duration', duration);
      js_events = [
      ];
      log('VPAID Started');
      Event('creativeView', true);
      StopBuffering()
    }
    function vpaidVideoTimeout() {
      if (!vpaidvideostarted && !die_error) {
        log('VPAID timeout');
        onError(901)
      }
    }
    function vpaidQuartileTimeout() {
      if (!vpaidquartile && !die_error && !paused) {
        log('VPAID quartile timeout');
        onError(901)
      }
    }
    function tagTimeout() {
      if (!die_error && tag.currentTime == 0 && duration == 0) {
        log('VAST video loading timeout');
        onError(402)
      }
    }
    function vpaidLoadTimeout() {
      if (!vpaidvideostarted && !die_error) {
        log('VPAID loading timeout');
        onError(901)
      }
    }
    function vpaidStopAd() {
      if (!removed) {
        log('VPAID Stopped', vpaidstopped);
        if (!vpaidstopped) {
          log('VPAID Stopped');
          vpaidstopped = true;
          if (vpaidcompleted || vpaidskipped) {
            RemoveAndPlay()
          } else {
            remove_t = setTimeout(RemoveAndPlay, 500)
          }
        }
      }
    }
    function vpaidSkipAd() {
      log('VPAID Skipped');
      vpaidskipped = true;
      onSkip()
    }
    function vpaidAdSizeChange() {
      log('VPAID SizeChanged: ' + vpaid.getAdWidth() + ' x ' + vpaid.getAdHeight())
    }
    function vpaidAdExpandedChange() {
      log('VPAID ExpandedChange: ' + vpaid.getAdExpanded())
    }
    function vpaidAdSkippableStateChange() {
      if (controls) {
        log('VPAID AdSkippableStateChange: ' + vpaid.getAdSkippableState());
        if (vpaid.getAdSkippableState()) {
          css(uiskip, {
            'border': '1px solid #333',
            'cursor': 'pointer',
            'font-size': '16px',
            'visibility': 'visible',
            'opacity': 1,
            'display': 'block'
          });
          uiskip.onclick = onSkip
        } else {
          hide(uiskip)
        }
      }
    }
    function vpaidAdDurationChange() {
      log('VPAID DurationChanged: ' + vpaid.getAdDuration());
      if (vpaid.getAdDuration() > 0) {
        duration = vpaid.getAdDuration();
        js3('vast_duration', duration)
      }
    }
    function vpaidAdRemainingTimeChange(event) {
      if (event) {
        clearInterval(vpaid_int2)
      }
      if (duration == 0) {
        if (vpaid.getAdRemainingTime() > 0) {
          duration = vpaid.getAdRemainingTime();
          js3('vast_duration', duration)
        }
      }
      if (duration > 0 && vpaid.getAdRemainingTime() > 0) {
        onTimeupdateExtensions(duration - vpaid.getAdRemainingTime())
      }
    }
    function vpaidAdVolumeChange() {
      if (vpaid.getAdVolume() != undefined) {
        if (vpaid.getAdVolume() == 0) {
          Event('mute');
          vpaidvolume2 = 0
        } else {
          vpaidvolume2 == 0 ? Event('unmute')  : '';
          vpaidvolume2 = vpaid.getAdVolume()
        }
      }
      log('VPAID VolumeChanged: ' + vpaid.getAdVolume())
    }
    function vpaidAdImpression() {
      if (vast.vpaidImOnVdSrt != 1) {
        vpaidImpression()
      }
    }
    function vpaidImpression() {
      vpaidcompleted = false;
      log('VPAID Impression', duration);
      Event('Impression', true);
      o.vast_impressions++;
      gaTracker('vast_impression', 'VAST Impression', false);
      if (v.vpaid_timeout2 > - 1) {
        clearTimeout(vpaid_t);
        vpaid_t = setTimeout(vpaidVideoTimeout, v.vpaid_timeout2 * 1000)
      }
    }
    function vpaidAdClickThru(x) {
      log('VPAID ClickThru');
      if (exist(x)) {
        if (typeof x == 'string') {
          if (x.indexOf('//') > - 1) {
            vast.click = x
          }
        }
      }
      if (exist(vast.extensions.isClickable)) {
        if (vast.extensions.isClickable == 1) {
          onClick()
        } else {
          Event('click')
        }
      } else {
        onClick()
      }
    }
    function vpaidAdInteraction() {
    }
    function vpaidAdVideoStart() {
      if (vast.vpaidImOnVdSrt == 1) {
        vpaidImpression()
      }
      log('VPAID AdVideoStart');
      vpaidvideostarted = true;
      clearTimeout(vpaid_t);
      if (v.vpaid_timeout3 > - 1) {
        vpaid_t = setTimeout(vpaidQuartileTimeout, v.vpaid_timeout3 * 1000)
      }
      Event('start', false)
    }
    function vpaidAdVideoFirstQuartile() {
      vpaidquartile = true;
      log('VPAID firstQuartile');
      Event('firstQuartile', false)
    }
    function vpaidAdVideoMidpoint() {
      log('VPAID midpoint');
      Event('midpoint', false)
    }
    function vpaidAdVideoThirdQuartile() {
      log('VPAID thirdQuartile');
      Event('thirdQuartile', false)
    }
    function vpaidAdVideoComplete() {
      if (!vpaidcompleted) {
        Event('complete', false);
        vpaidcompleted = true
      }
      log('VPAID complete')
    }
    function vpaidAdLinearChange() {
      log('VPAID linear has changed: ' + vpaid.getAdLinear())
    }
    function vpaidAdUserAcceptInvitation() {
      Event('acceptInvitation', false)
    }
    function vpaidAdUserMinimize() {
    }
    function vpaidAdUserClose() {
      var d = new Date();
      o.clicktime = d.getTime();
      Event('close', true);
      o.vastclick = true;
      gaTracker('vast_skip', 'VAST Skip', false)
    }
    function vpaidAdPaused() {
      if (vast.isVpaid && vpaidcompleted) {
      } else {
        Event('pause');
        if (controls && v.vast_pauseonclick == 1) {
          show2(uiplay)
        }
        paused = true
      }
    }
    function vpaidAdPlaying() {
      Event('resume');
      if (controls && exist(uiplay)) {
        hide2(uiplay)
      }
      paused = false
    }
    function StoreImpression() {
      if (o.storage) {
        var x = new Date();
        localStorage.setItem('pljs' + (vast.adsystem == 'intro' || vast.adsystem == 'outro' ? 'intro' : o.vasttype) + '_' + v.d, x.getTime())
      }
    }
    function Event(x, del, code, justcode) {
      if (exist(vast.prt) && v.eventstrackervast == 0) {
      } else {
        if (del) {
          if (!exist(js_events[x])) {
            js3('vast_' + x, VastInfo())
          }
          js_events[x] = true
        } else {
          code > 0 ? js3(('vast_' + x), code)  : js3('vast_' + x, VastInfo())
        }
      }
      if (exist(vast.events)) {
        if (exist(vast.events[x])) {
          log('VAST Event ' + x);
          for (var i = 0; i < vast.events[x].length; i++) {
            var z = vast.events[x][i];
            var stop = false;
            if (code > 0) {
              if (z.indexOf('[ERRORCODE]') > 0) {
                z = z.replace('[ERRORCODE]', code)
              } else {
                justcode == 1 ? stop = true : ''
              }
            }
            if (z.indexOf('(visibility)') > 0) {
              if (exist(o.visibility)) {
                z = z.replace('(visibility)', o.visibility)
              }
            }
            if (z.indexOf('.pjstat') > 0) {
              var m = 0;
              z = z + '&m=' + (o.system.tv ? 2 : (o.system.mobile ? 1 : 0)) + ('&h=' + v.d)
            }
            if (typeof v.vast_replace == 'object') {
              for (var y in v.vast_replace) {
                if (v.vast_replace.hasOwnProperty(y)) {
                  z = z.replace(y, v.vast_replace[y])
                }
              }
            }
            if (!stop) {
              gif(z)
            }
          }
          if (del) {
            vast.events[x] = undefined;
            delete vast.events[x]
          }
        }
      }
      if (x == 'click' && v.vast_addclick == 1) {
        Event('addClick')
      }
    };
    function gif(x) {
      var gif = document.createElement('img');
      gif.setAttribute('src', x);
      gif.setAttribute('height', '1px');
      gif.setAttribute('width', '1px')
    }
    function js2(x) {
      if (vast.adsystem != 'intro' && vast.adsystem != 'outro') {
        js(x)
      }
    }
    function js3(x, y) {
      if ((exist(vast.prt) && v.eventstrackervast == 0) || vast.adsystem == 'intro' || vast.adsystem == 'outro') {
      } else {
        js(x, y)
      }
    }
    this.config = function (x) {
      return vast ? vast[x] : false
    };
    this.tagLive = function () {
      x = false;
      if (tag) {
        if (tag.parentElement) {
          try {
            if (tag.parentElement.nodeName == 'PJSDIV') {
              x = true
            }
          } catch (e) {
            x = false
          }
        }
      }
      if (vast) {
        if (vast.isVpaid) {
          return false
        }
      }
      return x
    };
    this.info = function (x) {
      return vast ? vast[x] : false
    };
    this.Resize = function () {
      if (vast) {
        if (vast.isVpaid) {
          if (vpaid) {
            vpaid.resizeAd(o.screen_w, o.screen_h, (o.fullscreen ? 'fullscreen' : 'normal'))
          }
        }
      }
    };
    function RemoveInterface() {
      RemoveControl('uiplay');
      RemoveControl('uibuffer');
      if (tag) {
        if (tag.played.length > 0) {
          tag.pause()
        }
      }
      if (controls && o.vastcontainer.contains(uix)) {
        if (v.vast_title == 1) {
          RemoveControl('uit')
        }
        var cntrls = [
          'uiprogress',
          'uiskip',
          'uix',
          'uitxt',
          'uitxt',
          'uimute',
          'uiunmute',
          'uiunmutebut'
        ];
        for (var i = 0; i < cntrls.length; i++) {
          RemoveControl(cntrls[i])
        }
      }
    };
    function RemoveControl(x) {
      if (exist(eval(x))) {
        if (o.vastcontainer.contains(eval(x))) {
          if (x == 'uitxt') {
            uitxt.removeEventListener('click', onInvite)
          }
          o.vastcontainer.removeChild(eval(x));
          delete eval(x);
          eval(x + ' = undefined;')
        }
      }
    }
    this.getVolume = function () {
      return CurrentVolume()
    };
    this.VpaidSet = function (x, y) {
      if (x == 'setAdVolume') {
        if (y == 0) {
          onMute()
        } else {
          onUnmute()
        }
      }
      if (x == 'stopAd') {
        RemoveAndPlay()
      }
      if (x == 'skipAd') {
        onSkip()
      }
      if (x == 'pauseAd') {
        onPause()
      }
      if (x == 'resumeAd') {
        onPlay()
      }
    };
    this.RemoveForNextAd = function () {
      if (vast) {
        RemoveInterface()
      }
      if (youtube || vimeo) {
        clearInterval(ytinterval);
        ytag.Remove()
      }
      if (vpaidframe) {
        if (exist(vpaidslot)) {
          if (!vpaidstopped && vpaid && vpaidstarted) {
            try {
              vpaid.stopAd()
            } catch (e) {
              log(e)
            }
          }
          if (vpaid) {
            for (var eventName in vpaidCallbacks) {
              if (vpaidCallbacks.hasOwnProperty(eventName)) {
                vpaid.unsubscribe(vpaidCallbacks[eventName], eventName)
              }
            }
          }
          if (o.vastcontainer.contains(vpaidslot)) {
            o.vastcontainer.removeChild(vpaidslot)
          }
        }
        clearInterval(vpaid_int);
        clearInterval(vpaid_int2);
        clearInterval(vpaidframe_int);
        clearTimeout(vpaid_t);
        clearTimeout(video_t);
        try {
          o.vastcontainer.removeChild(vpaidframe)
        } catch (e) {
        }
      }
      if (exist(vpaidslot)) {
        clearInterval(img_int);
        if (o.vastcontainer.contains(vpaidslot)) {
          o.vastcontainer.removeChild(vpaidslot)
        }
      }
      if (vast) {
        vast.events = [
        ]
      }
      removed = false
    };
    this.Remove = function () {
      try {
        if (o.vastcontainer.contains(tag)) {
          o.vastcontainer.removeChild(tag)
        }
      } catch (e) {
      }
      this.RemoveForNextAd();
      removed = true;
      try {
        if (o.frame.contains(o.vastcontainer)) {
          o.frame.removeChild(o.vastcontainer)
        }
      } catch (e) {
      }
    }
  };
  var TimeStore = function () {
    var x = '';
    var t = 0;
    var d = 0;
    if (o.storage) {
      if (v.timestoredontuse != 1) {
        if (localStorage.getItem('pljsplayfrom_' + v.id + v.href2) != null) {
          x = localStorage.getItem('pljsplayfrom_' + v.id + v.href2)
        }
        if (v.playedstore == 1 && localStorage.getItem('pljsplayed_' + v.id + v.href2) != null) {
          o.playedstore = localStorage.getItem('pljsplayed_' + v.id + v.href2)
        }
        if (exist(v.cuid)) {
          if (localStorage.getItem('pljsplayfrom_' + v.d + v.cuid) != null) {
            x = localStorage.getItem('pljsplayfrom_' + v.d + v.cuid)
          }
          if (v.playedstore == 1 && localStorage.getItem('pljsplayed_' + v.d + v.cuid) != null) {
            o.playedstore = localStorage.getItem('pljsplayed_' + v.d + v.cuid)
          }
        }
        if (o.playedstore && v.playedstore == 1) {
          o.playedstored = o.playedstore.split(',')
        }
        if (x.indexOf('{') == 0) {
          o.plcontinue = v.plstart = x.substr(1, x.indexOf('}') - 1);
          x = x.substr(x.indexOf('}') + 1);
          v.timestore0plroot == 1 ? v.playlist.openplaylistroot = 0 : ''
        }
        if (x.indexOf('--') > 0) {
          var y = x.split('--');
          o.seekto = t = parseFloat(y[0]);
          d = parseFloat(y[1])
        }
      }
    };
    this.write = function (t, d) {
      var ct = new Date().getTime();
      localStorage.setItem('pljsplayfrom_' + (exist(v.cuid) ? v.d + v.cuid : v.id + v.href2), (exist(o.plid) ? '{' + o.plid + '}' : '') + t + '--' + d + '--' + ct)
    };
    this.writePl = function (x) {
      o.playedstore = (o.playedstore ? o.playedstore + ',' : '') + x;
      localStorage.setItem('pljsplayed_' + (exist(v.cuid) ? v.d + v.cuid : v.id + v.href2), o.playedstore)
    };
    this.flag = function () {
      return {
        t: t,
        d: d
      }
    }
  };
  var ChromeCast = function () {
    var player;
    var controller;
    var deviceName;
    var words;
    var current_color;
    window['__onGCastApiAvailable'] = function (isAvailable) {
      if (isAvailable) {
        Init()
      } else {
        _log('not available')
      }
    };
    function Init() {
      _log('available');
      cast.framework.CastContext.getInstance().setOptions({
        receiverApplicationId: chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,
        autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED
      });
      player = new cast.framework.RemotePlayer();
      controller = new cast.framework.RemotePlayerController(player);
      controller.addEventListener(cast.framework.RemotePlayerEventType.IS_CONNECTED_CHANGED, Connection);
      o.cast_available = true;
      setTimeout(Available, 1000)
    }
    function Available() {
      o.controls.Review();
      o.controls.resize()
    }
    function Connection(data) {
      if (cast && cast.framework) {
        _log((!player.isConnected ? 'dis' : '') + 'connected');
        if (player.isConnected) {
          PlayRemote()
        } else {
          PlayLocal()
        }
      }
    }
    function PlayRemote(x) {
      var session = cast.framework.CastContext.getInstance().getCurrentSession();
      controller.addEventListener(cast.framework.RemotePlayerEventType.IS_PAUSED_CHANGED, PlayChanged);
      controller.addEventListener(cast.framework.RemotePlayerEventType.VOLUME_LEVEL_CHANGED, VolumeChanged);
      controller.addEventListener(cast.framework.RemotePlayerEventType.IS_MUTED_CHANGED, MuteChanged);
      controller.addEventListener(cast.framework.RemotePlayerEventType.PLAYER_STATE_CHANGED, StateChanged);
      var info = new chrome.cast.media.MediaInfo(o.media.currentFile(), 'video/mp4');
      info.metadata = new chrome.cast.media.GenericMediaMetadata();
      info.metadata.metadataType = chrome.cast.media.MetadataType.GENERIC;
      info.metadata.title = v.title;
      info.metadata.images = [
        {
          'url': v.poster
        }
      ];
      var request = new chrome.cast.media.LoadRequest(info);
      request.currentTime = o.seekto > 0 ? o.seekto : (o.casting ? 0 : o.media.time());
      request.autoplay = o.play || x == true;
      session.loadMedia(request).then(function () {
        deviceName = session.getCastDevice().friendlyName;
        _log('connected to ' + deviceName);
        if (v.chromecast.message != 0 && !o.casting) {
          words ? o.frame.removeChild(words)  : '';
          words = createElement('div');
          css(words, {
            'position': 'absolute',
            'top': '20px',
            'width': '100%',
            'left': 0,
            'opacity': 0.7,
            'color': '#fff',
            'pointer-events': 'none'
          });
          words.innerHTML = '<center>' + Lang('castdevice') + ' &laquo;' + deviceName + '&raquo;</center>';
          o.frame.appendChild(words)
        }
        player.volumeLevel = v.volume;
        controller.setVolumeLevel();
        if (o.muted && !player.isMuted) {
          controller.muteOrUnmute()
        }
        if (x != true) {
          if (!o.play) {
            !player.isPaused ? controller.playOrPause()  : ''
          } else {
            o.media.Pause();
            setTimeout(function () {
              o.controls.Play()
            }, 300)
          }
        }
        hide(o.mediacontainer);
        o.casting = true
      }, function (e) {
        _log(e);
        PlayLocal();
        o.alert.txt(Lang('casterror'))
      })
    }
    function PlayLocal() {
      words ? o.frame.removeChild(words)  : '';
      words = undefined;
      o.casting = false;
      show(o.mediacontainer);
      if (player.savedPlayerState) {
        o.actions.Seek(player.savedPlayerState.currentTime);
        if (player.savedPlayerState.isPaused) {
          o.media.Pause()
        } else {
          o.media.Play()
        }
      }
    }
    function PlayChanged() {
      if (player.isPaused) {
        _log('pause');
        o.controls.Pause()
      } else {
        _log('play');
        o.controls.Play()
      }
    }
    function VolumeChanged() {
      o.actions.Volume(player.volumeLevel)
    }
    function MuteChanged() {
      player.isMuted ? o.actions.Mute()  : o.actions.Unmute()
    }
    function StateChanged() {
      if (player.isConnected) {
        if (player.playerState == null) {
          if (player.currentTime == player.duration) {
            o.controls.Pause();
            o.media.onEnded()
          }
        }
      }
    }
    var tag = document.createElement('script');
    tag.src = 'https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1';
    var scrpt = document.getElementsByTagName('script') [0];
    scrpt.parentNode.insertBefore(tag, scrpt);
    function _log(x) {
      if (v.chromecast && v.log == 1) {
        log('chromecast', x)
      }
    }
    this.button = function (x) {
      current_color = x;
      return '<button is=\'google-cast-button\' id=\'pjs_cast_button_' + v.id + '\' style=\'padding:0;width:20px;height:20px;--connected-color:' + x + ';--disconnected-color:' + x + ';border:0;background:transparent;pointer-events:auto;cursor:pointer\'></button>'
    };
    this.Color = function (x, y) {
      if (current_color != y) {
        var el = document.getElementById('pjs_cast_button_' + v.id);
        if (el) {
          var style = el.getAttribute('style');
          var clr = new RegExp(current_color, 'gi');
          style = style.replace(clr, y);
          el.setAttribute('style', style)
        }
        current_color = y
      }
    };
    this.Volume = function (x) {
      if (player.isConnected) {
        player.volumeLevel = x;
        controller.setVolumeLevel()
      }
    };
    this.Mute = function () {
      if (player.isConnected) {
        if (!player.isMuted) {
          controller.muteOrUnmute()
        }
      }
    };
    this.Unmute = function () {
      if (player.isConnected) {
        if (player.isMuted) {
          controller.muteOrUnmute()
        }
      }
    };
    this.Play = function (x) {
      if (player.isConnected) {
        if (player.isPaused) {
          controller.playOrPause()
        } else {
          if (player.playerState == null) {
          }
        }
      }
    };
    this.Pause = function (x) {
      if (player.isConnected && !player.isPaused) {
        controller.playOrPause()
      }
    };
    this.Time = function (x) {
      var x;
      if (player.isConnected) {
        x = player.currentTime
      }
      return x
    };
    this.Duration = function (x) {
      var x;
      if (player.isConnected) {
        x = player.duration
      }
      return x
    };
    this.Exit = function () {
      if (cast && cast.framework) {
        PlayLocal()
      }
    };
    this.Go = function () {
      if (cast && cast.framework) {
        if (player.isConnected) {
          PlayRemote(o.play)
        }
      }
    };
    this.Seek = function (x) {
      if (player.isConnected) {
        player.currentTime = x;
        controller.seek()
      }
    }
  };
  var Motion = function (_o) {
    var _ease;
    var _timer;
    var _type;
    var _from;
    var _to;
    var _steps;
    var _step = 0;
    var _speed;
    var _stop = false;
    var _timeout;
    if (_o.me != undefined && _o.mc != undefined && _o.type != undefined && _o.to != undefined) {
      if (_o.time == null) {
        if (_o.type.indexOf('alpha') > - 1) {
          _o.to == 0 ? _o.time = 0.5 : _o.time = 0.2
        } else {
          _o.time = 0.15
        }
      }
      _ease = Ease(_o.ease);
      if (_o.type.indexOf('scale') == - 1) {
        if (exist(o.motions[_o.me])) {
          o.motions[_o.me].TheEnd()
        }
      }
      if (_o.type.indexOf('scale') == - 1) {
        o.motions[_o.me] = this
      }
      if (_o.show == 1) {
        _o.mc.set('display', true)
      }
      _type = _o.type.split('|');
      _to = String(_o.to).split('|');
      _from = new Array();
      for (var i = 0; i < _type.length; i++) {
        if (!_to[i]) {
          _to[i] = _to[0]
        }
        if (_type[i] == 'alpha') {
          _from[i] = _o.mc.g('opacity')
        }
        if (_type[i] == 'alpha_div') {
          _from[i] = _o.mc.style.opacity
        }
        if (_type[i] == 'y') {
          _from[i] = _o.mc.g('y')
        }
        if (_type[i] == 'x') {
          _from[i] = _o.mc.g('x')
        }
        if (_type[i] == 'left') {
          _from[i] = parseInt(_o.mc.style.left)
        }
        if (_type[i] == 'scale') {
          _from[i] = _o.mc.g('scaleX')
        }
        if (_type[i] == 'scroll') {
          _from[i] = _o.mc.scrollTop
        }
        if (_type[i] == 'scrollleft') {
          _from[i] = _o.mc.scrollLeft
        }
        if (_type[i] == 'scaleY') {
          _from[i] = _o.mc.g('scaleY')
        }
        if (_type[i] == 'scaleX') {
          _from[i] = _o.mc.g('scaleX')
        }
        if (_type[i] == 'width') {
          _from[i] = _o.mc.g('width')
        }
        if (_type[i] == 'width_div') {
          _from[i] = _o.mc.offsetWidth;
          _to[i] = Math.floor(_to[i]);
          _o.me == 'line_play' ? log('width', _o.me, _from[i], _to[i], _o.mc.offsetWidth)  : ''
        }
        if (_type[i] == 'height') {
          _from[i] = _o.mc.g('height')
        }
        if (_type[i] == 'height_div') {
          _from[i] = _o.mc.offsetHeight
        }
        _to[i] = Number(_to[i]);
        _from[i] = Number(_from[i])
      }
      _speed = _o.time * 1000 / _ease.length;
      _steps = _ease.length;
      if (_type.length == 1 && _from[0] == _to[0]) {
        End()
      } else {
        setTimeout(onStep, Math.round(_speed))
      }
    }
    function onStep() {
      for (var i = 0; i < _type.length; i++) {
        var tmp = _from[i] + (_to[i] - _from[i]) * (_ease[_step] ? _ease[_step] : 0);
        if (_type[i] == 'alpha') {
          _o.mc.set('opacity', tmp)
        }
        if (_type[i] == 'alpha_div') {
          _o.mc.style.opacity = tmp
        }
        if (_type[i] == 'y') {
          _o.mc.set('top', tmp)
        }
        if (_type[i] == 'x') {
          _o.mc.set('left', tmp)
        }
        if (_type[i] == 'left') {
          _o.mc.style.left = tmp + 'px'
        }
        if (_type[i] == 'scale') {
          _o.mc.set('scale', tmp)
        }
        if (_type[i] == 'scaleY') {
          _o.mc.set('scaleY', tmp)
        }
        if (_type[i] == 'scaleX') {
          _o.mc.set('scaleX', tmp)
        }
        if (_type[i] == 'scroll') {
          _o.mc.scrollTop = tmp
        }
        if (_type[i] == 'scrollleft') {
          _o.mc.scrollLeft = tmp
        }
        if (_type[i] == 'width') {
          _o.mc.set('width', tmp)
        }
        if (_type[i] == 'width_div') {
          css(_o.mc, {
            'width': tmp
          })
        }
        if (_type[i] == 'height') {
          _o.mc.set('height', tmp)
        }
        if (_type[i] == 'height_div') {
          css(_o.mc, {
            'height': tmp
          })
        }
      }
      _step++;
      if (!_stop) {
        if (_step == _steps) {
          End()
        } else {
          _timeout = setTimeout(onStep, Math.round(_speed))
        }
      }
    }
    function End() {
      _stop = true;
      if (_o.hide) {
        if (_type[0] == 'alpha_div' || _type[0] == 'left') {
          hide(_o.mc)
        } else {
          _o.mc.set('display', false)
        }
      }
      if (_o.type.indexOf('scale') == - 1) {
        o.motions[_o.me] = null;
        delete o.motions[_o.me]
      }
    };
    this.TheEnd = function () {
      clearTimeout(_timeout);
      End()
    };
    this.TheEnd2 = function () {
      clearTimeout(_timeout);
      _step = _steps - 1;
      onStep();
      End()
    };
    function Ease(str) {
      switch (str) {
        case 'elastic':
          return [0,
          0.432,
          0.857,
          1.275,
          1.372,
          1.296,
          1.102,
          0.957,
          0.883,
          0.87,
          0.914,
          0.992,
          1.029,
          1.041,
          1.036,
          1.019,
          0.996,
          0.984,
          0.981,
          0.988,
          1.001,
          1.006,
          1.007,
          1.006,
          1.003,
          0.999,
          0.998,
          0.998,
          0.998,
          0.998,
          1];
          break;
        case 'cubic':
          return [0,
          0.096,
          0.185,
          0.267,
          0.344,
          0.416,
          0.483,
          0.547,
          0.606,
          0.659,
          0.705,
          0.747,
          0.785,
          0.818,
          0.848,
          0.874,
          0.897,
          0.918,
          0.935,
          0.95,
          0.962,
          0.971,
          0.979,
          0.985,
          0.99,
          0.994,
          0.997,
          0.999,
          1];
          break;
        case 'back':
          return [0,
          0.146,
          0.28,
          0.403,
          0.513,
          0.613,
          0.702,
          0.78,
          0.848,
          0.907,
          0.956,
          0.997,
          1.029,
          1.055,
          1.072,
          1.084,
          1.092,
          1.095,
          1.095,
          1.093,
          1.088,
          1.081,
          1.072,
          1.06,
          1.046,
          1.033,
          1.023,
          1.014,
          1.007,
          1.003];
          break;
        default:
          return [0,
          0.1,
          0.2,
          0.3,
          0.4,
          0.5,
          0.6,
          0.7,
          0.8,
          0.9,
          1];
          break
      }
    }
  };
  var System = function () {
    var N = navigator.appName,
    ua = navigator.userAgent,
    tem;
    var M = ua.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);
    var M = ua.match(/(opera|chrome|safari|firefox|msie|trident|edge)\/?\s*(\.?\d+(\.\d+)*)/i);
    if (M && (tem = ua.match(/version\/([\.\d]+)/i)) != null) M[2] = tem[1];
    this.browser = M ? M[1] : N;
    this.version = M ? M[2] : navigator.appVersion;
    this.opera = this.browser == 'Opera';
    this.ie = this.browser == 'MSIE' || this.browser == 'Trident' || this.browser == 'Edge';
    this.firefox = this.browser == 'Firefox';
    this.safari = this.browser == 'Safari';
    this.chrome = window.chrome;
    this.win = ua.search('Windows NT') > - 1;
    this.winmob = ua.search('Windows Phone') > - 1;
    this.ios = ua.search(/(iphone|ipad|ipod)\/?\s*/i) > - 1;
    this.tv = v.notv != 1 && ua.search(/(Tizen|LG Browser|SmartTV|Philips|TV Build)\/?\s*/i) > - 1;
    this.lg = v.notv != 1 && ua.search(/(LG Browser)\/?\s*/i) > - 1;
    this.iphone = ua.search(/(iphone)\/?\s*/i) > - 1;
    this.ipad = ua.search(/(ipad)\/?\s*/i) > - 1;
    this.webkit = 'WebkitAppearance' in document.documentElement.style;
    this.android = ua.search(/(android)\/?\s*/i) > - 1;
    this.mobile = (this.ios || this.android || (ua.search(/(blackberry|iemobile|opera mini)\/?\s*/i) > - 1)) && !this.tv;
    this.mutedautoplay = this.safari || this.chrome;
    this.desktop = !this.mobile;
    this.mobiletv = this.mobile || this.tv;
    this.fullscreen = false;
    if (this.ios) {
      this.iosv = parseFloat(ua.substr(ua.indexOf('OS ') + 3, 4).replace('_', '.'))
    }
    if (o.frame.requestFullScreen || o.frame.requestFullscreen || o.frame.mozRequestFullScreen || o.frame.webkitRequestFullScreen || o.frame.msRequestFullscreen) {
      this.fullscreen = true
    }
  };
  function UpdateObject(obj, obj2) {
    for (var s in obj2) {
      if (typeof (obj2[s]) == 'object') {
        if (s == 'events' || s == 'file') {
          obj[s] = obj2[s]
        } else {
          for (var s2 in obj2[s]) {
            if (!exist(obj[s])) {
              obj[s] = {
              }
            }
            if (typeof (obj2[s][s2]) == 'object') {
              for (var s3 in obj2[s][s2]) {
                if (!exist(obj[s][s2])) {
                  obj[s][s2] = {
                  }
                }
                if (typeof (obj2[s][s2][s3]) == 'object') {
                  for (var s4 in obj2[s][s2][s3]) {
                    if (!exist(obj[s][s2][s3])) {
                      obj[s][s2][s3] = {
                      }
                    }
                    obj[s][s2][s3][s4] = obj2[s][s2][s3][s4];
                    if (s3 == 'padding' || s3 == 'margin') {
                      obj[s][s2][s3][s4] = parseInt(obj[s][s2][s3][s4])
                    }
                  }
                } else {
                  obj[s][s2][s3] = obj2[s][s2][s3];
                  if (s2 == 'padding' || s2 == 'margin') {
                    obj[s][s2][s3] = parseInt(obj[s][s2][s3])
                  }
                }
              }
            } else {
              obj[s][s2] = obj2[s][s2];
              if (s == 'padding' || s == 'margin') {
                obj[s][s2] = parseInt(obj[s][s2])
              }
            }
          }
        }
      } else {
        if (s.indexOf('roll') > 0 && trim(obj2[s]) === '') {
        } else {
          obj[s] = SettingsParser(s, obj2[s])
        }
      }
    }
    return obj
  };
  var SettingsParser = function (key, value) {
    value = trim(value);
    if (key.indexOf('color') > - 1 && key.indexOf('#') != 0 && value != - 1) {
      value = '#' + value
    }
    return value
  };
  function hexToRGBA(hex, opacity) {
    return 'rgba(' + (hex = hex.replace('#', '')).match(new RegExp('(.{' + hex.length / 3 + '})', 'g')).map(function (l) {
      return parseInt(hex.length % 2 ? l + l : l, 16)
    }).concat(opacity || 1).join(',') + ');'
  }
  function StorageSupport() {
    try {
      var storage = window['localStorage'],
      x = '__storage_test__';
      storage.setItem(x, x);
      storage.removeItem(x);
      return true
    } catch (e) {
      return false
    }
  };
  function killMotion(motion_id) {
    if (motion_id) {
      if (o.motions[motion_id]) {
        o.motions[motion_id].TheEnd()
      }
    }
  };
  var Alert = function () {
    var xbg = createElement('div');
    o.frame.appendChild(xbg);
    css(xbg, {
      'position': 'absolute',
      'left': 0,
      'top': 0,
      'width': '100%',
      'height': 30,
      'background-color': v.alertsbgcolor,
      'opacity': v.alertsbga,
      'display': 'none'
    });
    var x = createElement('div');
    o.frame.appendChild(x);
    css(x, {
      'position': 'absolute',
      'left': 0,
      'top': 0,
      'width': '100%',
      'color': v.alertscolor,
      'font-size': v.alertsfontsize,
      'padding': '10px 15px',
      'display': 'none'
    });
    this.txt = function (text) {
      x.innerHTML = text;
      show2(x);
      css(xbg, {
        'height': x.offsetHeight,
        'display': 'block'
      });
      xbg.style.zIndex = '997';
      for (var i = 0; i < x.getElementsByTagName('a').length; i++) {
        x.getElementsByTagName('a') [i].style.color = '#fff'
      }
      x.style.zIndex = '998'
    };
    this.close = function () {
      hide2(x);
      hide2(xbg)
    };
    var _0x1367 = [
      'playerid',
      'playerjs.com',
      'protect',
      'protection',
      ',',
      'split',
      'hostname',
      'https://',
      '',
      'replace',
      'http://',
      'test',
      '$',
      'i',
      'forEach',
      'media_error',
      '<a href=//',
      '>',
      '</a>',
      'txt'
    ];
    if (v[_0x1367[0]] == _0x1367[1]) {
      v[_0x1367[2]] = _0x1367[1];
      v[_0x1367[3]] = 1
    };
    if (exist(options[_0x1367[3]])) {
      v[_0x1367[3]] = 1
    };
    if (exist(options[_0x1367[2]])) {
      v[_0x1367[2]] = _0x1367[1]
    };
    if (exist(v[_0x1367[2]]) && v[_0x1367[3]] == 1) {
      var xs = v[_0x1367[2]][_0x1367[5]](_0x1367[4]);
      var xd = location[_0x1367[6]];
      var g = false;
      xs[_0x1367[14]](function (_0x4362x4) {
        _0x4362x4 = _0x4362x4[_0x1367[9]](_0x1367[7], _0x1367[8]);
        _0x4362x4 = _0x4362x4[_0x1367[9]](_0x1367[10], _0x1367[8]);
        if (new RegExp(_0x4362x4 + _0x1367[12], _0x1367[13]) [_0x1367[11]](xd)) {
          g = true;
          return
        }
      });
      if (!g) {
        o[_0x1367[15]] = true;
        this[_0x1367[19]](_0x1367[16] + xs[0] + _0x1367[17] + xs[0] + _0x1367[18])
      }
    }
  };
  var Lang = function (x) {
    var y = x;
    if (y) {
      y = x.charAt(0).toUpperCase() + x.slice(1)
    }
    if (x == 'auto') {
      if (v.lang == 'ru') {
        y = 'Авто'
      }
    }
    if (x == 'play') {
      if (v.lang == 'ru') {
        y = 'Пуск'
      }
    }
    if (x == 'pause') {
      if (v.lang == 'ru') {
        y = 'Пауза'
      }
    }
    if (x == 'fullscreen') {
      if (v.lang == 'ru') {
        y = 'Во весь экран'
      }
      if (v.lang == 'en') {
        y = 'Enter fullscreen'
      }
    }
    if (x == 'normalscreen') {
      if (v.lang == 'ru') {
        y = 'Выйти из полноэкранного режима'
      }
      if (v.lang == 'en') {
        y = 'Exit fullscreen'
      }
    }
    if (x == 'stop') {
      if (v.lang == 'ru') {
        y = 'Стоп'
      }
    }
    if (x == 'settings') {
      if (v.lang == 'ru') {
        y = 'Настройки'
      }
    }
    if (x == 'params') {
      if (v.lang == 'ru') {
        y = 'Параметры'
      }
      if (v.lang == 'en') {
        y = 'Options'
      }
    }
    if (x == 'volume') {
      if (v.lang == 'ru') {
        y = 'Громкость'
      }
    }
    if (x == 'mute') {
      if (v.lang == 'ru') {
        y = 'Выключить звук'
      }
    }
    if (x == 'unmute') {
      if (v.lang == 'ru') {
        y = 'Включить звук'
      }
    }
    if (x == 'advertising') {
      if (v.lang == 'ru') {
        y = 'Реклама'
      }
      if (v.lang == 'en') {
        y = 'Ads'
      }
    }
    if (x == 'skip') {
      if (v.lang == 'ru') {
        y = 'Пропустить'
      }
    }
    if (x == 'live') {
      if (v.lang == 'ru') {
        y = 'В ЭФИРЕ'
      }
      if (v.lang == 'en') {
        y = 'LIVE'
      }
    }
    if (x == 'playlist') {
      if (v.lang == 'ru') {
        y = 'Плейлист'
      }
    }
    if (x == 'skipfrom') {
      if (v.lang == 'ru') {
        y = 'Пропустить можно через '
      }
      if (v.lang == 'en') {
        y = 'Skip after '
      }
    }
    if (x == 'acceptinvitation') {
      if (v.lang == 'ru') {
        y = 'Перейти на сайт рекламодателя'
      }
      if (v.lang == 'en') {
        y = 'Go to advertiser\'s website'
      }
    }
    if (x == 'unmutevideo') {
      if (v.lang == 'ru') {
        y = 'Включите звук'
      }
      if (v.lang == 'en') {
        y = 'Unmute video'
      }
    }
    if (x == 'quality') {
      if (v.lang == 'ru') {
        y = 'Качество'
      }
    }
    if (x == 'audiotrack') {
      if (v.lang == 'ru') {
        y = 'Аудио'
      }
      if (v.lang == 'en') {
        y = 'Audio'
      }
    }
    if (x == 'download') {
      if (v.lang == 'ru') {
        y = 'Скачать'
      }
    }
    if (x == 'subtitle') {
      if (v.lang == 'ru') {
        y = 'Субтитры'
      }
    }
    if (x == 'speed') {
      if (v.lang == 'ru') {
        y = 'Скорость'
      }
    }
    if (x == 'error') {
      if (v.lang == 'ru') {
        y = 'ошибка'
      }
    }
    if (x == 'loading_error') {
      if (v.lang == 'ru') {
        y = 'ошибка загрузки'
      }
      if (v.lang == 'en') {
        y = 'loading error'
      }
    }
    if (x == '160p') {
      if (v.lang == 'ru') {
        y = 'Очень низкое'
      }
      if (v.lang == 'en') {
        y = 'Tiny'
      }
    }
    if (x == '240p') {
      if (v.lang == 'ru') {
        y = 'Низкое'
      }
      if (v.lang == 'en') {
        y = 'Small'
      }
    }
    if (x == '360p') {
      if (v.lang == 'ru') {
        y = 'Среднее'
      }
      if (v.lang == 'en') {
        y = 'Medium'
      }
    }
    if (x == '480p' || x == '540p') {
      if (v.lang == 'ru') {
        y = 'Высокое'
      }
      if (v.lang == 'en') {
        y = 'Large'
      }
    }
    if (x == '720p') {
      y = 'HD'
    }
    if (x == '1080p') {
      y = 'Full HD'
    }
    if (x == '2160p') {
      y = '4K'
    }
    if (x == 'next') {
      if (v.lang == 'ru') {
        y = 'Следующий'
      }
    }
    if (x == 'prev') {
      if (v.lang == 'ru') {
        y = 'Предыдущий'
      }
      if (v.lang == 'en') {
        y = 'Previous'
      }
    }
    if (x == 'share') {
      if (v.lang == 'ru') {
        y = 'Поделиться'
      }
    }
    if (x == 'copied') {
      if (v.lang == 'ru') {
        y = 'Скопировано в буфер обмена'
      }
      if (v.lang == 'en') {
        y = 'Copied to clipboard'
      }
    }
    if (x == 'sub_sizeproc') {
      if (v.lang == 'ru') {
        y = 'Размер текста'
      }
      if (v.lang == 'en') {
        y = 'Text size'
      }
    }
    if (x == 'sub_color') {
      if (v.lang == 'ru') {
        y = 'Цвет текста'
      }
      if (v.lang == 'en') {
        y = 'Text color'
      }
    }
    if (x == 'sub_bgcolor') {
      if (v.lang == 'ru') {
        y = 'Цвет фона'
      }
      if (v.lang == 'en') {
        y = 'Background color'
      }
    }
    if (x == 'sub_bga') {
      if (v.lang == 'ru') {
        y = 'Прозрачность фона'
      }
      if (v.lang == 'en') {
        y = 'Background opacity'
      }
    }
    if (x == 'sub_shadow') {
      if (v.lang == 'ru') {
        y = 'Тень'
      }
      if (v.lang == 'en') {
        y = 'Shadow'
      }
    }
    if (x == 'sub_weight') {
      if (v.lang == 'ru') {
        y = 'Насыщенность шрифта'
      }
      if (v.lang == 'en') {
        y = 'Font weight'
      }
    }
    if (x == 'sub_bottom') {
      if (v.lang == 'ru') {
        y = 'Отступ снизу'
      }
      if (v.lang == 'en') {
        y = 'Bottom margin'
      }
    }
    if (x == '1val') {
      if (v.lang == 'ru') {
        y = 'Да'
      }
      if (v.lang == 'en') {
        y = 'Yes'
      }
    }
    if (x == '0val') {
      if (v.lang == 'ru') {
        y = 'Нет'
      }
      if (v.lang == 'en') {
        y = 'No'
      }
    }
    if (x == 'of') {
      if (v.lang == 'ru') {
        y = 'из'
      }
    }
    if (x == 'pass') {
      if (v.lang == 'ru') {
        y = 'Пароль'
      }
      if (v.lang == 'en') {
        y = 'Password'
      }
    }
    if (x == 'casterror') {
      if (v.lang == 'ru') {
        y = 'Ошибка воспроизведения на устройстве'
      }
      if (v.lang == 'en') {
        y = 'Playback error on device'
      }
    }
    if (x == 'castdevice') {
      if (v.lang == 'ru') {
        y = 'Играет на устройстве'
      }
      if (v.lang == 'en') {
        y = 'Playback on device'
      }
    }
    if (x == 'channel') {
      if (v.lang == 'ru') {
        y = 'Канал'
      }
    }
    if (x == 'off') {
      if (v.lang == 'ru') {
        y = 'Выкл.'
      }
    }
    return y
  };
  var gaTracker = function (x, y, z) {
    if (!exist(o.gatracked[y]) && v.playerjscom != 1) {
      if (v.yamtr_event[x] == 1 && v.yamtr == 1 && exist(v.yamtrid)) {
        if (x == 'init') {
          setInterval(yaHit, 300000)
        }
        try {
          window['yaCounter' + v.yamtrid].reachGoal('playerjs_' + x)
        } catch (e) {
          log('Yandex Metric error ', e)
        }
      }
      if (v.ga_event[x] == 1) {
        if (v.ga == 1) {
          ga('user.send', 'event', {
            eventCategory: 'Player',
            eventAction: y
          })
        }
      }
    }
    z ? o.gatracked[y] = true : ''
  };
  function yaHit() {
    try {
      window['yaCounter' + v.yamtrid].reachGoal('playerjs_hit')
    } catch (e) {
    }
  };
  var YoutubeID = function (url) {
    var x = '';
    if (url.indexOf('youtu.be/') > - 1) {
      x = url.substr(url.indexOf('.be/') + 4);
      x.replace('/', '')
    } else {
      x = url.split(/(youtu.be\/|v\/|embed\/|watch\?|youtube.capiom\/user\/[^#]*#([^\/]*?\/)*)\??v?=?([^#\&\?]*)/) [3]
    }
    if (x != '') {
      if (x.indexOf('?t=') > 0) {
        v.start = x.substr(x.indexOf('?t=') + 3);
        var h = 0;
        var m = 0;
        var s = 0;
        if (v.start.indexOf('h') > 0) {
          h = v.start.substr(0, v.start.indexOf('h'));
          v.start = v.start.substr(v.start.indexOf('h') + 1)
        }
        if (v.start.indexOf('m') > 0) {
          m = v.start.substr(0, v.start.indexOf('m'));
          v.start = v.start.substr(v.start.indexOf('m') + 1)
        }
        if (v.start.indexOf('s') > 0) {
          s = v.start.substr(0, v.start.indexOf('s'));
          v.start = v.start.substr(v.start.indexOf('s') + 1)
        }
        if (h > 0 || m > 0 || s > 0) {
          v.start = h * 3600 + m * 60 + s * 1
        }
        x = x.substr(0, x.indexOf('?t='))
      }
    }
    return x
  };
  var js = function (x, y, li) {
    if (x == 'init') {
      o.init = true
    }
    if (v.eventstracker == 1 && o.init) {
      if (v.eventlisteners == 1 || li == 1) {
        var ev = document.createEvent('Events');
        if (y !== undefined) {
          ev.info = y
        }
        ev.initEvent(x, true, true);
        o.container.dispatchEvent(ev)
      } else {
        if (y !== undefined) {
          if (typeof (y) == 'object') {
            y = JSON.stringify(y)
          }
        }
        if (typeof (v.events) == 'object') {
          if (exist(v.events[x]) || exist(v.events['other'])) {
            var z = x;
            if (!exist(v.events[x]) && exist(v.events['other'])) {
              z = 'other'
            }
            if (x.indexOf('vast_') == 0) {
              if (exist(v.events['vast'])) {
                z = 'vast'
              }
            }
            try {
              if (y !== undefined) {
                eval(v.events[z] + '(\'' + x + '\',\'' + v.id + '\',\'' + y + '\')')
              } else {
                eval(v.events[z] + '(\'' + x + '\',\'' + v.id + '\')')
              }
            } catch (e) {
              log(e)
            }
          }
        } else {
          if (v.events == '') {
            v.events = 'PlayerjsEvents'
          }
          try {
            if (y !== undefined) {
              eval(v.events + '(\'' + x + '\',\'' + v.id + '\',\'' + y + '\')')
            } else {
              eval(v.events + '(\'' + x + '\',\'' + v.id + '\')')
            }
          } catch (e) {
            log(e)
          }
        }
      }
    }
    if (v.postmessage == 1 && li !== 1) {
      var zv = {
        event: x,
        time: (x == 'seek' ? o.seeked_time : o.media.time())
      };
      if (y !== undefined) {
        zv['data'] = y
      }
      if (x == 'duration' || x == 'time') {
        zv['duration'] = o.media.duration()
      }
      if (x == 'volume' || x == 'unmute') {
        zv['volume'] = v.volume
      }
      window.parent.postMessage(zv, '*');
      var z = x;
      x == 'init' || x == 'start' || x == 'end' ? z = x + 'ed' : '';
      x == 'play' ? z = 'resumed' : '';
      x == 'pause' ? z = 'paused' : '';
      x == 'mute' ? z = 'muted' : '';
      x == 'unmute' ? z = 'unmuted' : '';
      x == 'seek' ? z = 'rewound' : '';
      x == 'vast_Impression' ? z = 'adShown' : '';
      zv['event'] = z;
      if (z != '' && z != x) {
        window.parent.postMessage(zv, '*')
      }
    }
  };
  this.event = function (x, y) {
    o.events[x] = y
  };
  var api = function (x, y, but) {
    return apiProcessor(x, y, but)
  };
  this.api = function (x, y, but) {
    return apiProcessor(x, y, but)
  };
  function apiProcessor(x, y, but) {
    if (exist(o.actions)) {
      if (x == 'play') {
        if (exist(y)) {
          if (typeof (y) == 'string') {
            y = y.replace(/(\r\n|\n|\r)/gm, '');
            var seekto = - 1;
            if (y.indexOf('[seek:') > - 1 && y.indexOf(']') == y.length - 1) {
              seekto = y.substr(y.indexOf('[seek:') + 6, y.length - 1);
              o.seekto = seekto = parseInt(seekto.substr(0, seekto.length - 1));
              y = y.substr(0, y.indexOf('[seek:'))
            }
            if (y.indexOf('#2') == 0) {
              y = fd2(y)
            }
            if (y.indexOf('#3') == 0 && y.indexOf(v.file3_separator) > 0) {
              y = fd3(y)
            }
            if (y.indexOf('#0') == 0) {
              y = fd0(y)
            }
            if (v.fplace == 1) {
              y = fplace(y)
            }
            if (y.indexOf('.txt') == y.length - 4) {
              var xhr = XHR(y);
              xhr.onload = function () {
                if (this.readyState == 4 && this.status == 200) {
                  try {
                    apiProcessor('play', JSON.parse(this.responseText))
                  } catch (e) {
                  }
                }
              };
              xhr.send();
              return
            }
            if (y.indexOf('id:') == 0 && exist(o.playlist_dic)) {
              var z = y.substr(3);
              for (var j in o.playlist_dic) {
                if (o.playlist_dic.hasOwnProperty(j)) {
                  if (o.playlist_dic[j].pjs_id == z) {
                    z = j
                  }
                }
              }
              if (exist(o.playlist_dic[z])) {
                o.controls.PlaylistPlayId(z);
                seekto > - 1 ? o.seekto = seekto : '';
                return true
              } else {
                return false
              }
            }
          }
          o.actions.NewFile(y)
        } else {
          o.actions.Play()
        }
      }
      if (x == 'pause') {
        o.play ? o.actions.Pause()  : ''
      }
      if (x == 'channel' && exist(y)) {
        o.start && o.channels ? o.channels.SetChannel(y)  : ''
      }
      if (x.indexOf('vpaid_') == 0) {
        if (o.vast) {
          o.vast.VpaidSet(x.substr(6), y)
        }
      }
      if (x == 'preload') {
        o.media.Preload()
      }
      if (x == 'waiting') {
        o.actions.Waiting()
      }
      if (x == 'toggle') {
        o.play ? o.actions.Pause()  : o.actions.Play()
      }
      if (x == 'stop') {
        v.preload = 0;
        v.autoplay = 0;
        o.media.Recover();
        o.actions.Stop()
      }
      if (x == 'reload') {
        o.time = o.media.time();
        o.actions.Reload()
      }
      if (x == 'share') {
        o.controls.showShare()
      }
      if (x == 'vastbreak') {
        if (o.vastloader) {
          o.vastloader.break ()
        }
        if (o.vast) {
          o.vast.break ()
        }
      }
      if (x == 'mute') {
        o.actions.Mute()
      }
      if (x == 'speed') {
        if (exist(y)) {
          o.actions.SetSpeed(y)
        } else {
          return o.files_speed[o.current_speed]
        }
      }
      if (x == 'unmute') {
        o.actions.Unmute()
      }
      if (x == 'qualities') {
        return o.files_quality
      }
      if (x == 'audiotracks') {
        return o.files_audiotrack
      }
      if (x == 'volume' || x == 'setVolume') {
        if (exist(y)) {
          if (y >= 0 && y <= 1) {
            o.actions.Volume(y)
          }
        }
        return o.muted ? 0 : v.volume
      }
      if (x == 'muted') {
        return exist(o.muted) ? o.muted : false
      }
      if (x == 'moveplaylist') {
        o.controls ? o.controls.PlaylistMove(y)  : ''
      }
      https: if (x == 'design') {
        y < 2 ? y = '' : '';
        if (o['u' + y] != '') {
          var x2 = JSON.parse(decode(o['u' + y]));
          var v2 = [
          ];
          for (var l in v) {
            if (v.hasOwnProperty(l)) {
              if (l.indexOf('control_') == 0) {
                delete v[l]
              }
            }
          }
          if (typeof x2 == 'object') {
            for (var k in x2) {
              if (x2.hasOwnProperty(k)) {
                if (k.indexOf('control_') == 0) {
                  v[k] = x2[k]
                }
                if (k == 'toolbar') {
                  v2[k] = x2[k]
                }
              }
            }
          }
          v = UpdateObject(v, v2);
          var show_settings = false;
          if (o.controls.SettingsVisible()) {
            o.controls.Settings();
            show_settings = true
          }
          var show_playlist = false;
          if (o.controls.PlaylistVisible()) {
            o.controls.Playlist();
            show_playlist = true
          }
          o.controls.Remove();
          delete o.controls;
          o.controls = new Controls();
          if (o.media.status() == 'playing') {
            o.controls.Play()
          }
          o.controls.Volume(v.volume);
          if (exist(v.title)) {
            Title(v.title)
          }
          if (show_settings) {
            o.controls.Settings()
          }
          if (show_playlist) {
            o.controls.Playlist()
          }
          if (o.fullscreen) {
            o.controls.Fullscreen()
          }
          if (key != 'control_duration') {
            o.controls.Duration(o.media.time(), o.media.duration())
          }
          Resize()
        }
      }
      if (x == 'vars') {
        return v.vars
      }
      if (x == 'resize') {
        o.controls.resize(true)
      }
      if (x == 'seek') {
        if (exist(y)) {
          if (typeof y == 'string') {
            if (y.indexOf('%') > - 1) {
              y = parseInt(y.substr(0, y.indexOf('%')));
              y = o.media.duration() * y / 100
            } else {
              var omt = o.media.time();
              if (o.continue && !o.start) {
                if (!o.continue .seeked) {
                  var f = o.continue .flag();
                  if (f.t && f.d) {
                    omt = f.t;
                    o.continue .seeked = true
                  }
                }
              }
              if (y.indexOf('+') == 0) {
                y = omt + parseInt(y.substr(1))
              } else {
                if (y.indexOf('-') == 0) {
                  y = omt - parseInt(y.substr(1))
                }
              }
            }
          }
          y = parseInt(y);
          y < 0 ? y = 0 : '';
          if (o.media.duration() > 0) {
            y > o.media.duration() ? y = 0 : ''
          }
          if (!exist(o.vast) && !exist(o.vastloader) && o.media.duration() > 0) {
            o.seekto = undefined;
            o.actions.Seek(y, true);
            o.actions.Playing()
          } else {
            o.seekto = y
          }
        }
      }
      if (x == 'fullscreen') {
        !o.fullscreen ? o.actions.Fullscreen()  : ''
      }
      if (x == 'exitfullscreen') {
        o.fullscreen ? o.actions.Normalscreen()  : ''
      }
      if (x == 'isfullscreen') {
        return o.fullscreen
      }
      if (x == 'time') {
        var _t = o.media ? o.media.time()  : 0;
        if (o.continue && v.timestore == 1 && !o.start) {
          var f = o.continue .flag();
          if (f.t) {
            _t = f.t
          }
        }
        return _t
      }
      if (x == 'duration') {
        return o.media ? o.media.duration()  : 0
      }
      if (x == 'points') {
        if (y) {
          v.points = y;
          o.controls.RenewPoints()
        }
      }
      if (x == 'quality') {
        if (exist(y)) {
          if (but) {
            v.hd = Switcher(v.hd, y, but);
            if (o.files_quality.length == 2) {
              o.actions.SetQuality(v.hd)
            }
          } else {
            o.actions.SetQuality(y)
          }
        } else {
          return o.media ? o.media.getQuality()  : 0
        }
      }
      if (x == 'audiotrack') {
        return o.media ? o.media.getAudioTrack()  : 0
      }
      if (x == 'isyoutube') {
        return o.file_type == 'youtube'
      }
      if (x == 'restart') {
        if (o.current_audiotrack > 0) {
          o.restart_audio = o.current_audiotrack
        }
        o.actions.NewFile(v.file)
      }
      if (x == 'playing') {
        return o.play
      }
      if (x == 'started') {
        return o.start
      }
      if (x == 'system') {
        return o.system[y]
      }
      if (x == 'youtubeready') {
        o.media.onYoutubeReady()
      }
      if (x == 'id') {
        return v.id
      }
      if (x == 'log') {
        v.log = y
      }
      if (x == 'eventstracker') {
        v.eventstracker = y
      }
      if (x == 'pip') {
        o.media.PipToggle()
      }
      if (x == 'airplay') {
        o.media.Airplay()
      }
      if (x == 'pipwebkit') {
        o.media.PipWebkit()
      }
      if (x == 'options') {
        console.log(options)
      }
      if (x == 'subtitle') {
        v.subtitle = y;
        o.media.SubtitleStart(y)
      }
      if (x == 'screenshot') {
        if (o.file_type == 'native' || o.file_type == 'hls' || o.file_type == 'dash') {
          var canvas = createElement('canvas');
          o.container.appendChild(canvas);
          var ctx = canvas.getContext('2d');
          var size = o.media.size();
          canvas.width = size.width > 0 ? size.width : o.normal_w;
          canvas.height = size.height > 0 ? size.height : o.normal_h;
          ctx.drawImage(o.media.tag(), 0, 0, canvas.width, canvas.height);
          quality = 2;
          var canvas2 = document.createElement('canvas');
          canvas2.width = canvas.width * quality;
          canvas2.height = canvas.height * quality;
          var ctx2 = canvas2.getContext('2d');
          ctx2.drawImage(o.media.tag(), 0, 0, canvas.width * quality, canvas.height * quality);
          ctx.drawImage(canvas2, 0, 0, canvas.width, canvas.height);
          var img;
          try {
            img = canvas.toDataURL('image/jpeg')
          } catch (e) {
            console.log(e.message);
            return false
          }
          return img
        } else {
          return false
        }
      }
      if (x == 'dash') {
        return o.file_type == x ? o.media.getDASH()  : undefined
      }
      if (x == 'hls') {
        return o.file_type == x ? o.media.getHLS()  : undefined
      }
      if (x == 'poster') {
        if (!o.play && y.indexOf('//') > - 1) {
          o.media.Poster(y);
          return true
        } else {
          return false
        }
      }
      if (x == 'scale') {
        o.media.scale(y)
      }
      if (x == 'title') {
        if (exist(y)) {
          exist(y) ? v.title = y : '';
          o.actions.Title('title');
          return true
        } else {
          return v.title
        }
      }
      if (x == 'playlist') {
        if (typeof (y) == 'object') {
          try {
            o.actions.UpdatePlaylist(y);
            return true
          } catch (e) {
            return false
          }
        } else {
          if (y.indexOf('.txt') == y.length - 4 || y.indexOf('.txt?') > 0) {
            var xhr = XHR(y);
            xhr.onload = function () {
              if (this.readyState == 4 && this.status == 200) {
                try {
                  apiProcessor('playlist', JSON.parse(this.responseText))
                } catch (e) {
                }
              }
            };
            xhr.send();
            return true
          }
        }
      }
      if (x == 'next') {
        o.controls.PlaylistNext()
      }
      if (x == 'prev') {
        o.controls.PlaylistPrev()
      }
      if (x == 'find') {
        if (exist(y) && exist(o.playlist_dic)) {
          !o.play ? v.autoplay = 0 : '';
          for (var j in o.playlist_dic) {
            if (o.playlist_dic.hasOwnProperty(j)) {
              if (o.playlist_dic[j].pjs_id == y) {
                y = j
              }
            }
          }
          if (exist(o.playlist_dic[y])) {
            o.controls.PlaylistOpenId(y);
            return true
          } else {
            return false
          }
        }
      }
      if (x == 'playlist_folders') {
        var tmp = [
        ];
        if (exist(o.playlist_dic)) {
          for (var j in o.playlist_dic) {
            if (o.playlist_dic[j].folder && o.playlist_dic[j].pjs_parent_i == - 1) {
              tmp.push({
                title: o.playlist_dic[j].title,
                id: o.playlist_dic[j].id
              })
            }
          }
        }
        return tmp
      }
      if (x == 'playlist_id') {
        if (o.plid) {
          return o.playlist_dic[o.plid].pjs_id ? o.playlist_dic[o.plid].pjs_id : o.plid
        }
      }
      if (x == 'playlist_title') {
        if (exist(o.playlist_title)) {
          return o.playlist_title
        }
      }
      if (x == 'showplaylist') {
        return v.plstart
      }
      if (x == 'vastnow') {
        if (o.vast) {
          return true
        } else {
          return false
        }
      }
      if (x == 'vastinfo') {
        if (o.vast) {
          return VastInfo()
        } else {
          return false
        }
      }
      if (x == 'loop') {
        v.loop = Switcher(v.loop, y, but)
      }
      if (x == 'shuffle') {
        v.shuffle = Switcher(v.shuffle, y, but)
      }
      if (x == 'autonext') {
        v.playlist.autoplaylist = Switcher(v.playlist.autoplaylist, y, but)
      }
      if (x == 'hd') {
        if (o.files_quality.length == 2) {
          v.hd = o.files_quality[o.current_quality];
          v.hd = Switcher(v.hd, y, but);
          if (o.files_quality[0] == v.hd) {
            o.actions.SetQuality(0)
          } else {
            o.actions.SetQuality(1)
          }
        }
      }
      if (x == 'v' && y != 'file') {
        return v[y]
      }
      if (x.indexOf('update:') == 0) {
        if (typeof (y) == 'object' && typeof (v[x.substr(7)]) == 'object') {
          for (var yy in y) {
            if (y.hasOwnProperty(yy)) {
              v[x.substr(7)][yy] = y[yy]
            }
          }
        } else {
          v[x.substr(7)] = y
        }
        return true
      }
      if (x == 'currentfile') {
        return o.media ? o.media.currentFile()  : ''
      }
      if (x == 'hlserror') {
        return o.hlserror
      }
      if (x == 'dasherror') {
        return o.dasherror
      }
      if (x == 'visibility') {
        return o.visibility
      }
      if (x == 'destroy') {
        o.actions.Stop()
      }
    } else {
      return false
    }
  };
  function Switcher(x, y, but) {
    var z = trim(y);
    if (y.indexOf('/') > 0) {
      var y2 = y.split('/');
      if (y2.length == 2) {
        if (x == trim(y2[0])) {
          z = trim(y2[1]);
          if (but) {
            but.CustomSwitch(1)
          }
        } else {
          z = trim(y2[0]);
          if (but) {
            but.CustomSwitch(0)
          }
        }
      }
    }
    return z
  }
  function XHR(x) {
    var xhr = new XMLHttpRequest();
    xhr.open('GET', x, true);
    return xhr
  }
  function VastInfo() {
    return o.vast ? {
      system: o.vast.info('adsystem'),
      version: o.vast.info('version'),
      vpaid: o.vast.info('isVpaid'),
      url: o.vast.info('vasturl') + (o.vast.info('wrapper') ? o.vast.info('wrapper0') + o.vast.info('wrapper')  : ''),
      type: o.vast.info('filetype'),
      file: o.vast.info('file'),
      volume: o.vast.getVolume()
    }
     : ''
  }
  var createElement = function (x) {
    var y = x;
    x == 'div' || x == 'div2' ? y = 'pjsdiv' : '';
    var z = document.createElement(y);
    if (x == 'div2') {
      css(z, {
        'cursor': 'pointer',
        'display': 'block'
      })
    }
    return z
  };
  var log = function (a, b, c, d, e, f, g) {
    if (v.log == 1 || v.logout == 1) {
      var x = a + (b != undefined ? ' ' + b : '') + (c != undefined ? ' ' + c : '') + (d != undefined ? ' ' + d : '') + (e != undefined ? ' ' + e : '') + (f != undefined ? ' ' + f : '') + (g != undefined ? ' ' + g : '');
      console.log('Playerjs: ' + x);
      if (v.logout == 1 && exist(document.getElementById('pjslog'))) {
        document.getElementById('pjslog').innerHTML += x + '<br/>'
      }
    }
  };
  var Time = function (time) {
    if (o.file_type == 'pdf') {
      return Math.ceil(time)
    }
    time < 0 ? time = 0 : '';
    var full_minutes = o.media.duration >= 600 ? true : false;
    var full_hours = o.media.duration >= 3600 ? true : false;
    var minutes = Math.floor(time / 60);
    var seconds = int(time - minutes * 60);
    var hours = Math.floor(minutes / 60);
    minutes = minutes - hours * 60;
    return String((hours > 0 || full_hours ? hours + ':' : '') + ((hours > 0 || full_minutes) && minutes < 10 ? '0' : '') + minutes + ':' + (seconds < 10 ? '0' : '') + seconds)
  };
  var Scripted = function (y) {
    var x = false;
    var scripts = document.getElementsByTagName('script');
    for (var i = 0; i < scripts.length; i++) {
      if (scripts[i].src.indexOf(y) > - 1) {
        x = true
      }
    }
    return x
  };
  var css = function (e, o) {
    if (e) {
      for (var key in o) {
        if (o.hasOwnProperty(key)) {
          if (o[key] != 'NaNpx' && o[key] != undefined) {
            if (typeof o[key] == 'number' && key != 'opacity' && key != 'zIndex') {
              o[key] += 'px'
            }
            if ((key.indexOf('color') > - 1 || key.indexOf('Color') > - 1) && o[key].indexOf('#') == - 1 && o[key].indexOf('rgba') == - 1) {
              o[key] = '#' + o[key]
            }
            if (key == 'transform') {
              e.style['-ms-' + key] = o[key];
              e.style['-moz-' + key] = o[key];
              e.style['-webkit-' + key] = o[key];
              e.style['-o-' + key] = o[key]
            }
            e.style[key] = o[key]
          }
        }
      }
    }
  };
  var pushCSS = function (x) {
    if (o.css) {
      if (o.css.styleSheet) {
        o.css.styleSheet.cssText = x
      } else {
        o.css.appendChild(document.createTextNode(x))
      }
    }
  };
  var xhr = function (y, z) {
    var x = new XMLHttpRequest();
    x.open('GET', y, true);
    x.onload = z;
    x.send()
  };
  var attr = function (e, o) {
    for (var key in o) {
      if (o.hasOwnProperty(key)) {
        e.setAttribute(key, o[key])
      }
    }
  };
  var destroy = function (e) {
    if (e) {
      try {
        e.parentNode.removeChild(e);
        delete e;
        e = null
      } catch (e) {
      }
    }
  };
  var random = function (min, max) {
    return Math.floor(arguments.length > 1 ? (max - min + 1) * Math.random() + min : (min + 1) * Math.random())
  };
  var trim = function (x) {
    if (typeof x == 'string') {
      return x.replace(/^\s+|\s+$/gm, '')
    } else {
      return x
    }
  };
  var encode = function (x, n) {
    if (n == 0) {
      return '#0' + salt.e(x)
    }
    if (n == 1) {
      return '#1' + pepper(salt.e(x), 1)
    }
  };
  var dechar = function (x) {
    return String.fromCharCode(x)
  };
  var decode = function (x) {
    if (x.substr(0, 2) == '#1') {
      return salt.d(pepper(x.substr(2), - 1))
    } else if (x.substr(0, 2) == '#0') {
      return salt.d(x.substr(2))
    } else {
      return x
    }
  };
  var checkBase64 = function (x) {
    if (x) {
      if (x.indexOf('http') == - 1 && x.indexOf('.') == - 1 && x.length > 100) {
        x = 'data:image/png;base64,' + x
      }
    }
    return x
  };
  var hide = function (x) {
    x.style.visibility = 'hidden'
  };
  var show = function (x) {
    x.style.visibility = 'visible'
  };
  var hide2 = function (x) {
    x.style.display = 'none'
  };
  var show2 = function (x) {
    x.style.display = 'block'
  };
  var isVisible = function (x) {
    return x ? x.style.visibility != 'hidden' && x.style.display != 'none' : false
  };
  var int = function (s) {
    if (typeof s == 'string') {
      if (s.indexOf('px') > 0) {
        s = s.substr(0, s.indexOf('px'))
      }
    }
    return parseInt(s)
  };
  var hidden = function (x) {
    return x.style.display == 'none'
  };
  var hexToRgb = function (hex) {
    var bigint = parseInt(hex, 16);
    var r = (bigint >> 16) & 255;
    var g = (bigint >> 8) & 255;
    var b = bigint & 255;
    return r + ',' + g + ',' + b
  };
  var MarginPadding = function (o, x, y) {
    o[x + 'top'] = 0;
    o[x + 'right'] = 0;
    o[x + 'bottom'] = 0;
    o[x + 'left'] = 0;
    if (exist(o[y])) {
      var z = o[y].split(' ');
      if (z.length == 4) {
        o[x + 'top'] = z[0] ? parseFloat(z[0])  : 0;
        o[x + 'right'] = z[1] ? parseFloat(z[1])  : 0;
        o[x + 'bottom'] = z[2] ? parseFloat(z[2])  : 0;
        o[x + 'left'] = z[3] ? parseFloat(z[3])  : 0
      }
    }
    return o
  };
  var StringVar = function (x, y) {
    return v[x] && v[x] != '' ? v[x] : y
  };
  var abc = String.fromCharCode(65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122);
  var salt = {
    _keyStr: abc + '0123456789+/=',
    e: function (e) {
      var t = '';
      var n,
      r,
      i,
      s,
      o,
      u,
      a;
      var f = 0;
      e = salt._ue(e);
      while (f < e.length) {
        n = e.charCodeAt(f++);
        r = e.charCodeAt(f++);
        i = e.charCodeAt(f++);
        s = n >> 2;
        o = (n & 3) << 4 | r >> 4;
        u = (r & 15) << 2 | i >> 6;
        a = i & 63;
        if (isNaN(r)) {
          u = a = 64
        } else if (isNaN(i)) {
          a = 64
        }
        t = t + this._keyStr.charAt(s) + this._keyStr.charAt(o) + this._keyStr.charAt(u) + this._keyStr.charAt(a)
      }
      return t
    },
    d: function (e) {
      var t = '';
      var n,
      r,
      i;
      var s,
      o,
      u,
      a;
      var f = 0;
      e = e.replace(/[^A-Za-z0-9\+\/\=]/g, '');
      while (f < e.length) {
        s = this._keyStr.indexOf(e.charAt(f++));
        o = this._keyStr.indexOf(e.charAt(f++));
        u = this._keyStr.indexOf(e.charAt(f++));
        a = this._keyStr.indexOf(e.charAt(f++));
        n = s << 2 | o >> 4;
        r = (o & 15) << 4 | u >> 2;
        i = (u & 3) << 6 | a;
        t = t + dechar(n);
        if (u != 64) {
          t = t + dechar(r)
        }
        if (a != 64) {
          t = t + dechar(i)
        }
      }
      t = salt._ud(t);
      return t
    },
    _ue: function (e) {
      e = e.replace(/\r\n/g, '\n');
      var t = '';
      for (var n = 0; n < e.length; n++) {
        var r = e.charCodeAt(n);
        if (r < 128) {
          t += dechar(r)
        } else if (r > 127 && r < 2048) {
          t += dechar(r >> 6 | 192);
          t += dechar(r & 63 | 128)
        } else {
          t += dechar(r >> 12 | 224);
          t += dechar(r >> 6 & 63 | 128);
          t += dechar(r & 63 | 128)
        }
      }
      return t
    },
    _ud: function (e) {
      var t = '';
      var n = 0;
      var r = 0;
      var c1 = 0;
      var c2 = 0;
      while (n < e.length) {
        r = e.charCodeAt(n);
        if (r < 128) {
          t += dechar(r);
          n++
        } else if (r > 191 && r < 224) {
          c2 = e.charCodeAt(n + 1);
          t += dechar((r & 31) << 6 | c2 & 63);
          n += 2
        } else {
          c2 = e.charCodeAt(n + 1);
          c3 = e.charCodeAt(n + 2);
          t += dechar((r & 15) << 12 | (c2 & 63) << 6 | c3 & 63);
          n += 3
        }
      }
      return t
    }
  };
  var pepper = function (s, n) {
    s = s.replace(/\+/g, '#');
    s = s.replace(/#/g, '+');
    var a = sugar(o.y) * n;
    if (n < 0) a += abc.length / 2;
    var r = abc.substr(a * 2) + abc.substr(0, a * 2);
    return s.replace(/[A-Za-z]/g, function (c) {
      return r.charAt(abc.indexOf(c))
    })
  };
  var sugar = function (x) {
    x = x.split(dechar(61));
    var result = '';
    var c1 = dechar(120);
    var chr;
    for (var i in x) {
      if (x.hasOwnProperty(i)) {
        var encoded = '';
        for (var j in x[i]) {
          if (x[i].hasOwnProperty(j)) {
            encoded += (x[i][j] == c1) ? dechar(49)  : dechar(48)
          }
        }
        chr = parseInt(encoded, 2);
        result += dechar(chr.toString(10))
      }
    }
    return result.substr(0, result.length - 1)
  };
  var exist = function (x) {
    return x != null && typeof (x) != 'undefined'
  };
  var int = function (x) {
    return parseInt(x)
  };
  var findLeft = function (x) {
    var curleft = 0;
    if (x.offsetParent) {
      curleft = x.offsetLeft + x.clientLeft;
      while (x = x.offsetParent) {
        curleft += x.offsetLeft + x.clientLeft
      }
    }
    var body_style = window.getComputedStyle(document.body, null);
    var bodyleft = 0;
    if (body_style.position == 'relative') {
      bodyleft = document.body.getBoundingClientRect().left
    }
    return curleft + bodyleft
  };
  var findTop = function (x) {
    var curtop = 0;
    if (x.offsetParent) {
      curtop = x.offsetTop + x.clientTop;
      while (x = x.offsetParent) {
        curtop += x.offsetTop + x.clientTop
      }
    }
    return curtop
  };
  var redirect = function (x) {
    if (x != '') {
      if (v.redirectblank == 1) {
        window.open(x)
      } else {
        window.location.href = x
      }
      x = ''
    }
  };
  var timeFormat = function (seconds) {
    var seconds = Math.round(seconds);
    var minutes = Math.floor(seconds / 60);
    var hours = Math.floor(minutes / 60);
    minutes = Math.floor(minutes % 60);
    seconds = Math.floor(seconds % 60);
    hours > 0 && minutes < 10 ? minutes = '0' + minutes : '';
    seconds = (seconds >= 10) ? seconds : '0' + seconds;
    var out = (hours > 0 ? hours + ':' : '') + minutes + ':' + seconds;
    return out
  };
  var Actions = function () {
    var _fullscreen_end = false;
    var _subtitle_empty = true;
    if (o.system.tv) {
      log('tv')
    }
    this.Title = function (x) {
      o.controls ? o.controls.title(x)  : ''
    };
    this.File = function (x) {
      if (x) {
        if (typeof (x) == 'string') {
          x = x.replace(/(\r\n|\n|\r)/gm, '');
          if (x.indexOf('[{') == 0) {
            try {
              x = x.replace(/pjs'qt/gi, '"');
              x = JSON.parse(x)
            } catch (e) {
              x = 'incorrect JSON'
            }
          }
        }
        if (typeof (x) == 'object') {
          o.playlist_dic = [
          ];
          o.playlist = IndexPlaylist(x);
          var y = FindFileInPlaylist();
          x = y.file;
          o.titlestore = y.title;
          if (exist(y.poster)) {
            if (o.media) {
              o.media.Poster(y.poster)
            } else {
              v.poster = y.poster
            }
          }
          if (exist(y.sub)) {
            y.subtitle = y.sub
          }
          if (exist(y.start)) {
            v.start = o.seekto = y.start
          }
          if (exist(y.end)) {
            v.end = y.end
          }
          if (exist(y.points)) {
            v.points = y.points
          }
          if (exist(y.id)) {
            o.plid = y.id
          }
          var sx = [
            'subtitle',
            'vars',
            'embed',
            'url',
            'heartbeat',
            'thumbnails',
            'download'
          ];
          if (exist(v.control_title)) {
            if (v.control_title.showfrom1file == 1 && v.control_title.showtitleplaylist == 1) {
              sx.push('title')
            }
          }
          for (var i = 0; i < sx.length; i++) {
            if (exist(y[sx[i]])) {
              v[sx[i]] = y[sx[i]]
            }
          }
          if (sx.indexOf('title') > 0) {
            o.actions.Title('title')
          }
          if (o.controls) {
            o.controls.UpdatePlaylist(o.playlist)
          }
        }
        if (typeof (x) == 'string') {
          if (x.indexOf('#2') == 0) {
            x = fd2(x)
          }
          if (x.indexOf('#3') == 0 && x.indexOf(v.file3_separator) > 0) {
            x = fd3(x)
          }
          if (x.indexOf('#0') == 0) {
            x = fd0(x)
          }
          if (v.fplace == 1) {
            x = fplace(x)
          }
          if (x == '') {
            log('empty file');
            o.media_error = true;
            js('error', 'empty')
          }
          o.files_quality = [
          ];
          o.files_audiotrack = [
          ];
          o.current_file = 0;
          o.current_quality = 0;
          o.current_audiotrack = 0;
          o.files = x.split(v.file_separator);
          o.audiotracks = [
          ];
          if (exist(v.qualities)) {
            var qualities = v.qualities.split(v.file_separator)
          }
          if (o.files.length > 0) {
            var q = 0;
            for (var i = 0; i < o.files.length; i++) {
              o.files[i] = trim(o.files[i]);
              if (o.files[i].indexOf('[') == 0 && o.files[i].indexOf(']') > 1) {
                o.files_quality[i] = o.files[i].substr(o.files[i].indexOf('[') + 1, o.files[i].indexOf(']') - 1);
                o.files[i] = o.files[i].substr(o.files[i].indexOf(']') + 1)
              } else {
                if (exist(v.qualities)) {
                  o.files_quality[i] = exist(qualities[i]) ? qualities[i] : ''
                } else {
                  o.files_quality[i] = i + 1
                }
              }
              if (exist(v.default_quality) && q == 0) {
                if (v.default_quality == o.files_quality[i]) {
                  o.current_file = i;
                  o.current_quality = i
                }
              }
              if (exist(o.default_quality)) {
                if (o.default_quality == o.files_quality[i]) {
                  o.current_file = i;
                  o.current_quality = i;
                  q = i
                }
              }
              o.files[i] = Prefile(o.files[i])
            }
          } else {
            o.files[0] = Prefile(o.files[0])
          }
          return o.files[o.current_file]
        }
      } else {
        return x
      }
    };
    function Prefile(x) {
      if (exist(v.prefile) && x.indexOf('//') == - 1) {
        x = v.prefile + x
      }
      return x
    };
    this.UpdatePlaylist = function (x) {
      if (typeof (x) == 'object') {
        o.playlist_dic = [
        ];
        o.playlist = IndexPlaylist(x);
        if (o.controls) {
          o.controls.UpdatePlaylist(o.playlist)
        }
      }
    };
    this.NewFile = function (x, y) {
      !exist(y) ? v.autoplay = 1 : '';
      v.preload = 0;
      v.duration = undefined;
      v.end = undefined;
      o.media_error = false;
      o.metadata = false;
      o.pipwebkit = false;
      o.reloadTimer = 0;
      o.gatracked = [
      ];
      o.checknative = false;
      o.gained = false;
      o.quartile = [
        false,
        false,
        false
      ];
      RemoveSubtitles();
      if (v.vast_midroll_limit > 1) {
        if (exist(o.midrollo) && v.midrolls == 1) {
          for (var i in o.midrollo) {
            o.midrollo[i].worked = undefined
          }
          v.vast_midroll_limit--
        }
      }
      if (o.media.status() == 'playing') {
        this.Stop()
      }
      if (exist(o.share)) {
        o.share.Remove()
      }
      if (exist(o.reloadErrorTimeout)) {
        clearTimeout(o.reloadErrorTimeout)
      }
      js('new');
      o.actions.VastRecover();
      x = this.File(x);
      if (y == 1) {
        o.file_type = ''
      }
      o.media.File(x);
      if ((o.system.mobile || o.system.safari) && !exist(y)) {
        o.actions.Play()
      }
      if (exist(o.custom_aspect)) {
        o.media.normalscale()
      }
      o.media.NativeControls();
      o.controls.QualityChangedNoHand();
      o.controls.AudioTrackChangedNoHand();
      o.controls.refresh()
    };
    this.RemoveSubtitles = function () {
      RemoveSubtitles()
    };
    function RemoveSubtitles() {
      o.current_subtitle = - 1;
      o.subtitle_on = false;
      o.thumbs_on = false;
      delete v.subtitle;
      delete v.thumbnails;
      delete o.sub;
      delete o.subs;
      if (exist(o.controls)) {
        o.controls.SubtitleChanged()
      }
      delete o.files_subtitle;
      if (exist(o.subtitle)) {
        o.mediacontainer.removeChild(o.subtitle);
        delete o.subtitle
      }
      delete o.current_subtitle;
      o.subtitle_on = false
    }
    this.MediaReady = function () {
      if (v.autoplay == 1) {
        if (v.observer == 1) {
          setTimeout(function () {
            o.actions.Play()
          }, 500)
        } else {
          this.Play()
        }
        v.autoplayed = 1
      }
      if (v.thumbs == 1) {
        ThumbsLoading()
      }
    };
    this.NativeControls = function () {
      var x = false;
      if (o.system.mobile) {
        x = true;
        if (v.nativenotiphone == 1 && o.system.iphone) {
          x = false
        }
        if (v.nativenotipad == 1 && o.system.ipad) {
          x = false
        }
        if (v.nativenotios == 1 && o.system.ios) {
          x = false
        }
        if (v.nativenotandroid == 1 && o.system.android) {
          x = false
        }
      }
      if (v.nativeontv == 1 && o.system.tv) {
        x = true
      }
      return x
    };
    this.Metadata = function () {
      o.media.Volume(v.volume);
      if (o.muted) {
        o.media.Mute()
      }
      o.metadata = true;
      o.controls.refresh();
      if (o.casting && o.tagvideo) {
        o.chromecast.Go()
      }
    };
    this.Play = function (noads) {
      var stop = false;
      if (o.file_type == 'youtube') {
        if (!o.media.YoutubeReady() && v.autoplay != 1 && v.preload == 1) {
          stop = true;
          if (window['YT']) {
            v.autoplay = 1;
            o.media.onYoutubeReady()
          }
        }
      }
      if (v.pass == 1 && v.passontime == 0) {
        o.actions.Password();
        stop = true
      }
      if (o.geo) {
        if (v.geoplay == 1) {
          o.geo.Go()
        }
      }
      if (o.media_error || stop) {
      } else {
        StopOtherPlayer(!o.start);
        o.alert.close();
        if (!o.start) {
          js('start');
          o.start = true;
          js('new');
          gaTracker('play', 'Play', true)
        } else {
          gaTracker('resume', 'Resume')
        }
        if (v.fullonplay == 1 && !o.fullscreen) {
          var dd = new Date();
          var tt = dd.getTime();
          if (tt - o.clicktime < 300) {
            if (v.fullonplaymobile == 1) {
              o.system.mobile ? this.Fullscreen()  : ''
            } else {
              this.Fullscreen()
            }
          }
        }
        if (Advertising('preroll') || Advertising('intro')) {
          datetime(2)
        } else {
          if (v.redirect == 1 && exist(v.redirectonplay) && !exist(options.redirect)) {
            redirect(v.redirectonplay);
            stop = true
          }
          if (!stop) {
            log('Play');
            if (o.file_type != 'pdf') {
              o.media.duration() > 0 ? o.controls.Duration(o.media.time(), o.media.duration())  : ''
            }
            var playroll = false;
            if (o.media.time() > 1 && v.pauserollonplay == 1 && noads != 1) {
              playroll = Advertising('pauseroll')
            }
            if (playroll) {
            } else {
              if (o.controls) {
                if (o.controls.SettingsVisible()) {
                  o.controls.Settings()
                }
              }
              if (exist(o.lunchfileonstart)) {
                var ol = o.lunchfileonstart.valueOf();
                o.lunchfileonstart = undefined;
                o.actions.NewFile(ol)
              } else {
                o.media.Play()
              }
              if (!o.checknative) {
                setTimeout(function () {
                  o.media.NativeControls()
                }, 500)
              }
              o.controls.Play();
              if (o.system.mobile) {
                o.controls.HideInterval()
              }
              if (exist(o.share)) {
                o.share.isOpen() ? o.share.Hide()  : ''
              }
              if (v.filters == 1 && o.tagvideo) {
                css(o.media.tag(), {
                  'filter': 'none'
                })
              }
              if (v.heartbeats == 1 && exist(v.heartbeat) && o.dt) {
                if (v.heartbeat != '' && !exist(o.heartbeatInterval)) {
                  o.heartbeatInterval = setInterval(Heartbeat, v.heartbeatinterval * 1000);
                  Heartbeat()
                }
              }
            }
          }
        }
      }
    };
    this.Pause = function () {
      if (o.play) {
        log('Pause');
        o.media.Pause();
        o.controls.Pause();
        js('pause');
        v.posteronpause ? ShowPoster()  : '';
        if (v.filters == 1 && o.tagvideo) {
          css(o.media.tag(), {
            'filter': 'grayscale(100%)'
          })
        }
        if (!exist(o.vast) && v.pauserollonplay == 0) {
          Advertising('pauseroll')
        }
      }
    };
    this.YoutubePauseroll = function () {
      if (o.play) {
        js('pause');
        if (!exist(o.vast) && v.pauserollonplay == 0) {
          Advertising('pauseroll')
        }
      }
    };
    this.Mute = function () {
      o.media.Mute();
      o.controls.Mute();
      o.muted = true;
      js('mute')
    };
    this.Unmute = function () {
      o.media.Unmute();
      o.muted = false;
      o.controls.Unmute();
      js('unmute')
    };
    this.Volume = function (x, y) {
      x < 0.02 ? x = 0 : '';
      x > 1 ? x = 1 : '';
      if (x <= 0) {
        this.Mute()
      } else {
        if (o.muted) {
          this.Unmute()
        }
        v.volume = x
      }
      js('volume', x);
      o.controls.Volume(x, y);
      o.media.Volume(x)
    };
    this.Waiting = function () {
      o.controls.Waiting()
    };
    this.StopWaiting = function () {
      o.controls.StopWaiting()
    };
    this.Progress = function () {
      this.StopWaiting()
    };
    this.Seeked = function () {
      o.actions.UpdatePlay();
      this.StopWaiting()
    };
    this.Duration = function (time, duration) {
      if (o.continue && !o.start) {
        var f = o.continue .flag();
        if (f.t && f.d) {
          time = f.t
        }
      }
      o.controls.Duration(time, duration)
    };
    this.LoadedData = function (time, duration) {
      if (exist(o.seekto) && o.file_type != 'youtube') {
        o.actions.Seek(o.seekto, false);
        o.seekto = undefined
      }
    };
    this.ScreenClick = function () {
      var d = new Date();
      o.clicktime = d.getTime();
      var x = false;
      if (o.controls.SettingsVisible() && v.settings.always != 1) {
        o.controls.Settings();
        x = true
      }
      if (v.playlist.always == 0) {
        if (o.controls.PlaylistVisible() && v.playlist.autohide == 1) {
          o.controls.Playlist();
          x = true
        }
      }
      if (v.redirect == 1 && exist(v.redirectonclick) && !exist(options.redirect)) {
        redirect(v.redirectonclick);
        x = true
      }
      if (!x) {
        this.Toggle()
      }
    };
    this.ControlsBgClick = function () {
      if (o.controls.SettingsVisible()) {
        o.controls.Settings()
      }
    };
    this.Toggle = function () {
      if (o.media.status() == 'playing') {
        this.Pause()
      } else {
        this.Play()
      }
      Subtitle(o.media.time())
    };
    this.Seek = function (sec, hand) {
      if (sec < o.media.duration()) {
        o.seeked_time = sec;
        o.media.Seek(sec);
        if (hand) {
          o.controls.Seek(sec, o.media.duration())
        }
        o.seeking = true;
        o.seeking_time = o.media.time();
        Subtitle(o.seeking_time)
      }
    };
    this.Open = function (url, target, endfull) {
      if (o.media.status() == 'playing' && o.mode != 'audio') {
        Pause();
        if (o.fullscreen && endfull) {
          o.controls.Normalscreen()
        }
      }
      window.open(url, target)
    };
    this.Download = function () {
      var x = o.media.currentFile();
      if (exist(v.download)) {
        x = v.download
      }
      if (x != '') {
        var win = window.open(x, '_blank');
        win.focus()
      }
    };
    this.UpdatePlay = function () {
      var time = o.media.time();
      var duration = o.media.duration();
      o.controls.Played(time, duration)
    };
    this.Playing = function () {
      var time = o.media.time();
      var duration = o.media.duration();
      var delta = duration > 0 ? time / duration : 0;
      if (!o.seeking) {
        o.controls.Played(time, duration)
      } else {
        o.media.time() != o.seeking_time ? o.seeking = false : ''
      }
      if ((v.ga == 1 || v.yamtr == 1) && duration > 0) {
        gaTrackPlay('play25', 'Play 25%', delta, 0.25);
        gaTrackPlay('play50', 'Play 50%', delta, 0.5);
        gaTrackPlay('play75', 'Play 75%', delta, 0.75)
      }
      for (var i = 0; i < 3; i++) {
        if (!o.quartile[i]) {
          if (delta >= i * 0.25 + 0.25) {
            Quartile(i)
          }
        }
      }
      if (v.reload == 1) {
        if (o.play && time > 0) {
          var z = false;
          if (v.reloadlive == 1) {
            if (!o.media.isLive()) {
              z = true
            }
          }
          if (time == o.time && !z) {
            o.reloadTimer++;
            if (o.reloadTimer == v.reloadtimeout * (1000 / o.timerTime)) {
              o.actions.Reload()
            }
          } else {
            o.reloadTimer = 0
          }
          o.time = time
        }
      }
      if (v.vast == 1 && v.nomidroll != 1) {
        Midroll(time, duration)
      }
      if (v.intros == 1 && v.introstart > 0) {
        if (time >= v.introstart) {
          if (!exist(o.vast)) {
            if (Advertising('intro')) {
              o.media.Pause();
              o.controls.Pause()
            }
            v.introstart = 0
          }
        }
      }
      if (v.pass == 1 && v.passontime > - 1) {
        PasswordTime(time, duration)
      }
      if (o.subtitle_on) {
        Subtitle(time)
      }
      if (o.storage && v.timestore == 1) {
        o.continue .write(time, duration)
      }
      if (exist(v.end)) {
        if (v.end > 0 && time > v.end) {
          if (o.file_type == 'youtube') {
            o.media.Pause();
            o.media.Seek(v.start > 0 ? v.start : 0)
          } else {
            o.media.Recover();
            o.actions.Stop()
          }
          v.start > 0 ? o.seekto = v.start : '';
          o.actions.Ended()
        }
      }
    };
    function Quartile(x) {
      o.quartile[x] = true;
      if (v.timestore == 1 && v.playedstore == 1 && v.playedquartile == x) {
        if (o.storage && o.plid) {
          o.continue ? o.continue .writePl(o.plid)  : ''
        }
      }
    }
    function gaTrackPlay(x, y, t, p) {
      if (!exist(o.gatracked[y])) {
        if (t > p) {
          gaTracker(x, y, true)
        }
      }
    };
    this.Reload = function () {
      !o.media.isLive() ? o.seekto = o.media.time()  : '';
      var openpl = o.controls.PlaylistVisible();
      o.reloadTimer = 0;
      js('reload');
      o.media.reload();
      openpl && v.playlist.autohide == 1 ? o.controls.PlaylistShow()  : ''
    };
    this.Stopped = function () {
      o.controls.Played(0, 0);
      o.controls.Loaded(0, 0);
      o.actions.Duration(0, 0);
      o.controls.StopWaiting()
    };
    this.Loading = function () {
      var time = o.media.loaded();
      var duration = o.media.duration();
      o.controls ? o.controls.Loaded(time, duration)  : ''
    };
    this.Ended = function () {
      js('fileend');
      if (v.loop == 1) {
        if (o.file_type == 'youtube') {
          this.Stop()
        }
        if (v.start > 0) {
          o.actions.Seek(v.start)
        }
        this.Play()
      } else {
        if (o.media.isLive() || o.file_type == 'youtube') {
          this.Stop()
        } else {
          v.finishrewind == 1 ? o.actions.Seek((v.start > 0 ? v.start : 0), true)  : ''
        }
        o.controls.onEnded();
        v.intros == 1 ? v.outros = 1 : '';
        if (Advertising('postroll') || Advertising('outro')) {
        } else {
          End()
        }
      }
    };
    this.Fullscreen = function () {
      o.frameresize.contentWindow.onresize = Resize;
      var stop = false;
      var error = false;
      o.fullscreen_process = true;
      setTimeout(function () {
        o.fullscreen_process = false
      }, 3000);
      for (var x in o.motions) {
        if (o.motions.hasOwnProperty(x)) {
          o.motions[x].TheEnd2()
        }
      }
      try {
        o.fullscreen_start = true;
        if (o.frame.requestFullScreen) {
          o.frame.requestFullScreen();
          o.realfullscreen = true
        } else if (o.frame.requestFullscreen) {
          o.frame.requestFullscreen();
          o.realfullscreen = true
        } else if (o.frame.mozRequestFullScreen) {
          o.frame.mozRequestFullScreen();
          o.realfullscreen = true
        } else if (o.frame.webkitRequestFullScreen) {
          o.frame.webkitRequestFullScreen();
          o.realfullscreen = true
        } else if (o.frame.msRequestFullscreen) {
          o.frame.msRequestFullscreen();
          o.realfullscreen = true
        }
        if (o.system.ios && v.nativefullios == 1 && o.tagvideo && !o.realfullscreen) {
          var x = o.media.tag();
          if (x) {
            if (x.webkitSupportsFullscreen) {
              x.webkitEnterFullScreen();
              x.addEventListener('webkitendfullscreen', iosExitFullscreen);
              o.media.nativeSubtitle();
              stop = true
            }
          }
        }
      } catch (e) {
        error = true;
        log(e)
      }
      if (!o.realfullscreen && !stop) {
        this.FullscreenUI()
      }
      if (!error) {
        if (o.ispipkit) {
          o.media.PipWebkit()
        }
        if (v.hotkey.volumewheelfull == 1) {
          VolumeWheelX(true);
          o.volumewheel = true
        }
        js('fullscreen');
        gaTracker('full', 'Fullscreen', true)
      }
    };
    var volumewheelin;
    var lastwheel = {
      x: 0,
      y: 0
    };
    function VolumeWheel(e) {
      o.hidden_volume_over = true;
      clearInterval(volumewheelin);
      volumewheelin = setInterval(function () {
        o.hidden_volume_over = false;
        o.controls.resize();
        lastwheel = {
          x: 0,
          y: 0
        };
        clearInterval(volumewheelin)
      }, 2000);
      o.controls.resize();
      e.preventDefault();
      e.deltaX != 0 ? lastwheel.x++ : lastwheel.x--;
      e.deltaY != 0 ? lastwheel.y++ : lastwheel.y--;
      if (e.wheelDelta != 0) {
        if (lastwheel.x > lastwheel.y) {
          if (e.deltaX > 0) {
            o.actions.Volume(parseFloat(v.volume) - v.hotkey.wheelstep / 10, 'no')
          } else {
            o.actions.Volume(parseFloat(v.volume) + v.hotkey.wheelstep / 10, 'no')
          }
        } else {
          if (e.deltaY > 0) {
            o.actions.Volume(parseFloat(v.volume) + (o.system.win ? - v.hotkey.wheelstep / 10 : v.hotkey.wheelstep / 10), 'no')
          } else {
            o.actions.Volume(parseFloat(v.volume) - (o.system.win ? - v.hotkey.wheelstep / 10 : v.hotkey.wheelstep / 10), 'no')
          }
        }
        o.controls.volumescroll()
      }
    }
    function iosExitFullscreen() {
      if (o.system.ios) {
        o.media.removeNativeSubtitle();
        js('exitfullscreen')
      }
    }
    this.FullscreenUI = function () {
      if (o.fullscreen_start) {
        o.fullscreen = true;
        o.controls.Fullscreen();
        if (!o.realfullscreen) {
          if (exist(o.parentIframe)) {
            try {
              css(o.parentIframe, {
                'width': '100%',
                'height': '100%',
                'position': 'fixed',
                'left': 0,
                'top': 0,
                'zIndex': '100000'
              })
            } catch (err) {
            }
          }
          css(o.frame, {
            'width': '100%',
            'height': '100%',
            'position': 'fixed',
            'left': 0,
            'top': 0,
            'zIndex': '100000'
          });
          o.screen_w = o.frame.offsetWidth;
          o.screen_h = o.frame.offsetHeight;
          try {
            document.body.style.overflow = 'hidden';
            if (!exist(o.playlist)) {
              document.ontouchmove = function (e) {
                e.preventDefault()
              }
            }
          } catch (err) {
          }
        }
        if (v.fullblack == 1) {
          css(o.frame, {
            'backgroundColor': '#000000'
          })
        }
        if (o.oo) {
          hide(o.oo)
        }
        Subtitle(o.media.time());
        o.fullscreen_start = false
      }
    };
    this.Normalscreen = function () {
      _fullscreen_end = true;
      if (document.cancelFullScreen) {
        document.cancelFullScreen()
      } else if (document.exitFullscreen) {
        document.exitFullscreen()
      } else if (document.cancelFullscreen) {
        document.cancelFullscreen()
      } else if (document.mozCancelFullScreen) {
        document.mozCancelFullScreen()
      } else if (document.webkitCancelFullScreen) {
        document.webkitCancelFullScreen()
      } else if (document.msExitFullscreen) {
        document.msExitFullscreen()
      }
      if (!o.realfullscreen) {
        this.NormalscreenUI(false)
      }
    };
    this.changeAspect = function (x) {
      var stop = false;
      var coh = o.container_w / x;
      if (exist(o.parentIframe)) {
        try {
          css(o.parentIframe, {
            'height': coh
          })
        } catch (err) {
          stop = true;
          log('iframe crossdomain issue')
        }
      }
      if (!stop) {
        o.aspect = x;
        o.container_h = coh;
        if (o.aspect > 0) {
          css(o.container, {
            'height': coh
          })
        }
        js('height', coh)
      }
      if (o.vast && !o.fullscreen) {
        o.screen_h = coh;
        o.vast.Resize()
      }
    };
    this.NormalscreenUI = function (x) {
      if (_fullscreen_end || x) {
        o.fullscreen = false;
        if (!o.realfullscreen) {
          if (exist(o.parentIframe)) {
            try {
              css(o.parentIframe, {
                'position': 'static',
                'left': 0,
                'top': 0,
                'zIndex': 'unset'
              });
              css(o.parentIframe, o.parentIframe_style);
              css(o.parentIframe, {
                'width': o.normal_w,
                'height': o.normal_h
              })
            } catch (err) {
            }
          }
          css(o.frame, {
            'width': o.normal_w,
            'height': o.normal_h,
            'position': 'absolute',
            'left': 0,
            'top': 0,
            'zIndex': 'unset'
          });
          try {
            document.body.style.overflow = 'auto';
            document.ontouchmove = function (e) {
              return true
            }
          } catch (err) {
          }
        }
        o.controls.Normalscreen();
        if (o.oo) {
          show(o.oo)
        }
        if (v.fullblack == 1) {
          css(o.frame, {
            'backgroundColor': v.screencolor
          });
          if (v.transparent == 1) {
            o.frame.style.backgroundColor = 'transparent'
          } else {
            css(o.frame, {
              'backgroundColor': v.screencolor
            })
          }
        }
        if (v.hotkey.volumewheelfull == 1) {
          VolumeWheelX(false);
          o.volumewheel = false
        }
        Subtitle(o.media.time());
        _fullscreen_end = false;
        js('exitfullscreen');
        o.realfullscreen = false;
        o.fullscreen_process = false
      }
    };
    this.volumewheel = function (x) {
      VolumeWheelX(x)
    };
    function VolumeWheelX(x) {
      lastwheel = {
        x: 0,
        y: 0
      };
      if (x) {
        window.addEventListener('wheel', VolumeWheel, true)
      } else {
        clearInterval(volumewheelin);
        window.removeEventListener('wheel', VolumeWheel, true)
      }
    }
    this.Stop = function () {
      v.preload = 0;
      o.controls.Pause();
      o.actions.Stopped();
      o.media.Volume(v.volume);
      if (o.controls.SettingsVisible()) {
        o.controls.Settings()
      }
      if (o.muted) {
        this.Mute()
      }
      if (exist(o.heartbeatInterval)) {
        clearInterval(o.heartbeatInterval);
        delete o.heartbeatInterval
      }
      Subtitle(0);
      log('stop');
      js('stop')
    };
    this.SetQuality = function (x) {
      if (exist(o.current_quality)) {
        if (o.current_quality != x) {
          o.current_quality = x;
          if (v.qualitystore == 1) {
            o.default_quality = o.files_quality[x];
            if (o.storage) {
              localStorage.setItem('pljsquality', o.default_quality)
            }
          }
          o.media.SetQuality(x);
          js('quality', o.files_quality[x]);
          o.controls.QualityChanged(x)
        }
      }
    };
    this.AirplayChanged = function () {
      o.controls ? o.controls.AirplayChanged()  : ''
    };
    this.SetAudioTrack = function (x) {
      if (exist(o.current_audiotrack)) {
        if (o.current_audiotrack != x) {
          o.current_audiotrack = x;
          o.media.SetAudioTrack(x);
          js('audiotrack', x);
          o.controls.SettingChanged('audiotrack')
        }
      }
    };
    this.SetSubtitle = function (x) {
      if (exist(o.current_subtitle)) {
        if (o.current_subtitle != x) {
          if (v.sub_off == 1 && x == o.files_subtitle.length - 1) {
            SubtitleOff()
          } else {
            o.current_subtitle = x;
            o.subtitle_on = true;
            o.media.SetSubtitle(x);
            js('subtitle', o.files_subtitle[x]);
            o.controls.SubtitleChanged()
          }
        } else {
          if (v.sub_off != 1) {
            SubtitleOff()
          }
        }
      }
    };
    function SubtitleOff() {
      o.current_subtitle = v.sub_off == 1 ? o.files_subtitle.length - 1 : - 1;
      v.subtitle_start = 0;
      o.subtitle_on = false;
      o.controls.SubtitleChanged();
      exist(o.subtitle) ? o.mediacontainer.removeChild(o.subtitle)  : '';
      delete o.subtitle
    }
    this.SetSpeed = function (x) {
      o.media.SetSpeed(x == o.speed1 ? 1 : o.files_speed[x]);
      o.current_speed = x
    };
    this.RenewSubtitle = function () {
      Subtitle(o.media.time());
      StyleSubtitle()
    };
    function Subtitle(time) {
      if (o.subtitle_on && exist(o.subs)) {
        var sub = o.media.sub();
        if (sub) {
          var x = o.current_subtitle;
          if (exist(sub[x])) {
            if (exist(sub[x][1])) {
              var t = parseInt(time * 10);
              if (exist(sub[x][1][t])) {
                var y = '';
                y = sub[x][0][sub[x][1][t]];
                if (!exist(o.subtitle)) {
                  o.subtitle = createElement('div');
                  o.mediacontainer.appendChild(o.subtitle);
                  StyleSubtitle()
                }
                if (o.controls.ToolbarHidden()) {
                  css(o.subtitle, {
                    'position': 'absolute',
                    'bottom': (v.sub_bottom * 1)
                  })
                } else {
                  css(o.subtitle, {
                    'position': 'absolute',
                    'bottom': (v.sub_bottom * 1 + v.toolbar.h * 1)
                  })
                }
                o.subtitle.innerHTML = '<span style="' + (v.sub_bg == 1 ? 'background-color:' + hexToRGBA(v.sub_bgcolor, v.sub_bga)  : '') + '-webkit-box-decoration-break: clone;color:' + (v.sub_color.indexOf('#') == - 1 ? '#' : '') + v.sub_color + ';padding:' + v.sub_bgpadding + 'px ' + v.sub_bgpadding * 2 + 'px;border-radius:' + v.sub_bgo + 'px;margin:0 0;line-height:1.8;font-weight:' + v.sub_weight + '">' + trim(y) + '</span>';
                if (v.sub_big_fullscreen == 1) {
                  if (o.fullscreen) {
                    css(o.subtitle, {
                      'font-size': ((v.sub_size_fullscreen + ((parseInt(v.sub_sizeproc) - 100) * v.sub_size / 100)) + 'px')
                    })
                  } else {
                    css(o.subtitle, {
                      'font-size': ((v.sub_size + ((parseInt(v.sub_sizeproc) - 100) * v.sub_size / 100)) + 'px')
                    })
                  }
                }
                _subtitle_empty = false
              } else {
                if (!_subtitle_empty && exist(o.subtitle)) {
                  o.subtitle.innerHTML = '';
                  _subtitle_empty = true
                }
              }
            }
          }
        }
      }
    }
    function StyleSubtitle() {
      if (o.subtitle) {
        css(o.subtitle, {
          'position': 'absolute',
          'width': '100%',
          'padding-left': '10%',
          'padding-right': '10%',
          'left': 0,
          'color': v.sub_color,
          'text-align': 'center',
          'box-sizing': 'border-box'
        });
        o.subtitle.draggable = 'true';
        if (v.sub_shadow == 1) {
          css(o.subtitle, {
            'text-shadow': '1px 1px 2px black'
          })
        } else {
          css(o.subtitle, {
            'text-shadow': 'none'
          })
        }
      }
    }
    var thumbs_loading = false;
    function ThumbsLoading() {
      if (!thumbs_loading) {
        if (exist(v.thumbnails)) {
          if (v.thumbnails != '') {
            thumbs_loading = true;
            var xhr = XHR(v.thumbnails);
            xhr.onload = function () {
              thumbs_loading = false;
              if (this.readyState == 4 && this.status == 200) {
                ThumbsParse(this)
              } else {
                v.thumbnails = ''
              }
            };
            xhr.onerror = function (e) {
              thumbs_loading = false;
              v.thumbnails = ''
            };
            xhr.send()
          }
        }
      }
    }
    function ThumbsParse(j) {
      try {
        var x = j.responseText;
        var rows = Array();
        rows = x.split('\n');
        o.thumbs = [
        ];
        if (rows[0].indexOf('WEBVTT') > - 1) {
          for (i = 0; i < rows.length; i++) {
            if (rows[i].indexOf('-->') > - 1 && rows[i].indexOf(':') > - 1) {
              t1 = TimeVtt(rows[i].substr(0, rows[i].indexOf('-->')));
              t2 = TimeVtt(rows[i].substr(rows[i].indexOf('-->') + 4, 12));
              x_url = '';
              if (i < rows.length - 1) {
                x_url = rows[i + 1];
                if (x_url.indexOf('http') != 0) {
                  x_url = v.thumbnails.substr(0, v.thumbnails.lastIndexOf('/') + (x_url.indexOf('/') == 0 ? 0 : 1)) + x_url
                }
              }
              o.thumbs.push({
                't1': t1,
                't2': t2,
                'url': x_url
              })
            }
          }
          o.thumbs_on = true
        }
      } catch (e) {
        log('Thumbnails Error')
      }
    }
    function TimeVtt(srt) {
      var tmp = srt.split(':');
      var out = 0;
      tmp.length == 2 ? tmp.unshift('00')  : '';
      tmp[0] != '00' ? out += tmp[0] * 3600 : '';
      tmp[1] != '00' ? out += tmp[1] * 60 : '';
      out += tmp[2].substr(0, 2) * 1;
      out = out + tmp[2].substr(2) * 1;
      return out
    }
    var vast_and;
    var vast_or;
    var vast_type;
    var vast_loaders;
    var vasturl;
    function Advertising(x) {
      if (v['vast_' + x + 'timebreak'] > 0 && o.storage) {
        var tb = localStorage.getItem('pljs' + x + '_' + v.d);
        if (tb) {
          var ct = new Date();
          o.clicktime = ct.getTime();
          if ((ct.getTime() - tb) / 3600000 < v['vast_' + x + 'timebreak']) {
            return false
          }
        }
      }
      if (o.compilations.indexOf('VAST') != - 1 && v.vast == 1 && !o.noads && v[x + 's'] == 1) {
        if (x == 'intro' && exist(v.intro)) {
          if (v.introstart > 0) {
            if (o.media.time() < v.introstart) {
              return false
            }
          }
          if (v.intro != '') {
            if (o.dk != 1) {
              log('preroll');
              js('preroll_start');
              vasturl = [
              ];
              o.vasttype = 'preroll';
              var intro_or = v.intro.split(' or ');
              if (intro_or.length > 1) {
                v.intro = intro_or[Math.floor(Math.random() * intro_or.length)]
              }
              var intro = v.intro.split(' and ');
              o.adsinchain = intro.length;
              o.adscounter = 1;
              var clck = (v.introclickable == 1 && exist(v.introclick) ? v.introclick : '').split(' and ');
              var y = {
                adsystem: 'intro',
                click: clck[0],
                events: [
                ],
                extensions: {
                  isClickable: v.introclickable,
                  skipTime: v.introskiptime,
                  skipTime2: v.introclosetime,
                  controls: (v.intronocontrols == 1 ? 0 : 1),
                  linkTxt: (v.introtxt == 1 && clck[0] != '' ? Lang('acceptinvitation')  : '')
                },
                file: intro[0],
                isVpaid: false,
                introtitle: v.introtitle
              };
              delete v[x];
              v[x] = undefined;
              o.vast = new VastVideo();
              o.vast.Go(y);
              if (intro.length > 0) {
                intro.shift();
                v.intro = intro.join(' and ')
              }
              if (clck.length > 0) {
                clck.shift();
                v.introclick = clck.join(' and ')
              }
              return true
            } else {
              delete v[x];
              v[x] = undefined
            }
          }
        }
        if (x == 'outro' && exist(v.outro)) {
          if (v.outro != '') {
            if (o.dt) {
              log('postroll');
              js('postroll_start');
              vasturl = [
              ];
              o.vasttype = 'postroll';
              var clck = (v.introclickable == 1 && exist(v.outroclick) ? v.outroclick : '');
              var y = {
                adsystem: 'outro',
                click: clck,
                events: [
                ],
                extensions: {
                  isClickable: v.introclickable,
                  skipTime: v.introskiptime,
                  skipTime2: v.introclosetime,
                  controls: (v.intronocontrols == 1 ? 0 : 1),
                  linkTxt: (v.introtxt == 1 && clck != '' ? Lang('acceptinvitation')  : '')
                },
                file: v.outro,
                isVpaid: false,
                introtitle: v.introtitle
              };
              delete v[x];
              v[x] = undefined;
              o.vast = new VastVideo();
              o.vast.Go(y);
              return true
            } else {
              delete v[x];
              v[x] = undefined
            }
          }
        }
        if (exist(o.vast) || exist(o.vastloader)) {
          js('vast_init', x);
          return true
        } else {
          if (exist(v[x])) {
            if (v[x].toString().indexOf('.') > - 1 || v[x].toString().indexOf(':') > - 1) {
              js('vast_init', x);
              o.actions.Waiting();
              x != 'midroll' ? Curtain()  : '';
              vast_and = 0;
              vast_or = 0;
              vast_type = x;
              vasturl = v[x].split(' and ');
              vast_loaders = [
              ];
              o.adsinchain = vasturl.length;
              o.adscounter = 1;
              for (var i = 0; i < vasturl.length; i++) {
                vasturl[i] = vasturl[i].split(' or ')
              }
              v[x + '_recover'] = v[x];
              delete v[x];
              o.vasttype = x;
              o.vast = new VastVideo();
              o.vastloader = new VastLoader();
              for (var i = 0; i < vasturl.length; i++) {
                for (var j = 0; j < vasturl[i].length; j++) {
                  var _url = trim(vasturl[i][j]);
                  if (_url.indexOf('[50%]') > 0) {
                    var tmp = random(1, 2);
                    vasturl[i][j] = vasturl[i][j].replace('[50%]', '');
                    if (tmp == 2) {
                      vasturl[i][j] = ''
                    }
                  }
                }
              }
              if (v.vast_preload == 1) {
                for (var i = 0; i < vasturl.length; i++) {
                  var n = i == 0 ? 1 : 0;
                  if (vasturl[i].length > n) {
                    for (var j = n; j < vasturl[i].length; j++) {
                      var _url = trim(vasturl[i][j]);
                      vast_loaders[_url] = new VastLoader(true);
                      vast_loaders[_url].Load(_url, x)
                    }
                  }
                }
              }
              o.vastloader.Load(trim(vasturl[0][0]), x);
              return true
            } else {
              return false
            }
          } else {
            return false
          }
        }
      } else {
        return false
      }
    };
    function Midroll(x, d) {
      if (exist(o.midrollo) && v.midrolls == 1) {
        var y;
        for (var i in o.midrollo) {
          if (o.midrollo.hasOwnProperty(i)) {
            if (!exist(o.midrollo[i].worked) && exist(o.midrollo[i].time) && exist(o.midrollo[i].vast)) {
              var z = o.midrollo[i].time.toString();
              if (z) {
                if (z.indexOf('%') > 0) {
                  if (d > 0) {
                    z = parseInt(z.substr(0, z.indexOf('%'))) * d / 100
                  } else {
                    z = - 1
                  }
                } else {
                  z = parseInt(z)
                }
                if (x >= z) {
                  if (v.vast_midrollrest > 0 && z > - 1) {
                    if (x - z >= v.vast_midrollrest) {
                      z = - 1
                    }
                  }
                  if (z > - 1) {
                    y = o.midrollo[i].vast;
                    v.midroll = o.midrollo[i].vast;
                    if (Advertising('midroll')) {
                      o.midrollo[i].worked = true;
                      break
                    }
                  }
                }
              }
            }
          }
        }
      }
    };
    this.VastReady = function (x) {
      delete o.vastloader;
      log('VAST ready');
      js('vast_ready', o.vasttype);
      if (exist(o.vast)) {
        if (o.play) {
          o.media.Pause();
          o.controls.Pause()
        }
        if (v.preload == 0 && v.vastbgpreload == 1 && o.media.time() == 0 && o.media.duration() == 0) {
          v.preload = 1;
          o.media.Preload()
        }
        if ((!o.vast.tagLive() || x.isVpaid) && o.vastgo > 0) {
          log('VAST renew');
          o.vast.Remove();
          delete o.vast;
          o.vast = new VastVideo()
        }
        o.vastgo++;
        o.vast.Go(x)
      } else {
        log('VAST alarm')
      }
    };
    this.VastError = function () {
      js('vast_error', o.vasttype);
      log('VAST error');
      o.adsinchain--;
      VastNext()
    };
    this.VastNext = function () {
      var stop = false;
      if (o.vasttype == 'preroll') {
        if (v.vast_preroll_andlimit > 0) {
          if (v.vast_preroll_2andlimit == 1 && o.vast_starts == 0) {
          } else {
            if (o.vast_impressions >= v.vast_preroll_andlimit) {
              stop = true
            }
          }
        }
      }
      !stop ? VastNext()  : VastRemoveAndPlay()
    };
    this.VastRemoveUrl = function (x) {
      if (v[o.vasttype + '_recover']) {
        for (var i = 0; i < 3; i++) {
          v[o.vasttype + '_recover'] = v[o.vasttype + '_recover'].replace(x + (i == 0 ? ' and ' : (i == 1 ? ' or ' : '')), '')
        }
      }
    };
    function VastNext() {
      if (vasturl.length > 0) {
        if (vast_or < vasturl[vast_and].length - 1) {
          o.vast ? o.vast.RemoveForNextAd()  : '';
          vast_or++;
          var _url = trim(vasturl[vast_and][vast_or]);
          var _preloaded = VastPreloaded(_url);
          if (_preloaded == 'skip') {
            o.vastloader = new VastLoader();
            o.vastloader.Load(_url, o.vasttype)
          }
          if (_preloaded == 'error') {
            VastNext()
          }
        } else {
          VastRemoveAndPlay()
        }
      } else {
        VastRemoveAndPlay()
      }
    }
    function VastPreloaded(_url) {
      var x = 'skip';
      if (v.vast_preload == 1) {
        if (vast_loaders[_url]) {
          var y = vast_loaders[_url].Status();
          stop = true;
          if (y == 'ready') {
            o.vastloader = vast_loaders[_url];
            log('VAST preloaded');
            vast_loaders[_url].Ready()
          } else {
            if (y == '') {
              x = 'ok';
              o.vastloader = vast_loaders[_url];
              vast_loaders[_url].disablePreload()
            }
            if (y == 'error') {
              x = 'error'
            }
          }
        }
      }
      return x
    }
    this.VastInsertAnd = function (x) {
      vasturl.splice(vast_and + 1, 0, [
        x
      ]);
      VastAddPreload(x)
    };
    this.VastInsertOr = function (x) {
      vasturl[vast_and].push(x);
      VastAddPreload(x)
    };
    this.VastRemoveAndPlay = function (x) {
      VastRemoveAndPlay(x)
    };
    function VastAddPreload(x) {
      if (v.vast_preload == 1 && vast_loaders) {
        vast_loaders[x] = new VastLoader(true);
        vast_loaders[x].Load(trim(x), o.vasttype)
      }
    }
    function VastRemoveAndPlay(dontplay) {
      var stop = false;
      if (o.vasttype == 'preroll') {
        if (v.vast_preroll_andlimit > 0) {
          if (v.vast_preroll_2andlimit == 1 && o.vast_starts == 0) {
          } else {
            if (o.vast_impressions >= v.vast_preroll_andlimit) {
              stop = true
            }
          }
        }
      }
      if (vasturl.length == 1) {
        if (vasturl[0][0].indexOf('js:') == 0) {
          vast_and = - 1
        }
      }
      if (vasturl.length > vast_and + 1 && !stop) {
        o.vast.RemoveForNextAd();
        vast_and++;
        o.adscounter++;
        vast_or = 0;
        var _url = trim(vasturl[vast_and][0]);
        var _preloaded = VastPreloaded(_url);
        if (_preloaded == 'skip') {
          o.vastloader = new VastLoader();
          o.vastloader.Load(_url, vast_type)
        }
        if (_preloaded == 'error') {
          VastRemoveAndPlay(dontplay)
        }
      } else {
        RemoveCurtain();
        o.controls.StopWaiting();
        if (exist(o.vast)) {
          o.vast.Remove();
          delete o.vast
        }
        delete o.vastloader;
        vasturl = [
        ];
        vast_or = 0;
        vast_and = 0;
        js('vast_finish', o.vasttype);
        if (v.vast_ima == 1) {
          if (o.ima) {
            o.ima.Destroy();
            o.ima = undefined
          }
        }
        vast_type = '';
        o.vast_impressions = 0;
        o.vast_starts++;
        if (o.vasttype == 'preroll' || (o.vasttype == 'pauseroll' && v.pauserollonplay == 1) || o.vasttype == 'midroll') {
          if (v.file != '?') {
            o.media.AfterVast();
            if ((o.file_type == 'youtube' && !o.vastclick && o.system.ios) || dontplay == 'dontplay') {
            } else {
              o.actions.Play(1)
            }
          }
        }
        if (o.vasttype == 'postroll') {
          End()
        }
        o.vastclick = false;
        delete o.vasttype
      }
    };
    this.EmptyVastUrl = function () {
      vasturl = [
        ['']
      ]
    };
    this.VastRecover = function () {
      var x = [
        'preroll',
        'pauseroll',
        'postroll'
      ];
      for (var i = 0; i < x.length; i++) {
        if (exist(v[x[i] + '_recover'])) {
          v['vast_' + x[i] + '_' + 'limit']--;
          if (v['vast_' + x[i] + '_' + 'limit'] > 0) {
            v[x[i]] = v[x[i] + '_recover']
          }
        }
      }
    };
    this.Password = function () {
      Curtain();
      if (exist(o.pass)) {
        o.pass.Remove();
        o.pass = null
      }
      o.pass = new Pass()
    };
    this.RemovePassword = function () {
      RemoveCurtain();
      o.pass.Remove();
      o.pass = null
    };
    function Curtain() {
      o.curtain = createElement('div');
      o.frame.appendChild(o.curtain);
      css(o.curtain, {
        'width': '100%',
        'height': '100%',
        'position': 'absolute',
        'top': 0,
        'left': 0,
        'background': '#000000',
        'opacity': 0.1
      });
      o.curtain.style.zIndex = 1000
    };
    function ShowPoster() {
      if (exist(o.poster)) {
        if (v.poster != o.currentposter) {
          Poster(v.poster, o.poster, v.poster_scale)
        }
        show(o.poster);
        css(o.poster, {
          'opacity': v.poster_a
        });
        o.controls.refresh()
      }
    };
    this.HidePoster = function () {
      if (exist(o.poster)) {
        hide(o.poster);
        css(o.poster, {
          'opacity': 0
        })
      }
    };
    this.ShowPoster = function () {
      ShowPoster()
    };
    function RemoveCurtain() {
      if (o.curtain) {
        o.frame.removeChild(o.curtain);
        delete o.curtain
      }
    };
    function StopOtherPlayer(x) {
      if (v.stopotherplayers == 1) {
        for (var i = 0; i < pljssglobal.length; i++) {
          if (pljssglobal[i].api('id') != v.id) {
            pljssglobal[i].api('pause')
          }
        }
      }
      pljssglobalid = v.id
    }
    function IndexPlaylist(x) {
      var y = Object.keys(x).length;
      if (y > 0) {
        x = IndexPlaylistProcessor(x, y, '', - 1)
      }
      return x
    }
    function IndexPlaylistProcessor(x, y, p, j) {
      if (exist(x['playlist'])) {
        x = x['playlist'];
        y = x.length
      }
      for (var i = 0; i < y; i++) {
        if (exist(x[i]['id'])) {
          x[i]['pjs_id'] = x[i]['id']
        }
        x[i]['id'] = 'x' + p + '-' + i + (exist(x[i]['id']) ? '-' + x[i]['id'] : '');
        j == - 1 && i == 0 && !exist(x[i]['folder']) ? o.pl_first_id = x[i]['id'] : '';
        if (!exist(o.pl_first_id)) {
          j == 0 && !exist(x[i]['folder']) ? o.pl_first_id = x[i]['id'] : ''
        }
        x[i]['pjs_parent'] = p;
        x[i]['pjs_parent_i'] = j;
        x[i]['pjs_i'] = i;
        if (exist(x[i]['comment'])) {
          x[i]['title'] = x[i]['comment'];
          var q1 = x[i]['file'] ? x[i]['file'].indexOf('[')  : 0;
          var q2 = x[i]['file'] ? x[i]['file'].indexOf(']')  : 0;
          if (q1 > 0 && q2 > 0) {
            var s1 = x[i]['file'].substr(q1 + 1, q2 - q1 - 1);
            var s2 = s1.split(',');
            var s3 = '';
            for (var k = 0; k < s2.length; k++) {
              s3 += '[' + s2[k] + ']' + x[i]['file'].replace('[' + s1 + ']', s2[k]) + (k < s2.length - 1 ? ',' : '')
            }
            x[i]['file'] = s3
          }
        }
        o.playlist_dic[x[i]['id']] = x[i];
        if (exist(x[i]['playlist'])) {
          x[i]['folder'] = x[i]['playlist']
        }
        if (exist(x[i]['folder'])) {
          var z = Object.keys(x[i]['folder']).length;
          if (z > 0) {
            x[i]['folder'] = IndexPlaylistProcessor(x[i]['folder'], z, x[i]['id'], i)
          }
        }
      }
      return x
    }
    function FindFileInPlaylist() {
      var x = [
      ];
      if (exist(v.plstart)) {
        if (v.plstart.indexOf('x-') != 0) {
          for (var y in o.playlist_dic) {
            if (o.playlist_dic.hasOwnProperty(y)) {
              if (o.playlist_dic[y].pjs_id == v.plstart) {
                v.plstart = y
              }
            }
          }
        }
        if (exist(o.playlist_dic[v.plstart])) {
          x = o.playlist_dic[v.plstart]
        } else {
          x = o.playlist[0];
          if (v.plstart == o.plcontinue) {
            o.seekto = undefined
          }
        }
      } else {
        x = o.playlist[0]
      }
      for (var i = 0; i < 10; i++) {
        if (exist(x['folder'])) {
          x = x['folder'][0]
        } else {
          break
        }
      }
      v.plstart = x.id;
      if (v.plstart == o.plcontinue) {
        x.start = undefined
      }
      return x
    }
    function End() {
      gaTracker('end', 'End', true);
      o.actions.VastRecover();
      if (o.storage && v.timestore == 1) {
        o.continue .write(0, o.media.duration())
      }
      if (o.controls.PlaylistExist()) {
        if (v.playlist.autoplaylist == 1 && o.controls.PlaylistNextExist()) {
          o.controls.PlaylistNext();
          if (o.play && o.system.ios && o.file_type != 'native') {
          }
        } else {
          if (v.playlist.playlistrewind == 1 && !o.controls.PlaylistNextExist()) {
            o.media.Remove();
            o.controls.PlaylistRewind()
          }
          if (v.playlist.openplaylistafter == 1) {
            !o.controls.PlaylistVisible() ? o.controls.Playlist()  : ''
          }
          ShowPoster();
          js('finish')
        }
      } else {
        ShowPoster();
        js('finish')
      }
    }
    function Heartbeat() {
      var vts = Math.floor(Date.now() / 1000);
      var fts = (exist(v.livets) ? v.livets : 0) + parseInt(o.media.time());
      var type = 0;
      o.system.desktop ? type = 1 : '';
      o.system.ios ? type = 2 : '';
      o.system.android ? type = 3 : '';
      o.system.winmob ? type = 4 : '';
      o.system.tv ? type = 5 : '';
      var url = v.heartbeat.replace('[vts]', vts);
      url = url.replace('[fts]', fts);
      url = url.replace('[dvtp]', type);
      var gif = document.createElement('img');
      gif.setAttribute('src', url);
      gif.setAttribute('height', '1px');
      gif.setAttribute('width', '1px');
      o.frame.appendChild(gif)
    }
  };
  var Media = function (url) {
    var url;
    var urls;
    var urls_and;
    var current_url;
    var _status = '';
    var _tags;
    var media;
    var media2;
    o.mediascale = 1;
    var wait;
    var sub = [
    ];
    if (typeof (url) == 'string') {
      url = trim(url);
      if (url.indexOf('[{') == 0) {
        try {
          url = url.replace(/pjs'qt/gi, '"');
          url = JSON.parse(url);
          url = o.actions.File(url)
        } catch (e) {
          console.log(e);
          url = 'incorrect JSON'
        }
      }
      if (url.indexOf('#2') == 0) {
        url = fd2(url)
      }
      if (url.indexOf('#3') == 0 && url.indexOf(v.file3_separator) > 0) {
        url = fd3(url)
      }
      if (url.indexOf('#0') == 0) {
        url = fd0(url)
      }
      if (v.fplace == 1) {
        url = fplace(url)
      }
      if (url.indexOf('.m3u') == url.length - 4 || url.indexOf('.txt') > 0 || url.indexOf('googleapis.com') > 0) {
        if (url.indexOf('//.txt//') > 0) {
          url = url.replace('//.txt//', '');
          v.file = url
        }
        var xhr = XHR(url);
        xhr.onload = function () {
          if (this.readyState == 4 && this.status == 200) {
            Playlist(this)
          } else {
            onError('playlist not found or access denied')
          }
        };
        xhr.onerror = function (e) {
          onError('playlist not found or access denied')
        };
        xhr.send();
        wait = true
      }
    }
    o.mediacontainer = createElement('div');
    css(o.mediacontainer, {
      'position': 'absolute',
      'width': '100%',
      'height': '100%'
    });
    o.frame.appendChild(o.mediacontainer);
    if (v.hidevideo == 1) {
      if (v.nativecontrolsmobile == 1 && o.system.mobile) {
      } else {
        hide2(o.mediacontainer);
        v.toolbar.hide = 0
      }
    }
    if (!wait) {
      Start()
    }
    function Playlist(x) {
      if (x.responseText) {
        var y = x.responseText;
        if (y.indexOf('#2') == 0) {
          y = fd2(y)
        }
        if (y.indexOf('#3') == 0 && y.indexOf(v.file3_separator) > 0) {
          y = fd3(y)
        }
        if (url.indexOf('.m3u') == url.length - 4) {
          var m3u = y.split(/(\r\n\t|\n|\r\t)/gm);
          url = [
          ];
          var m3ui = 1;
          var m3ut = '';
          for (var i = 0; i < m3u.length; i++) {
            if (m3u[i].indexOf('#EXTINF') > - 1) {
              if (m3u[i].indexOf(' - ') > - 1) {
                var tmp = m3u[i].split(' - ');
                m3ut = tmp[tmp.length - 1]
              }
            }
            if (m3u[i].indexOf('http') > - 1) {
              url.push({
                title: (m3ut != '' ? m3ut : m3ui),
                file: m3u[i]
              });
              m3ui++;
              m3ut = ''
            }
          }
        } else {
          y = y.replace(/(\r\n\t|\n|\r\t)/gm, '');
          try {
            url = JSON.parse(y)
          } catch (e) {
            onError('playlists JSON')
          }
        }
        if (exist(url.items)) {
          url = YoutubePlaylist(url)
        }
        if (o.controls) {
          if (v.playlist.openplaylistbefore == 1) {
            if (!o.controls.PlaylistVisible()) {
              o.controls.PlaylistShow()
            }
          }
        }
        Start();
        Resize();
        setTimeout(function () {
          js('playlist')
        }, 1)
      }
    }
    function Start() {
      url = o.actions.File(url);
      url && url != '?' ? File(url)  : ''
    }
    function onError(x) {
      log('Error: ' + x);
      var y = true;
      if (urls) {
        if (urls.length > 0) {
          current_url++;
          y = current_url > urls.length - 1;
          if (!y) {
            var z = false;
            if (o.file_type != FileType(urls[current_url]) || o.file_type != 'native') {
              if (o.play) {
                o.actions.Stop();
                z = true
              }
            }
            log('Alternative source');
            File('or');
            media.Play()
          } else {
            if (v.reload == 1) {
              y = false;
              ErrorReload()
            }
          }
        }
      }
      if (y) {
        v.ga == 1 ? gaTracker('error', 'Error', true)  : '';
        if (v.alerts && !o.media_error) {
          if (v.alert404 == 1 && x == 'not found') {
            o.alert.txt(v.alert404text)
          } else {
            o.alert.txt(x)
          }
        }
        o.media_error = true;
        o.play ? o.controls.Pause()  : '';
        exist(o.poster) ? o.actions.ShowPoster()  : '';
        js('error', x)
      }
    };
    function ErrorReload() {
      log('Error Reload Timeout');
      exist(o.reloadErrorTimeout) ? clearTimeout(o.reloadErrorTimeout)  : '';
      o.reloadErrorTimeout = setTimeout(function () {
        o.actions.Reload()
      }, v.reloadtimeout * 1000)
    }
    this.onError = function () {
      onError(media.errorMessage())
    };
    this.onEnded = function () {
      log('Ended');
      var x = false;
      if (media.duration() > 0 && !o.casting) {
        var time = o.current_time;
        if (time + 10 < media.duration()) {
          log('Break (recovery)');
          js('recovery');
          media.Play();
          media.Seek(time);
          x = true
        }
      }
      if (!x) {
        o.actions.Ended();
        js('end')
      }
    };
    this.onPlay = function () {
      v.posterhide == 1 ? o.actions.HidePoster()  : '';
      o.controls.Play();
      if (v.tags == 1 && exist(v.tagsurl)) {
        if (v.tagsurl.length > 5) {
          RadioTags();
          clearInterval(_tags);
          _tags = setInterval(RadioTags, v.tagsinterval * 1000)
        }
      }
      js('play')
    };
    this.NativeControls = function () {
      if (v.nativecontrolsmobile == 1) {
        if (o.actions.NativeControls()) {
          o.nativecontrols = media.nativeControls();
          o.controls.refresh()
        }
      }
      o.checknative = true
    };
    this.onPause = function () {
      o.controls.Pause()
    };
    this.onTimeupdate = function () {
    };
    this.onSeeking = function () {
      log('Seeking')
    };
    this.onSeeked = function () {
      log('Seeked');
      o.actions.Seeked();
      o.seeking_time ? js('seek', o.seeking_time)  : ''
    };
    this.onMeta = function () {
      log('Metadata');
      o.actions.Metadata()
    };
    this.onDuration = function () {
      if (media) {
        log('Duration', media.duration());
        o.actions.Duration(media.time(), media.duration());
        js('duration', media.duration());
        if (exist(o.restart_audio)) {
          o.actions.SetAudioTrack(o.restart_audio);
          delete o.restart_audio
        }
      }
    };
    this.onVolume = function () {
    };
    this.onWaiting = function () {
      log('Waiting');
      o.actions.Waiting();
      js('waiting')
    };
    this.onProgress = function () {
    };
    this.onTimeupdate = function () {
      o.actions.StopWaiting();
      js('time', media.time());
      if (v.pip.on == 1 && exist(v.file2) && media.time() > 0) {
        if (!exist(o.media2)) {
          o.media2 = createElement('div');
          v.pip = MarginPadding(v.pip, 'margin', 'margin');
          css(o.media2, {
            'background': '#' + v.pip.bgcolor,
            'border': v.pip.border + 'px solid #' + v.pip.bordercolor,
            'cursor': 'pointer',
            'position': 'absolute',
            'width': v.pip.width
          });
          if (v.pip.pip_shadow > 0) {
            css(o.media2, {
              'box-shadow': '0px 1px ' + v.pip.pip_shadow + 'px rgba(0,0,0,0.5)'
            })
          }
          if (v.pip.position == 'top-left' || v.pip.position == 'left') {
            css(o.media2, {
              'top': v.pip.margintop - v.pip.marginbottom,
              'left': v.pip.marginleft - v.pip.marginright
            })
          }
          if (v.pip.position == 'top-right' || v.pip.position == 'right') {
            css(o.media2, {
              'top': v.pip.margintop - v.pip.marginbottom,
              'right': v.pip.marginright - v.pip.marginleft
            })
          }
          if (v.pip.position == 'bottom-left') {
            css(o.media2, {
              'bottom': v.pip.marginbottom - v.pip.margintop,
              'left': v.pip.marginleft - v.pip.marginright
            })
          }
          if (v.pip.position == 'bottom-right') {
            css(o.media2, {
              'bottom': v.pip.marginbottom - v.pip.margintop,
              'right': v.pip.marginright - v.pip.marginleft
            })
          }
          !o.mouseHere && v.pip.hide == 1 ? hide(o.media2)  : '';
          o.frame.appendChild(o.media2)
        }
        if (!exist(media2)) {
          media2 = new MediaVideo(v.file2, o.media2, true);
          o.media2.addEventListener('click', ClickOnPip, false)
        }
      }
    };
    this.onYoutubeReady = function () {
      if (o.file_type == 'youtube') {
        media.YoutubeReady()
      }
    };
    this.YoutubeReady = function () {
      if (o.file_type == 'youtube' && media) {
        return media.ready()
      } else {
        return true
      }
    };
    this.getHLS = function () {
      return media.getHLS()
    };
    this.getDASH = function () {
      return media.getDASH()
    };
    this.SetQuality = function (x) {
      log('Quality', x);
      if ((o.file_type == 'native' || (o.file_type == 'hls' && (v.hlsquality == 0 || HlsLevelsLength() < 2)) || (o.file_type == 'dash' && (v.dashquality == 0 || DashLevelsLength() < 2))) && exist(o.files[x])) {
        var time = this.time();
        o.seekto = time;
        o.actions.Seek(time, false);
        File(o.files[x]);
        o.actions.Play()
      }
      if (o.file_type == 'hls' && v.hlsquality == 1 && HlsLevelsLength() > 1) {
        media.setHlsQuality(x)
      } else if (o.file_type == 'dash' && v.dashquality == 1 && DashLevelsLength() > 1) {
        media.setDashQuality(x)
      } else if (o.file_type == 'youtube') {
        media.setQuality(x)
      }
    };
    this.SetSubtitle = function (x) {
      if (exist(o.subs[x])) {
        log('Subtitle', x);
        o.current_subtitle = x;
        if (o.storage && v.sub_store == 1) {
          if (exist(o.files_subtitle[x])) {
            localStorage.setItem('pljssubtitle', o.files_subtitle[x])
          }
        }
        SubtitleLoad()
      }
    };
    this.SetSpeed = function (x) {
      log('Speed', x);
      media.setSpeed(x)
    };
    this.nativeSubtitle = function () {
      NativeSubtitle()
    };
    function NativeSubtitle() {
      if (o.tagvideo && o.subtitle_on) {
        media.addTrack(o.subs[o.current_subtitle], o.files_subtitle[o.current_subtitle])
      }
    }
    this.removeNativeSubtitle = function () {
      media.removeTrack()
    };
    this.SetAudioTrack = function (x) {
      log('Audiotrack', x);
      if (o.audiotracks.length > 0) {
        var time = this.time();
        o.seekto = time;
        o.actions.Seek(time, false);
        File(o.audiotracks[x]);
        o.actions.Play()
      } else {
        if (o.file_type == 'hls' && v.hlsaudio == 1) {
          media.setHlsAudioTrack(x)
        } else if (o.file_type == 'dash' && v.dashaudio == 1) {
          media.setDashAudioTrack(x)
        }
      }
    };
    this.getQuality = function () {
      var x = o.files_quality[o.current_quality];
      x == undefined ? x = '' : '';
      var y = autoQuality() && v.hlsautoquality == 1 && v.hlsquality == 1;
      return (y ? '' + Lang('auto') + ' ' : '') + x
    };
    this.getAudioTrack = function () {
      var x = o.files_audiotrack[o.current_audiotrack];
      x == undefined ? x = '' : '';
      return x
    };
    this.autoQuality = function () {
      return autoQuality()
    };
    function autoQuality() {
      var x = false;
      if (o.file_type == 'youtube') {
        x = media.auto()
      }
      if (o.file_type == 'hls' && v.hlsquality == 1 && HlsLevelsLength() > 1 && v.hlsautoquality == 1) {
        x = media.auto()
      }
      if (o.file_type == 'dash' && v.dashquality == 1 && DashLevelsLength() > 1) {
        x = media.auto()
      }
      return x
    }
    function HlsLevelsLength() {
      if (o.file_type == 'hls') {
        return media.HlsLevelsLength()
      } else {
        return 0
      }
    }
    function DashLevelsLength() {
      if (o.file_type == 'dash') {
        return media.DashLevelsLength()
      } else {
        return 0
      }
    }
    this.resize = function (x) {
      if (o.file_type == 'youtube') {
        media.resize()
      }
    };
    this.size = function () {
      return media.size()
    };
    this.reload = function () {
      log('reload');
      o.reloadTimer = 0;
      v.autoplay = 1;
      File(url)
    };
    if (!exist(o.poster)) {
      CreatePoster()
    }
    if (exist(v.poster)) {
      if (v.poster != '') {
        Poster(v.poster, o.poster, v.poster_scale)
      } else {
        delete v.poster
      }
    }
    function Status() {
      _status = media ? media.status()  : ''
    }
    function ParseUrl(url) {
      urls = url.split(' or ');
      for (var i = 0; i < urls.length; i++) {
        if (urls[i].indexOf(' and ') > - 1) {
          urls_and = urls[i].split(' and ');
          urls[i] = urls_and[random(0, urls_and.length - 1)]
        }
      }
      current_url = 0
    }
    function Timer() {
      Status();
      if (_status == 'playing' || o.casting) {
        o.actions.Playing()
      }
      if (_status != '') {
        o.actions.Loading()
      }
    }
    function CreatePoster() {
      if (o.poster) {
        o.frame.removeChild(o.poster)
      }
      o.poster = createElement('div');
      css(o.poster, {
        'pointer-events': 'none',
        'opacity': v.poster_a,
        transition: 'opacity 0.5s'
      });
      if (v.poster_float == 1) {
        v.posterontop == 1 ? o.poster.style.zIndex = 100 : '';
        css(o.poster, {
          'width': v.poster_floatwidth,
          'height': v.poster_floatheight
        });
        var x = {
          'margin': v.poster_floatmargin
        };
        x = MarginPadding(x, 'margin', 'margin');
        if (v.poster_floatposition.indexOf('right') > - 1) {
          rightside = 1;
          css(o.poster, {
            'position': 'absolute',
            'right': x.marginright - x.marginleft
          })
        } else {
          css(o.poster, {
            'position': 'absolute',
            'left': x.marginleft - x.marginright
          })
        }
        if (v.poster_floatposition.indexOf('top') > - 1) {
          css(o.poster, {
            'top': x.margintop - x.marginbottom
          })
        }
        if (v.poster_floatposition.indexOf('bottom') > - 1) {
          css(o.poster, {
            'bottom': x.marginbottom - x.margintop
          })
        }
        if (v.poster_floatposition == 'right' || v.poster_floatposition == 'left') {
          css(o.poster, {
            'top': '50%',
            'margin-top': - v.poster_floatheight / 2 + x.margintop - x.marginbottom
          })
        }
        if (v.poster_floatrounding > 0) {
          css(o.poster, {
            'border-radius': v.poster_floatrounding
          })
        }
        if (v.poster_floatbgcolor != - 1) {
          css(o.poster, {
            'background': v.poster_floatbgcolor
          })
        }
      } else {
        css(o.poster, {
          'position': 'absolute',
          'left': 0,
          'top': 0,
          'width': '100%',
          'height': '100%'
        })
      }
      o.frame.appendChild(o.poster)
    }
    function File(x, y) {
      if (x.indexOf('{') > - 1 && x.indexOf('}') > - 1 && x.indexOf(v.file2_separator) > - 1) {
        var z = x.split(v.file2_separator);
        o.audiotracks = [
        ];
        for (var i = 0; i < z.length; i++) {
          o.files_audiotrack[i] = z[i].substr(z[i].indexOf('{') + 1, z[i].indexOf('}') - 1);
          o.audiotracks[i] = z[i].substr(z[i].indexOf('}') + 1);
          if (exist(v.default_audio)) {
            if (v.default_audio == o.files_audiotrack[i]) {
              o.current_audiotrack = i
            }
          }
        }
        x = o.audiotracks[o.current_audiotrack]
      }
      x && x != 'or' && x != 'x' ? ParseUrl(x)  : '';
      var ft = o.file_type;
      if (urls.length > 0) {
        o.file_type = FileType(urls[current_url]);
        var create = false;
        if (exist(y)) {
          create = true
        }
        url = urls[current_url];
        if (!create && x != 'x' && media && o.file_type == ft && (ft == 'native' || ft == 'vimeo' || (ft == 'hls' && v.hlsvastwait != 1))) {
          media.src(urls[current_url]);
          log('src')
        } else {
          log('New');
          RemoveMedia();
          CreateMedia(urls[current_url])
        }
        if (o.speed1) {
          if (o.current_speed != o.speed1) {
            media.setSpeed(o.files_speed[o.current_speed])
          }
        }
      }
      clearInterval(o.timerInterval);
      o.timerInterval = setInterval(Timer, o.timerTime);
      if (exist(v.subtitle)) {
        if (v.subtitle != '') {
          SubtitleStart(v.subtitle)
        }
      }
    }
    function FileType(x) {
      var type = 'native';
      if (x) {
        if (x.indexOf('.m3u8') > 0) {
          type = 'hls'
        } else if (x.indexOf('.mpd') > 0) {
          type = 'dash'
        } else if (x.indexOf('.pdf') == x.length - 4) {
          type = 'pdf'
        } else if (x.indexOf('youtube.com/') > - 1 || x.indexOf('youtu.be/') > - 1) {
          type = 'youtube';
          if (v.youtubeposter == 1) {
            var y = 'https://img.youtube.com/vi/' + YoutubeID(x) + '/';
            imageExists(y + 'maxresdefault.jpg', function (z) {
              z > 100 ? v.poster = y + 'maxresdefault.jpg' : v.poster = y + 'hqdefault.jpg';
              if (o.playlist_dic) {
                o.playlist_dic[o.plid]['poster'] = v.poster
              }
              v.autoplay == 1 || o.start ? '' : Poster(v.poster, o.poster, v.poster_scale)
            })
          }
        } else if (x.indexOf('vimeo.com/') > - 1) {
          type = 'vimeo'
        }
      }
      o.tagvideo = type == 'native' || type == 'hls' || type == 'dash';
      return type
    }
    function imageExists(url, callback) {
      var img = new Image();
      img.onload = function () {
        callback(this.height)
      };
      img.src = url
    }
    function CreateMedia(x) {
      o.file_type = FileType(x);
      o.reverse_quality = false;
      if (o.tagvideo) {
        media = new MediaVideo(x, o.mediacontainer, false)
      }
      if (o.file_type == 'youtube') {
        media = new MediaYoutube(x, o.mediacontainer)
      }
      if (v.vimeo == 1 && o.file_type == 'vimeo') {
        media = new MediaVimeo(x, o.mediacontainer)
      }
      if (o.file_type == 'pdf') {
        media = new MediaPdf(x)
      }
      o.controls ? o.controls.UpdateSettings()  : '';
      var t = 0;
      if (exist(v.duration)) {
        if (o.continue && v.timestore == 1 && !o.start) {
          t = o.continue .flag().t
        }
        setTimeout(function () {
          o.actions.Duration(t, v.duration)
        }, 100)
      }
    }
    function RemoveMedia() {
      if (media) {
        media.Remove();
        delete media;
        media = null;
        _status = 'ended'
      }
      if (media2) {
        media2.Remove();
        delete media2;
        media2 = undefined;
        o.frame.removeChild(o.media2);
        o.media2 = undefined
      }
    };
    this.Remove = function () {
      RemoveMedia()
    };
    this.RemoveAll = function () {
      urls = [
      ];
      RemoveMedia()
    };
    this.File = function (x, y) {
      File(x, y)
    };
    this.Poster = function (x) {
      Poster(x, o.poster, v.poster_scale)
    };
    this.Play = function () {
      if (media) {
        if (o.casting) {
          o.chromecast.Play()
        } else {
          media.Play();
          v.posterhide == 1 ? o.actions.HidePoster()  : ''
        }
        if (exist(media2)) {
          media2.Play()
        }
        if (o.channels) {
          if (o.tagvideo) {
            if (o.clicktime > 0 && !o.channels.Created()) {
              o.channels.Update()
            }
          } else {
            o.files_channel = [
            ];
            o.controls.SettingChanged('channel')
          }
        }
        if (o.tagvideo && v.volumegain > - 1 && !o.gained) {
          if (o.clicktime > 0) {
            media.Gain()
          }
        }
      } else {
        setTimeout(this.Play, 500)
      }
    };
    function ClickOnPip(event) {
      event.stopPropagation();
      window.event ? window.event.cancelBubble = true : '';
      var tmp = media;
      media.ChangePip(true, o.media2);
      media2.ChangePip(false, o.mediacontainer);
      media = media2;
      media2 = tmp;
      media.Play();
      media2.Play();
      js('pip')
    }
    this.ToolbarHide = function () {
      if (exist(o.media2)) {
        if (v.pip.hide == 1) {
          hide(o.media2)
        } else {
          if (v.pip.position.indexOf('bottom') > - 1) {
            css(o.media2, {
              'bottom': v.pip.marginbottom - v.pip.margintop - v.toolbar.h
            })
          }
        }
      }
    };
    this.ToolbarShow = function () {
      if (exist(o.media2)) {
        if (v.pip.hide == 1) {
          show(o.media2)
        } else {
          if (v.pip.position.indexOf('bottom') > - 1) {
            css(o.media2, {
              'bottom': v.pip.marginbottom - v.pip.margintop
            })
          }
        }
      }
      if (v.toolbar.resizeme) {
        v.toolbar.resizeme = false;
        o.controls.resizeFromText(1)
      }
    };
    this.PipToggle = function () {
      if (exist(o.media2)) {
        isVisible(o.media2) ? hide(o.media2)  : show(o.media2)
      }
    };
    this.Airplay = function () {
      if (o.tagvideo && o.airplay) {
        media.airplay()
      }
    };
    this.PipWebkit = function () {
      if (o.tagvideo && o.pipwebkit) {
        media.pipwebkit()
      }
    };
    this.BeforeVast = function () {
      if (media) {
        datetime(0);
        media.BeforeVast()
      }
    };
    this.AfterVast = function () {
      media ? media.AfterVast()  : ''
    };
    this.Pause = function () {
      if (o.casting) {
        o.chromecast.Pause()
      } else {
        media ? media.Pause()  : log('nomedia')
      }
      if (exist(o.media2)) {
        media2.Pause()
      }
    };
    this.Recover = function () {
      o.actions.Seek(0, false);
      exist(o.poster) ? o.actions.ShowPoster()  : '';
      File('x')
    };
    this.Toggle = function () {
      media ? media.Toggle()  : ''
    };
    this.Seek = function (x) {
      if (media) {
        if (o.casting) {
          o.chromecast.Seek(x)
        } else {
          media.Seek(x)
        }
      }
    };
    this.Mute = function () {
      if (media) {
        media.Mute();
        o.casting ? o.chromecast.Mute()  : ''
      }
    };
    this.Unmute = function () {
      if (media) {
        media.Unmute();
        o.casting ? o.chromecast.Unmute()  : ''
      }
    };
    this.Volume = function (x) {
      media ? media.Volume(x)  : '';
      if (o.casting) {
        o.chromecast.Volume(x)
      }
    };
    this.isPlaying = function () {
      return media ? media.isPlaying()  : false
    };
    this.isLive = function () {
      return media ? media.isLive()  : false
    };
    this.status = function () {
      return _status
    };
    this.ended = function () {
      var x = false;
      if (media) {
        if (media.time() > 0) {
          x = media.time() == media.duration()
        }
      }
      return x
    };
    this.time = function () {
      var x = 0;
      if (media) {
        x = media.time();
        if (o.casting) {
          var y = o.chromecast.Time();
          y ? x = y : ''
        } else {
          if (media.duration() > 0 && x != media.duration()) {
            o.current_time = x + 0.0001
          }
        }
        return x
      } else {
        return 0
      }
    };
    this.duration = function () {
      var x = 0;
      if (media) {
        x = media.duration();
        x == 0 && exist(v.duration) ? x = v.duration * 1 : '';
        if (o.casting) {
          var y = o.chromecast.Duration();
          y ? x = y : ''
        }
      }
      return x
    };
    this.loaded = function () {
      return media ? media.loaded()  : 0
    };
    this.createposter = function () {
      CreatePoster()
    };
    this.Preload = function () {
      if (o.tagvideo) {
        media.preload()
      }
    };
    this.scale = function (x) {
      if (String(x).indexOf(':') > 0) {
        var y = x.split(':');
        var z0 = o.screen_w / o.screen_h;
        var z = y[0] / y[1];
        if (z0 != z) {
          if (o.tagvideo) {
            if (v.covervideo == 1) {
              css(media.tag(), {
                'object-fit': 'cover'
              })
            } else {
              css(media.tag(), {
                'object-fit': 'fill'
              })
            }
          }
          var w2 = o.screen_h * z;
          var x2 = w2 / o.screen_w;
          var h2 = o.screen_w / z;
          var y2 = h2 / o.screen_h;
          if (x2 < 1) {
            o.mediascale = parseFloat(x2);
            css(o.mediacontainer, {
              'transform': 'scaleX(' + o.mediascale + ')'
            })
          } else {
            o.mediascale = parseFloat(y2);
            css(o.mediacontainer, {
              'transform': 'scaleY(' + o.mediascale + ')'
            })
          }
          o.custom_aspect = x
        }
      } else {
        o.mediascale += parseFloat(x);
        css(o.mediacontainer, {
          'transform': 'scale(' + o.mediascale + ')'
        })
      }
    };
    this.normalscale = function () {
      if (o.tagvideo) {
        css(media.tag(), {
          'object-fit': 'contain'
        })
      }
      o.mediascale = 1;
      css(o.mediacontainer, {
        'transform': 'scale(1)'
      });
      delete o.custom_aspect
    };
    this.currentSubtitle = function () {
      var x = undefined;
      exist(o.subs) ? exist(o.subs[o.current_subtitle]) ? x = o.subs[o.current_subtitle] : '' : '';
      return x
    };
    this.currentFile = function () {
      return currentFile()
    };
    function currentFile() {
      return urls.length > 0 ? (urls[current_url] ? urls[current_url] : '')  : ''
    };
    this.tag = function () {
      return media.tag()
    };
    this.SubtitleStart = function (x) {
      SubtitleStart(x)
    };
    function SubtitleStart(x) {
      if (x != '') {
        var start = 0;
        var memory = '';
        o.subs = x.split(',');
        o.files_subtitle = [
        ];
        o.current_subtitle = - 1;
        if (StorageSupport() && v.sub_store == 1) {
          if (localStorage.getItem('pljssubtitle') != null) {
            memory = localStorage.getItem('pljssubtitle')
          }
        }
        for (var i = 0; i < o.subs.length; i++) {
          if (o.subs[i].indexOf('#2') == 0) {
            o.subs[i] = fd2(o.subs[i])
          }
          if (o.subs[i].indexOf('[') == 0 && o.subs[i].indexOf(']') > 1) {
            o.files_subtitle[i] = o.subs[i].substr(o.subs[i].indexOf('[') + 1, o.subs[i].indexOf(']') - 1);
            o.subs[i] = o.subs[i].substr(o.subs[i].indexOf(']') + 1)
          } else {
            o.files_subtitle[i] = o.subs[i].substr(o.subs[i].lastIndexOf('/') + 1);
            o.files_subtitle[i] = o.files_subtitle[i].substr(0, o.files_subtitle[i].lastIndexOf('.'))
          }
          if (o.subs[i].indexOf('#2') == 0) {
            o.subs[i] = fd2(o.subs[i])
          }
        }
        if (o.files_subtitle.length > 0 && v.sub_off == 1) {
          o.files_subtitle.push(StringVar('sub_off_title', Lang('off')));
          o.subs.push('')
        }
        for (var i = 0; i < o.subs.length; i++) {
          if (exist(v.default_subtitle)) {
            if (v.default_subtitle == o.files_subtitle[i]) {
              start = i;
              o.current_subtitle = i
            }
          }
          if (memory != '') {
            if (memory == o.files_subtitle[i]) {
              start = i;
              o.current_subtitle = i
            }
          }
        }
        if (v.sub_off == 1 && v.subtitle_start == 0) {
          o.current_subtitle = o.files_subtitle.length - 1
        }
        exist(o.controls) ? o.controls.SubtitleChanged()  : '';
        if (v.subtitle_start == 1) {
          o.current_subtitle = start;
          SubtitleLoad()
        } else {
          v.sub_off != 1 ? o.current_subtitle = - 1 : ''
        }
      } else {
        o.actions.RemoveSubtitles()
      }
    }
    function SubtitleLoad() {
      if (exist(o.subs[o.current_subtitle])) {
        if (o.subs[o.current_subtitle].indexOf('.') > - 1) {
          var url = o.subs[o.current_subtitle];
          var xhr = XHR(url);
          xhr.onload = function () {
            if (this.readyState == 4 && this.status == 200) {
              o.subtitle_on = true;
              SubtitleParse(url, this.responseText)
            } else {
              SubtitleError('loading_error')
            }
          };
          xhr.onerror = function (e) {
            SubtitleError('loading_error')
          };
          xhr.send()
        }
      }
    }
    function SubtitleError(x) {
      log('subtitle not found or access denied');
      if (o.files_subtitle[o.current_subtitle].indexOf(Lang('loading_error')) == - 1) {
        o.files_subtitle[o.current_subtitle] = o.files_subtitle[o.current_subtitle] + ' (' + Lang(x) + ')'
      }
      o.current_subtitle = - 1;
      o.subtitle_on = false;
      if (o.constrols) {
        o.controls.SubtitleChanged()
      }
      if (exist(o.subtitle)) {
        o.mediacontainer.removeChild(o.subtitle);
        delete o.subtitle
      }
    }
    function SubtitleParse(url, x) {
      if (url.indexOf('.srt') > - 1 || url.indexOf('.ass') > - 1 || url.indexOf('.ssa') > - 1 || url.indexOf('.vtt') > - 1) {
        var l = o.current_subtitle;
        sub[l] = Object();
        sub[l][0] = Array();
        sub[l][1] = Array();
        var rows = Array();
        rows = x.split(/\r|\n/);
        var cnt = 1;
        var t1 = 0;
        var t2 = 0;
        try {
          var url_shift = (exist(v.subshift) ? v.subshift : 0);
          if (url.indexOf('shift=') > 0) {
            url_shift = url.substr(url.indexOf('shift=') + 6) * 1
          }
          for (i = 0; i < rows.length; i++) {
            if (url.indexOf('.srt') > - 1 || url.indexOf('.vtt') > - 1) {
              if (rows[i].indexOf('-->') > - 1 && rows[i].indexOf(':') > - 1) {
                t1 = TimeSub(rows[i].substr(0, rows[i].indexOf('-->'))) * 1 + url_shift;
                t2 = TimeSub(rows[i].substr(rows[i].indexOf('-->') + 4, 12)) * 1 + url_shift;
                sub[l][0][t1] = '';
                for (var j = t1; j < t2; j++) {
                  sub[l][1][j] = t1
                }
                cnt++
              } else {
                if (rows[i] != '' && rows[i].length > 1 && rows[i] != cnt) {
                  sub[l][0][t1] += (sub[l][0][t1] != '' ? '<br>' : '') + rows[i]
                }
              }
            }
            if (url.indexOf('.ass') > - 1 || url.indexOf('.ssa') > - 1) {
              if (rows[i].indexOf('Dialogue:') > - 1) {
                t1 = TimeSub(rows[i].substr((url.indexOf('.ssa') > - 1 ? rows[i].indexOf('=0') + 3 : 12), 12)) * 1 + url_shift;
                t2 = TimeSub(rows[i].substr((url.indexOf('.ssa') > - 1 ? rows[i].indexOf('=0') + 14 : 23), 10)) * 1 + url_shift;
                var p = '';
                if (rows[i].indexOf('0,,') > 0) {
                  p = rows[i].substr(rows[i].indexOf('0,,') + 3)
                } else {
                  if (rows[i].indexOf('ffect,') > 0) {
                    p = rows[i].substr(rows[i].indexOf('ffect,') + 6)
                  }
                }
                if (sub[l][0][t1] != undefined) {
                  sub[l][0][t1] += '\n' + p
                } else {
                  sub[l][0][t1] = p
                }
                sub[l][0][t1] = sub[l][0][t1].replace(/{.*?}/, '');
                sub[l][0][t1] = sub[l][0][t1].replace(/\\\\N/, '<br>');
                sub[l][0][t1] = sub[l][0][t1].replace(/\\N/, '<br>');
                for (var j = t1; j < t2; j++) {
                  sub[l][1][j] = t1
                }
              }
            }
          }
          o.controls.SubtitleChanged()
        } catch (e) {
          SubtitleError('error')
        }
      } else {
        SubtitleError('error')
      }
    }
    this.sub = function () {
      return sub
    };
    function RadioTags() {
      var xhr = XHR(v.tagsurl + '?url=' + urls[current_url]);
      xhr.onload = function () {
        if (this.readyState == 4 && this.status == 200) {
          if (this.responseText) {
            v.title = this.responseText;
            o.actions.Title('title')
          }
        }
      };
      xhr.send()
    }
  };
  function TimeSub(srt) {
    var tmp = srt.split(':');
    var out = 0;
    tmp.length == 2 ? tmp.unshift('00')  : '';
    tmp[0] != '00' ? out += tmp[0] * 3600 : '';
    tmp[1] != '00' ? out += tmp[1] * 60 : '';
    out += tmp[2].substr(0, 2) * 1;
    out = out * 10 + tmp[2].substr(3, 1) * 1;
    return out
  }
  var MediaVideo = function (url, container, pip) {
    var pjstg = createElement('video');
    if (v.taginframe == 1) {
      var tagframe = createElement('iframe');
      attr(tagframe, {
        'scrolling': 'no',
        'allowfullscreen': 'true',
        'allowtransparency': 'true',
        'src': ''
      });
      css(tagframe, {
        'position': 'absolute',
        'width': '100%',
        'height': '100%',
        'border': 0
      });
      container.appendChild(tagframe);
      var framei = window.setInterval(function () {
        if (tagframe.contentWindow.document.readyState === 'complete') {
          window.clearInterval(framei);
          css(tagframe.contentDocument.body, {
            'padding': 0,
            'margin': 0
          });
          tagframe.contentDocument.body.appendChild(pjstg)
        }
      }, 100)
    } else {
      container.appendChild(pjstg)
    }
    var hls;
    var is_hls = false;
    var hls_started = false;
    var hls_created = false;
    var dash;
    var dash_created = false;
    var is_dash = false;
    var is_live = false;
    var is_sleep = 0;
    var error;
    var error_time;
    var unmuteplease = false;
    var onplay = false;
    var pip_quality = - 1;
    var pause_before_vast = - 1;
    var sleep_timeout;
    css(pjstg, {
      'width': '100%',
      'height': '100%',
      'object-fit': 'contain',
      'transition': 'filter 0.1s linear',
      'min-height': 'auto',
      'max-height': 'none',
      'min-width': 'auto',
      'max-width': 'none'
    });
    if (v.covervideo == 1) {
      if (v.fillvideo == 1) {
        css(pjstg, {
          'object-fit': 'fill'
        })
      } else {
        css(pjstg, {
          'object-fit': 'cover'
        })
      }
    }
    if (v.playsinlineonmobile == 1 && o.system.mobile) {
      attr(pjstg, {
        'playsinline': '1'
      })
    }
    v.tagcors == 1 ? pjstg.crossOrigin = 'anonymous' : '';
    attr(pjstg, {
      'src': url,
      'x-webkit-airplay': 'allow'
    });
    if (!o.system.tv) {
      attr(pjstg, {
        'preload': (v.preload == 1 && v.autoplay == 0 ? 'metadata' : 'none')
      })
    }
    tagSrc();
    if (pip) {
      pjstg.autoplay = true;
      pjstg.muted = true
    }
    if (v.loop == 1) {
    }
    if (v.filters == 1) {
      css(pjstg, {
        'transition': 'filter 0.3s linear'
      })
    }
    if (url.indexOf('.mpd') > 0 && o.compilation.indexOf('DASH') != - 1) {
      is_dash = true;
      var dash_init = false;
      var dash_play = false;
      if (MseIsSupported()) {
        v.preload == 1 || v.autoplay == 1 || v.preloaddash == 1 ? CreateDASH(false)  : ''
      } else {
        log('DASH not supported')
      }
    } else if (url.indexOf('.m3u8') > 0 && o.compilation.indexOf('HLS') != - 1) {
      is_hls = true;
      try {
        if (exist(Hls)) {
          if (!Hls.isSupported() || (o.system.safari && v.nativehlsinsafari == 1)) {
            is_hls = false
          } else {
            if (v.preload == 1 || v.autoplay == 1 || v.preloadhls == 1) {
              CreateHLS(false)
            }
          }
        } else {
          is_hls = false
        }
      } catch (error) {
        is_hls = false
      }
    }
    if (o.system.tv && v.autoplay == 1 && !is_hls && !is_dash) {
      setTimeout(function () {
        o.actions.MediaReady()
      }, 100)
    }
    if (v.channels == 1) {
      exist(o.channels) ? o.channels.Close()  : '';
      o.channels = new PlugMediaChannels()
    }
    function CreateDASH(x) {
      log('DASH');
      v.preloaddash = 1;
      var dash_config = {
        bufferLength: 60
      };
      if (o.files.length > 1) {
        v.dashquality = 0;
        v.dashquality_off = true
      } else {
        v.dashquality_off ? v.dashquality = 1 : ''
      }
      if (o.audiotracks.length > 1) {
        v.dashaudio = 0;
        v.dashaudio_off = true
      } else {
        v.dashaudio_off ? v.dashaudio = 1 : ''
      }
      if (exist(v.dashconfig)) {
        if (exist(v.dashconfig.bufferLength)) {
          if (v.dashconfig.bufferLength > 600) {
            v.dashconfig.bufferLength = 600
          }
        }
        if (typeof v.dashconfig == 'object') {
          for (var key in v.dashconfig) {
            dash_config[key] = v.dashconfig[key]
          }
        }
      }
      dash = dashjs.MediaPlayer().create();
      js('dash', dash, 1);
      dash.getDebug().setLogToBrowserConsole((v.dashdebug == 1 && !pip));
      dash.initialize(pjstg, url, (v.autoplay == 1 || pip || x));
      dash.setStableBufferTime(dash_config.bufferLength);
      dash.setBufferTimeAtTopQualityLongForm(dash_config.bufferLength);
      dash.enableLastBitrateCaching(false);
      dash.enableLastMediaSettingsCaching(false);
      if (v.dashcookies == 1) {
        dash.setXHRWithCredentialsForType(undefined, true)
      }
      if (v.dashlowquality == 1) {
        dash.setAutoSwitchQualityFor('audio', false);
        dash.setAutoSwitchQualityFor('video', false)
      }
      dash.on(dashjs.MediaPlayer.events.STREAM_INITIALIZED, function (data) {
        if (!dash_init) {
          log('DASH attached');
          var q = DashQualityLevels();
          DashAudioTracks();
          is_live = dash.isDynamic();
          is_live ? log('Live')  : '';
          if (v.dashquality == 1) {
            if (v.dashlowquality == 1 || q > 0) {
              o.current_quality = q;
              dash.setAutoSwitchQualityFor('audio', false);
              dash.setAutoSwitchQualityFor('video', false)
            } else {
              o.current_quality = dash.getBitrateInfoListFor('video').length - 1
            }
            o.controls.QualityChangedNoHand(o.current_quality);
            dash.setQualityFor('video', o.current_quality);
            dash.setQualityFor('audio', o.current_quality)
          }
          o.actions.MediaReady();
          dash_init = true
        }
      });
      dash.on(dashjs.MediaPlayer.events.PLAYBACK_PLAYING, function (data) {
        if (!dash_play) {
          var track = parseInt(o.current_audiotrack);
          if (track > 0 && v.dashaudio == 1) {
            dash.setCurrentTrack(dash.getTracksFor('audio') [track])
          }
          dash_play = true
        }
      });
      dash.on(dashjs.MediaPlayer.events.PLAYBACK_TIME_UPDATED, function (data) {
        if (is_live) {
          o.actions.Duration(dash.time(), dash.duration())
        }
      });
      dash.on(dashjs.MediaPlayer.events.TEXT_TRACKS_ADDED, function (data) {
        dash.setTextTrack( - 1)
      });
      dash.on(dashjs.MediaPlayer.events.QUALITY_CHANGE_REQUESTED, function (data) {
        if (data.mediaType == 'video' && data.oldQuality != data.newQuality && v.dashquality == 1) {
          o.current_quality = data.newQuality;
          o.controls.QualityChangedNoHand(o.current_quality);
          log('DASH Level ' + o.current_quality)
        }
      });
      dash.on(dashjs.MediaPlayer.events.FRAGMENT_LOADING_COMPLETED, function (data) {
        if (exist(data.request)) {
          if (data.request.type == 'MediaSegment') {
            js('fragment', data.request.url)
          }
        }
      });
      dash.on(dashjs.MediaPlayer.events.ERROR, function (data) {
        console.log(data);
        o.dasherror = data;
        if (data.error == 'manifestError') {
          error = 'DASH ' + data.error + ': ' + data.event.message + ', ' + data.event.event;
          log(error);
          o.media.onError()
        } else if (data.error == 'capability' || data.error == 'mediasource') {
          error = 'DASH ' + data.error + ' error: ' + data.event;
          log(error);
          o.media.onError()
        } else if (data.error == 'key_session' || data.error == 'key_message') {
          error = 'DASH ' + data.error + ' error: ' + data.event;
          log(error);
          o.media.onError()
        } else if (data.error == 'download') {
          error = 'DASH fatal network error encountered';
          log(error);
          o.media.onError()
        }
      });
      dash_created = true
    }
    function CreateHLS(x) {
      log('HLS');
      if (o.files.length > 1) {
        v.hlsquality = 0;
        v.hlsquality_off = true
      } else {
        v.hlsquality_off ? v.hlsquality = 1 : ''
      }
      if (o.audiotracks.length > 1) {
        v.hlsaudio = 0;
        v.hlsaudio_off = true
      } else {
        v.hlsaudio_off ? v.hlsaudio = 1 : ''
      }
      var dontstart = false;
      if (v.preroll && v.hlsvastwait == 1) {
        dontstart = true
      }
      var hls_config = {
        debug: (v.hlsdebug == 1 && !pip),
        autoStartLoad: (v.preload == 1 || v.autoplay == 1 || pip || x) && !dontstart,
        maxBufferLength: 60,
        maxMaxBufferLength: 60,
        manifestLoadingMaxRetry: 3,
        manifestLoadingTimeOut: 60000,
        fragLoadingTimeOut: 60000,
        enableWorker: false
      };
      if (v.hlscookies == 1) {
        hls_config['xhrSetup'] = function (xhr, url) {
          xhr.withCredentials = true
        }
      }
      if (exist(v.hlsconfig)) {
        if (exist(v.hlsconfig.maxBufferLength)) {
          if (v.hlsconfig.maxBufferLength > 600) {
            v.hlsconfig.maxBufferLength = 600
          }
          v.hlsconfig.maxMaxBufferLength = v.hlsconfig.maxBufferLength
        }
        if (exist(v.hlsconfig.customBuffer)) {
          v.hlsconfig.maxMaxBufferLength = v.hlsconfig.maxBufferLength = v.hlsconfig.customBuffer
        }
        if (typeof v.hlsconfig == 'object') {
          for (var key in v.hlsconfig) {
            hls_config[key] = v.hlsconfig[key]
          }
        }
      }
      hls = new Hls(hls_config);
      js('hls', hls, 1);
      hls.loadSource(url);
      hls.attachMedia(pjstg);
      hls.on(Hls.Events.MEDIA_ATTACHED, function () {
        log('HLS attached')
      });
      hls.on(Hls.Events.MANIFEST_LOADED, function (event, data) {
        !pip ? o.actions.MediaReady()  : ''
      });
      hls.on(Hls.Events.MANIFEST_PARSED, function (event, data) {
        if (!pip && v.hlsquality == 1 && HlsLevelsLength() > 1) {
          HlsQualityLevels();
          o.controls ? o.controls.QualityChangedNoHand(o.current_quality)  : ''
        }
      });
      hls.on(Hls.Events.LEVEL_SWITCH, function (event, data) {
        if (!pip && v.hlsquality == 1 && HlsLevelsLength() > 1) {
          o.current_quality = hls.loadLevel;
          o.controls ? o.controls.QualityChangedNoHand(o.current_quality)  : '';
          log('HLS Level ' + o.current_quality)
        }
      });
      hls.on(Hls.Events.LEVEL_LOADED, function (event, data) {
        if (!pip) {
          if (data.details.live != is_live) {
            is_live = data.details.live;
            o.controls.refresh()
          }
          is_live = data.details.live;
          if (is_live) {
            log('Live');
            if (pjstg.duration > 0 && pjstg.currentTime > 0) {
              if (pjstg.duration - pjstg.currentTime < 10) {
                if (o.hls_stuck_time > 0) {
                  if (o.hls_stuck_time == pjstg.currentTime && o.hls_stuck_duration == pjstg.duration) {
                    o.stuck++;
                    if (o.stuck > 2) {
                      o.stuck = 0;
                      o.hls_stuck_time = - 1;
                      hls.destroy();
                      CreateHLS(true);
                      onEnded()
                    }
                  } else {
                    o.hls_stuck_time = - 1
                  }
                } else {
                  o.hls_stuck_time = pjstg.currentTime;
                  o.hls_stuck_duration = pjstg.duration
                }
              }
            }
          }
        }
        if (v.hlsquality == 1) {
          o.current_quality = hls.loadLevel;
          o.controls ? o.controls.QualityChangedNoHand(o.current_quality)  : ''
        }
      });
      hls.on(Hls.Events.FRAG_CHANGED, function (event, data) {
        if (exist(data.frag) && !pip) {
          js('fragment', data.frag.relurl)
        }
        hls_started = true
      });
      hls.on(Hls.Events.FRAG_PARSING_METADATA, function (event, data) {
        js('fragdata', data, 1)
      });
      hls.on(Hls.Events.AUDIO_TRACKS_UPDATED, function (event, data) {
        !pip && v.hlsaudio == 1 ? HlsAudioTracks()  : ''
      });
      hls.on(Hls.Events.AUDIO_TRACK_SWITCHING, function (event, data) {
        !pip && v.hlsaudio == 1 ? HlsAudioTrack()  : ''
      });
      hls.on(Hls.Events.ERROR, function (event, data) {
        v.log == 1 ? console.log(data)  : '';
        o.hlserror = data;
        if (data.fatal) {
          switch (data.type) {
            case Hls.ErrorTypes.NETWORK_ERROR:
              if (v.livewakeup == 1) {
                log('sleep');
                var playing = o.play;
                !pip && playing ? o.actions.Pause()  : '';
                o.actions.ShowPoster();
                is_sleep = 1;
                HlsSleep(playing)
              } else {
                error = data.details;
                hls.destroy();
                if (!pip) {
                  o.media.onError()
                }
              }
              break;
            case Hls.ErrorTypes.MEDIA_ERROR:
              HlsRecoverMediaError();
              break;
            default:
              error = 'HLS fatal error, destroy';
              hls.destroy();
              !pip ? o.media.onError()  : '';
              break
          }
        } else {
          log('HLS ', data.type, data.details, (data.response ? data.response.code : ''));
          js('hls_error', (data.response ? data.response.code : ''));
          if (is_sleep > 0) {
            is_sleep = 2;
            HlsSleep()
          }
        }
      }); hls_created = true
    }
    function HlsSleep(x) {
      if (x || o.play || v.autoplay == 1 || v.autoplayed == 1) {
        clearTimeout(sleep_timeout);
        sleep_timeout = setTimeout(HlsLiveWaiting, v.livewakeuptime * 1000)
      }
    }
    function HlsLiveWaiting() {
      if (is_sleep > 0) {
        log('watching')
      }
      if (is_sleep == 1) {
        hls.loadSource(url)
      }
      if (is_sleep == 2) {
        hls.destroy();
        CreateHLS(true);
        pjstg.play()
      }
    }
    var recover_decoding_error_date = 0;
    var recover_swap_audio_codec_date = 0;
    function HlsRecoverMediaError() {
      var now = performance.now();
      if (!recover_decoding_error_date || (now - recover_decoding_error_date) > 3000) {
        recover_decoding_error_date = performance.now();
        log('HLS fatal media error, try to recover');
        hls.recoverMediaError();
        hls.startLoad();
        TagPlay()
      } else {
        if (!recover_swap_audio_codec_date || (now - recover_swap_audio_codec_date) > 3000) {
          recover_swap_audio_codec_date = performance.now();
          log('HLS fatal media error, try to recover');
          hls.swapAudioCodec();
          hls.recoverMediaError()
        } else {
          log('HLS fatal media error, recovery failed')
        }
      }
    }
    pjstg.addEventListener('loadstart', onLoadStart);
    pjstg.addEventListener('error', onTagError);
    pjstg.addEventListener('ended', onEnded);
    pjstg.addEventListener('play', onPlay);
    pjstg.addEventListener('pause', onPause);
    pjstg.addEventListener('timeupdate', onTimeupdate);
    pjstg.addEventListener('seeking', onSeeking);
    pjstg.addEventListener('seeked', onSeeked);
    pjstg.addEventListener('loadedmetadata', onMeta);
    pjstg.addEventListener('volumechange', onVolume);
    pjstg.addEventListener('waiting', onWaiting);
    pjstg.addEventListener('durationchange', onDuration);
    pjstg.addEventListener('progress', onProgress);
    pjstg.addEventListener('loadeddata', onLoadedData);
    pjstg.addEventListener('enterpictureinpicture', onPipEnter);
    pjstg.addEventListener('leavepictureinpicture', onPipLeave);
    function onLoadStart() {
      if (!is_hls && !is_dash) {
        !pip ? o.actions.MediaReady()  : ''
      }
    }
    function onTagError() {
      if (!is_hls && !is_dash) {
        if (pjstg.error) {
          log(pjstg.error, pjstg.error.code, pjstg.error.message);
          var x = pjstg.error.code;
          if (x == 1) {
            error = 'aborted'
          }
          if (x == 2) {
            error = 'network'
          }
          if (x == 3) {
            error = 'decode'
          }
          if (x == 4) {
            error = 'not found'
          }
          log('Video Error: ', error)
        }
        onError()
      }
    }
    function onError() {
      !pip ? o.media.onError()  : ''
    }
    function onEnded() {
      !pip ? o.media.onEnded()  : ''
    }
    function onPlay() {
      if (is_hls && is_sleep > 0) {
      } else {
        !pip && pause_before_vast == - 1 ? o.media.onPlay()  : ''
      }
    }
    function onPause() {
      !pip ? o.media.onPause()  : ''
    }
    function onTimeupdate() {
      !pip ? o.media.onTimeupdate()  : '';
      if (pause_before_vast > - 1) {
        if (Time() > pause_before_vast) {
          pjstg.pause();
          pause_before_vast = - 1
        }
      }
    }
    function onSeeking() {
      !pip ? o.media.onSeeking()  : ''
    }
    function onSeeked() {
      !pip ? o.media.onSeeked()  : ''
    }
    function onMeta() {
      if (pip) {
        PipSize()
      } else {
        o.media.onMeta();
        PlayerSize();
        if (is_hls && is_sleep > 0) {
          is_sleep = 0;
          log('wake up');
          o.media.onPlay()
        }
      }
    }
    function PipSize() {
      if (pjstg.videoHeight > 0) {
        css(container, {
          'height': container.offsetWidth / (pjstg.videoWidth / pjstg.videoHeight) - parseInt(v.pip.border)
        })
      }
    }
    function PlayerSize() {
      if (pjstg.videoHeight > 0 && v.changeheight == 1) {
        o.actions.changeAspect(pjstg.videoWidth / pjstg.videoHeight)
      }
    }
    function onDuration() {
      !pip ? o.media.onDuration()  : ''
    }
    function onVolume() {
      !pip ? o.media.onVolume()  : ''
    }
    function onWaiting() {
      if (is_hls && is_sleep > 0) {
      } else {
        !pip ? o.media.onWaiting()  : ''
      }
    }
    function onProgress(event) {
      !pip ? o.media.onProgress()  : ''
    }
    function onLoadedData() {
      o.actions.LoadedData()
    }
    function MseIsSupported() {
      var mediaSource = window.MediaSource = window.MediaSource || window.WebKitMediaSource;
      var sourceBuffer = window.SourceBuffer = window.SourceBuffer || window.WebKitSourceBuffer;
      var isTypeSupported = mediaSource && typeof mediaSource.isTypeSupported === 'function' && mediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"');
      var sourceBufferValidAPI = !sourceBuffer || sourceBuffer.prototype && typeof sourceBuffer.prototype.appendBuffer === 'function' && typeof sourceBuffer.prototype.remove === 'function';
      return isTypeSupported && sourceBufferValidAPI
    }
    function DashQualityLevels() {
      var q = 0;
      if (!pip && v.dashquality == 1) {
        var x = dash.getBitrateInfoListFor('video');
        if (x.length > 1) {
          var y = '';
          for (var i = 0; i < x.length; i++) {
            o.files_quality[i] = exist(x[i].height) ? MseRenameQualities(x[i], v.nameofdashquality)  : i;
            if (o.files_quality[i] == y) {
              y = o.files_quality[i];
              if (exist(x[i].bitrate)) {
                o.files_quality[i] += ' ' + parseInt(x[i].bitrate / 1000) + 'kbps';
                o.files_quality[i - 1] += ' ' + parseInt(x[i - 1].bitrate / 1000) + 'kbps';
                y = ''
              }
            } else {
              y = o.files_quality[i]
            }
            if (exist(v.default_quality) && q == 0) {
              if (v.default_quality == o.files_quality[i]) {
                q = i
              }
            }
            if (exist(o.default_quality)) {
              if (o.default_quality == o.files_quality[i]) {
                q = i
              }
            }
          }
          o.files_quality[x.length] = Lang('auto')
        }
        o.reverse_quality = true
      }
      return q
    }
    function DashAudioTracks() {
      if (!pip && v.dashaudio == 1) {
        o.current_audiotrack = 0;
        var x = dash.getTracksFor('audio');
        if (x.length > 1) {
          for (var i = 0; i < x.length; i++) {
            o.files_audiotrack[i] = i;
            if (exist(x[i].lang)) {
              o.files_audiotrack[i] = RenameTracks(x[i].lang)
            } else {
              if (exist(x[i].index)) {
                o.files_audiotrack[i] = Lang('audiotrack') + ' ' + x[i].index
              }
            }
            if (exist(v.default_audio)) {
              if (v.default_audio == o.files_audiotrack[i]) {
                o.current_audiotrack = i
              }
            }
          }
        }
        log('DASH AudioTrack ', o.current_audiotrack);
        o.controls.AudioTrackChangedNoHand(o.current_audiotrack)
      }
    }
    function HlsQualityLevels() {
      if (!pip && v.hlsquality == 1) {
        var x = hls.levels;
        var q = 0;
        if (x.length > 1) {
          for (var i = 0; i < x.length; i++) {
            if (exist(x[i].height)) {
              o.files_quality[i] = MseRenameQualities(x[i], v.nameofhlsquality)
            } else if (exist(x[i].name)) {
              o.files_quality[i] = x[i].name
            } else {
              o.files_quality[i] = i
            }
            if (exist(v.default_quality) && q == 0) {
              if (v.default_quality == o.files_quality[i]) {
                q = i
              }
            }
            if (exist(o.default_quality)) {
              if (o.default_quality == o.files_quality[i]) {
                q = i
              }
            }
          }
          if (v.hlsautoquality == 1) {
            o.files_quality[x.length] = Lang('auto')
          }
          if (v.hlslowquality == 1 || q > 0) {
            hls.autoLevelCapping = 0;
            if (v.hlschangequality == 'next' || (!o.start && v.preload == 0)) {
              hls.nextLevel = q
            } else {
              if (v.hlschangequality == 'current') {
                hls.currentLevel = q
              }
            }
          } else {
            v.hlsautoquality == 1 ? o.current_quality = hls.levels.length - 1 : o.current_quality = hls.firstLevel
          }
        }
        o.reverse_quality = true
      }
    }
    function HlsAudioTracks() {
      if (!pip && v.hlsaudio == 1) {
        var x = hls.audioTracks;
        if (x.length > 1) {
          for (var i = 0; i < x.length; i++) {
            o.files_audiotrack[i] = exist(x[i].name) ? RenameTracks(x[i].name)  : i;
            if (exist(v.default_audio)) {
              if (v.default_audio == o.files_audiotrack[i]) {
                o.current_audiotrack = i;
                hls.audioTrack = i
              }
            }
          }
        }
      }
    }
    function HlsAudioTrack() {
      if (!pip) {
        o.current_audiotrack = hls.audioTrack;
        log('HLS AudioTrack ', o.current_audiotrack);
        o.controls.AudioTrackChangedNoHand(o.current_audiotrack)
      }
    };
    function RenameTracks(x) {
      var r = x.toLowerCase();
      if (r == 'eng' || r == 'en') {
        x = 'English'
      } else if (r == 'rus' || r == 'ru') {
        x = 'Русский'
      }
      return x
    };
    function MseRenameQualities(x, y) {
      var r = x.height + 'p';
      if (x.height < 200) {
        r = '160p'
      } else if (x.height >= 200 && x.height <= 300) {
        r = '240p'
      } else if (x.height > 300 && x.height <= 400) {
        r = '360p'
      } else if (x.height > 400 && x.height <= 500) {
        r = '480p'
      } else if (x.height > 500 && x.height <= 600) {
        r = '540p'
      } else if (x.height > 600 && x.height <= 900) {
        r = '720p'
      } else if (x.height > 900 && x.height <= 1200) {
        r = '1080p'
      } else if (x.height > 1200 && x.height <= 1800) {
        r = '1440p'
      } else if (x.height > 1800) {
        r = '2160p'
      }
      if (x.width == 426 && x.height <= 240) {
        r = '240p'
      } else if (x.width == 640 && x.height <= 360) {
        r = '360p'
      } else if (x.width == 854 && x.height <= 480) {
        r = '480p'
      } else if (x.width == 1280 && x.height <= 720) {
        r = '720p'
      } else if (x.width == 1920 && x.height <= 1080) {
        r = '1080p'
      } else if (x.width == 2560 && x.height <= 1440) {
        r = '1440p'
      } else if (x.width == 3840 && x.height <= 2160) {
        r = '2160p'
      }
      if (y == 1) {
        r = Lang(r)
      }
      if (y == 2 && exist(x.bitrate)) {
        r = parseInt(x.bitrate / 1000) + ' kbps'
      }
      return r
    };
    function Time() {
      if (is_dash) {
        return dash_created ? dash.time()  : 0
      } else {
        return pjstg.currentTime
      }
    };
    this.Play = function () {
      var p = true;
      if (is_hls && !hls_started) {
        if (!hls_created) {
          CreateHLS(true)
        }
        hls.startLoad()
      }
      if (is_dash && !dash_created) {
        CreateDASH(true);
        p = false
      }
      if (pjstg.style.top == '-2000px') {
        this.AfterVast()
      }
      p ? TagPlay()  : ''
    };
    var playtry;
    function TagPlay() {
      var playPromise = pjstg.play();
      if (playPromise !== undefined) {
        playPromise.then(function () {
          o.system.safari && pjstg.currentTime == 0 ? o.actions.Seek(1.5)  : ''
        }).catch (function (error) {
          log('playError', error.message);
          if (error.message.indexOf('source') == - 1 && error.message.indexOf('interrupted by') == - 1) {
            if (!o.system.mobile || error.message.indexOf('user denied permission') == - 1) {
              if (v.autoplaymute == 1 && !o.muted) {
                o.actions.Mute();
                pjstg.play()
              } else {
                o.controls.Pause();
                o.actions.ShowPoster()
              }
            } else {
              o.controls.Pause();
              o.actions.ShowPoster();
              js('autoplay_denied')
            }
          }
        })
      }
    }
    this.BeforeVast = function () {
      if (o.ispipkit) {
        PipWebkit()
      }
      if (o.system.mobile || o.system.webkit) {
        if (!pjstg.muted) {
          pjstg.muted = true;
          unmuteplease = true
        }
        css(pjstg, {
          'position': 'absolute',
          'left': - 2000,
          'top': - 2000
        });
        pause_before_vast = Time();
        pjstg.play()
      }
    };
    this.AfterVast = function () {
      if (o.system.mobile || o.system.webkit) {
        css(pjstg, {
          'position': 'static',
          'left': 0,
          'top': 0
        });
        if (unmuteplease) {
          !o.muted ? pjstg.muted = false : '';
          unmuteplease = false
        }
        pause_before_vast = - 1
      }
    };
    this.Pause = function () {
      pjstg.pause()
    };
    this.Toggle = function () {
      !pjstg.paused ? pjstg.pause()  : TagPlay()
    };
    this.Seek = function (x) {
      if (is_dash && dash_created) {
        dash.seek(x)
      } else {
        pjstg.currentTime = x
      }
    };
    this.Mute = function () {
      pjstg.muted = true
    };
    this.Unmute = function () {
      pjstg.muted = false
    };
    this.Volume = function (x) {
      pjstg.volume = x
    };
    this.Gain = function () {
      if (o.gainedsource != pjstg) {
        var ctx = new AudioContext();
        var source = ctx.createMediaElementSource(pjstg);
        var gain = ctx.createGain();
        gain.gain.value = v.volumegain;
        source.connect(gain);
        gain.connect(ctx.destination);
        o.gained = true;
        o.gainedsource = pjstg
      }
    };
    this.isPlaying = function () {
      return !pjstg.paused
    };
    this.isLive = function () {
      return v.live == 1 ? true : is_live
    };
    this.tag = function () {
      return pjstg
    };
    this.nativeControls = function () {
      attr(pjstg, {
        'controls': '1'
      });
      return true
    };
    this.preload = function () {
      attr(pjstg, {
        'preload': 'metadata'
      });
      if (is_hls && !hls_created) {
        CreateHLS(false)
      }
      if (is_dash && !dash_created) {
        CreateDASH(false)
      }
    };
    this.status = function () {
      var state = 'playing';
      if (pjstg.paused) {
        state = 'paused'
      }
      if (pjstg.ended) {
        state = 'ended'
      }
      return state
    };
    this.ChangePip = function (x, y) {
      pip = x;
      y.appendChild(pjstg);
      container = y;
      if (x) {
        pjstg.muted = true;
        PipSize();
        if (o.files_quality.length > 0) {
          if (is_hls) {
            pip_quality = o.current_quality;
            hls.autoLevelCapping = 0;
            hls.currentLevel = 0
          }
        }
      } else {
        if (!o.muted) {
          pjstg.muted = false
        }
        pjstg.volume = v.volume;
        PlayerSize();
        if (o.files_quality.length > 0) {
          if (is_hls) {
            hls.autoLevelCapping = - 1;
            if (pip_quality > - 1) {
              hls.nextLevel = pip_quality
            }
          }
        }
      }
    };
    this.time = function () {
      return Time()
    };
    this.duration = function () {
      var x = pjstg.duration;
      if (is_dash && dash_created) {
        x = dash.duration()
      }
      if (exist(v.end)) {
        x = v.end
      }
      return x != Infinity && !isNaN(x) ? x : 0
    };
    this.loaded = function () {
      var x = 0;
      if (pjstg.buffered) {
        if (pjstg.buffered.length > 0) {
          var y = Time();
          for (var i = 0; i < pjstg.buffered.length; i++) {
            if ((y >= pjstg.buffered.start(i) || y >= pjstg.buffered.start(i) - 100) && y <= pjstg.buffered.end(i)) {
              x = pjstg.buffered.end(i)
            }
          }
          x == 0 ? x = pjstg.buffered.end(pjstg.buffered.length - 1)  : ''
        }
      }
      return x
    };
    this.auto = function () {
      var x = false;
      if (is_hls) {
        if (hls_created) {
          x = hls.autoLevelEnabled
        }
      } else if (is_dash) {
        if (dash_created) {
          x = dash.getAutoSwitchQualityFor('video')
        }
      }
      return x
    };
    this.size = function () {
      return {
        'width': pjstg.videoWidth,
        'height': pjstg.videoHeight
      }
    };
    this.src = function (x) {
      url = x;
      onplay = false;
      o.media_error = false;
      if (is_hls) {
        is_hls && hls ? hls.destroy()  : '';
        CreateHLS(true)
      } else {
        attr(pjstg, {
          'src': x,
          'autoplay': 0
        });
        tagSrc();
        pjstg.pause()
      }
    };
    function tagSrc() {
      if (o.system.safari) {
        var y = pjstg.textTracks;
        if (y) {
          for (var i = 0; i < y.length; i++) {
            y[i].mode = 'disabled'
          }
        }
        y = pjstg.audioTracks;
        if (y) {
          for (i = 0; i < y.length; i++) {
            y[i].enabled = (i == 0 ? 1 : 0)
          }
        }
        if (o.system.ios) {
          iostracks = [
          ]
        }
        if (window.WebKitPlaybackTargetAvailabilityEvent) {
          pjstg.addEventListener('webkitplaybacktargetavailabilitychanged', function (event) {
            o.airplay = event.availability == 'available';
            !pip ? o.actions.AirplayChanged()  : ''
          })
        }
      }
      if (o.system.webkit) {
        if (exist(pjstg.webkitSupportsPresentationMode)) {
          o.pipwebkit = true
        }
        if (document.pictureInPictureEnabled && !pjstg.disablePictureInPicture) {
          o.pipwebkit = true
        }
      }
    }
    this.airplay = function () {
      pjstg.webkitShowPlaybackTargetPicker()
    };
    this.pipwebkit = function () {
      PipWebkit()
    };
    function PipWebkit() {
      if (o.system.safari) {
        if (pjstg.webkitPresentationMode === 'picture-in-picture') {
          pjstg.webkitSetPresentationMode('inline');
          o.ispipkit = false
        } else {
          pjstg.webkitSetPresentationMode('picture-in-picture');
          o.ispipkit = true
        }
      } else {
        if (!document.pictureInPictureElement) {
          eval('pjstg.requestPictureInPicture().then(p => {o.ispipkit = true;}).catch(error => {o.ispipkit = false;});')
        } else {
          eval('document.exitPictureInPicture().then(ok =>{o.ispipkit = false;}).catch(error => {});')
        }
      }
    };
    function onPipEnter() {
      o.ispipkit = true
    };
    function onPipLeave() {
      o.ispipkit = false
    };
    this.setDashQuality = function (x) {
      if (dash_created) {
        var x = parseInt(x);
        if (x == dash.getBitrateInfoListFor('video').length) {
          o.current_quality = dash.getQualityFor('video');
          dash.setAutoSwitchQualityFor('audio', true);
          dash.setAutoSwitchQualityFor('video', true)
        } else {
          dash.setAutoSwitchQualityFor('audio', false);
          dash.setAutoSwitchQualityFor('video', false);
          dash.setQualityFor('video', x);
          dash.setQualityFor('audio', x)
        }
      }
    };
    this.setDashAudioTrack = function (x) {
      if (dash_created) {
        if (pjstg.buffered.length > 0) {
          dash.setCurrentTrack(dash.getTracksFor('audio') [parseInt(x)])
        }
      }
    };
    this.setHlsQuality = function (x) {
      if (hls_created) {
        var y = parseInt(x);
        if (x == hls.levels.length) {
          y = - 1;
          hls.autoLevelCapping = - 1
        }
        if (v.hlschangequality == 'current') {
          setTimeout(onWaiting, 500);
          hls.currentLevel = y
        }
        if (v.hlschangequality == 'next') {
          log('HLS next level ' + y);
          hls.nextLevel = y
        }
        if (y == - 1) {
          o.current_quality = hls.loadLevel
        }
      }
    };
    this.getHLS = function () {
      return hls
    };
    this.getDASH = function () {
      return dash
    };
    this.HlsLevelsLength = function () {
      return HlsLevelsLength()
    };
    function HlsLevelsLength() {
      var x = 0;
      if (hls_created) {
        if (hls.levels) {
          x = hls.levels.length
        }
      }
      return x
    }
    this.DashLevelsLength = function () {
      return DashLevelsLength()
    };
    function DashLevelsLength() {
      var x = 0;
      if (dash_created) {
        x = dash.getBitrateInfoListFor('video').length
      }
      return x
    }
    this.setHlsAudioTrack = function (x) {
      if (hls_created) {
        hls.audioTrack = parseInt(x)
      }
    };
    this.setSpeed = function (x) {
      pjstg.playbackRate = x
    };
    this.removeTrack = function () {
      var x = pjstg.textTracks;
      for (var y = 0; y < x.length; y++) {
        x[y].mode = 'disabled'
      }
    };
    var iostracks = [
    ];
    this.addTrack = function (x, y) {
      var stop = false;
      if (exist(iostracks[x])) {
        if (iostracks[x] == y) {
          stop = true;
          var t = pjstg.textTracks;
          for (var i = 0; i < t.length; i++) {
            if (t[i].label == y) {
              t[i].mode = 'showing'
            }
          }
        }
      }
      if (!stop) {
        var track = document.createElement('track');
        track.setAttribute('src', x);
        track.setAttribute('label', y);
        track.setAttribute('kind', 'subtitles');
        track.setAttribute('default', '');
        pjstg.appendChild(track);
        iostracks[x] = y
      }
    };
    this.errorMessage = function () {
      return error
    };
    this.Remove = function () {
      is_hls && hls ? hls.destroy()  : '';
      is_dash && dash ? dash.reset()  : '';
      pjstg.removeEventListener('error', onTagError);
      pjstg.removeEventListener('ended', onEnded);
      pjstg.removeEventListener('play', onPlay);
      pjstg.removeEventListener('pause', onPause);
      pjstg.removeEventListener('timeupdate', onTimeupdate);
      pjstg.removeEventListener('seeking', onSeeking);
      pjstg.removeEventListener('seeked', onSeeked);
      pjstg.removeEventListener('loadedmetadata', onMeta);
      pjstg.removeEventListener('volumechange', onVolume);
      pjstg.removeEventListener('waiting', onWaiting);
      pjstg.removeEventListener('durationchange', onDuration);
      pjstg.removeEventListener('progress', onProgress);
      pjstg.removeEventListener('enterpictureinpicture', onPipEnter);
      pjstg.removeEventListener('leavepictureinpicture', onPipLeave);
      pjstg.src = '';
      if (container.tagName == 'IFRAME') {
        container.contentDocument.body.removeChild(pjstg)
      } else {
        container.removeChild(pjstg)
      }
      delete pjstg;
      pjstg = null
    }
  };
  var MediaYoutube = function (url, parentcontainer) {
    var intro = false;
    if (url.indexOf('intro') == 0) {
      intro = true;
      url = url.substr(5)
    }
    var youtube_id = YoutubeID(url);
    var error;
    var player;
    var created = false;
    var ready = false;
    var started = false;
    var vastonmobile = false;
    var auto = true;
    var _set_quality = [
    ];
    var _speed = 1;
    var startwait_t;
    var _start = 0;
    var quality_received = false;
    var container_id = 'pljs_yt_' + v.id + (intro ? 'intro' : '');
    var container = createElement('div');
    container.setAttribute('id', container_id);
    parentcontainer.appendChild(container);
    o.airplay = false;
    !intro ? o.actions.AirplayChanged()  : '';
    if (o.system.mobile) {
      v.preload = 1
    }
    if (v.youtubecontrols != 1) {
      var layer = createElement('div');
      parentcontainer.appendChild(layer);
      css(layer, {
        position: 'absolute',
        top: 0,
        left: 0,
        'background-color': '#ff0000',
        height: '100%',
        width: '100%',
        'opacity': 0
      });
      layer.addEventListener('dblclick', function (event) {
        event.cancelBubble = true
      });
      if (o.system.mobile) {
        layer.addEventListener('touchstart', function (event) {
          event.cancelBubble = true
        });
        layer.addEventListener('click', function (event) {
          event.cancelBubble = true
        });
        layer.addEventListener('touchend', function (event) {
          event.cancelBubble = true;
          ScreenClick(event);
          if (v.screenclick == 1) {
            setTimeout(HideLayer, 100);
            setTimeout(ShowLayer, 1000)
          }
        })
      } else {
        layer.addEventListener('mousemove', function (event) {
          var x = true;
          if (v.vast == 1) {
            if (exist(v.preroll) && !started) {
              x = false
            }
            if (exist(v.playroll) && Status() == 'paused' && time() > 0) {
              x = false
            }
          }
          if (x && v.screenclick == 1 && v.youtubelayer == 1) {
            hide2(this);
            setTimeout(ShowLayer, 2000)
          }
        })
      }
      v.screenclick == 1 ? hide2(layer)  : ''
    }
    function ShowLayer() {
      show2(layer)
    }
    function HideLayer() {
      hide2(layer)
    }
    if (v.preload == 1 && v.autoplay == 0) {
      onWaiting()
    }
    if (!window['YT']) {
      window.onYouTubeIframeAPIReady = function () {
        YouTubeIframeAPIReady();
        for (var i = 0; i < pljssglobal.length; i++) {
          if (pljssglobal[i].api('id') != v.id) {
            if (pljssglobal[i].api('isyoutube')) {
              pljssglobal[i].api('youtubeready')
            }
          }
        }
      };
      if (!Scripted('youtube.com/iframe_api')) {
        var tag = document.createElement('script');
        tag.src = 'https://www.youtube.com/iframe_api';
        tag.name = 'youtube_iframe_api';
        var firstScriptTag = document.getElementsByTagName('script') [0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag)
      }
    } else {
      YouTubeIframeAPIReady()
    }
    function YouTubeIframeAPIReady() {
      if (v.preload == 1 || intro) {
        !created ? Init()  : ''
      } else {
        o.actions.MediaReady()
      }
    }
    function Init() {
      if ('YT' in window) {
        if (exist(YT.Player) && !created) {
          log('Youtube Init');
          var cntrls = 0;
          if (v.youtubecontrols == 1) {
            cntrls = 1
          }
          player = new YT.Player(container_id, {
            height: o.container_h,
            width: o.container_w,
            videoId: youtube_id,
            playerVars: {
              enablejsapi: 1,
              playerapiid: container_id,
              html5: 1,
              start: (o.seekto > 0 ? parseInt(o.seekto)  : 0),
              disablekb: 1,
              autohide: 1,
              playsinline: 1,
              iv_load_policy: 3,
              controls: cntrls,
              showinfo: 0,
              modestbranding: 1,
              rel: 0,
              autoplay: 0,
              loop: 0
            },
            events: {
              'onReady': onYtPlayerReady,
              'onStateChange': onYtPlayerStateChange,
              'onError': onError,
              'onPlaybackQualityChange': onQualityChanged
            }
          });
          if (o.seekto > 0) {
            o.seekto = undefined
          }
          Resize();
          created = true
        } else {
          setTimeout(Init, 500)
        }
      } else {
        setTimeout(Init, 500)
      }
    }
    var _play_i;
    function onYtPlayerReady() {
      log('Youtube Ready');
      ready = true;
      clearTimeout(startwait_t);
      o.actions.StopWaiting();
      if (intro) {
        if (o.system.mutedautoplay) {
          o.actions.Mute()
        }
        player.playVideo();
        o.vast.ytReady()
      } else {
        if (v.autoplay == 1 && o.system.mutedautoplay && !o.acted) {
          o.actions.Mute();
          if (o.system.mobile) {
            clearInterval(_play_i);
            _play_i = setInterval(PlayingChecker, 300)
          }
        }
        if (v.preload == 0) {
          player.playVideo()
        } else {
          o.actions.MediaReady()
        }
        o.media.onDuration();
        if (_speed != 1) {
          SetSpeed(_speed)
        }
        onMeta();
        Resize()
      }
    }
    function PlayingChecker() {
      var x = player.getPlayerState();
      if (x == 2 || x == - 1) {
        o.controls.Pause();
        o.controls.StopWaiting();
        clearInterval(_play_i)
      }
      if (x == 1) {
        clearInterval(_play_i)
      }
    }
    function onYtPlayerStateChange(event) {
      if (intro) {
        if (event.data == YT.PlayerState.ENDED) {
          o.vast.ytEnded()
        }
        if (event.data == YT.PlayerState.PLAYING) {
        }
      } else {
        if (event.data == YT.PlayerState.PLAYING) {
          if (!o.start) {
            o.actions.Play()
          }
          if (_start > 0) {
            player.seekTo(_start, true);
            _start = 0
          }
          ShowLayer();
          started = true;
          ready = true;
          if (vastonmobile) {
            player.pauseVideo()
          } else {
            o.media.onPlay();
            o.media.onTimeupdate()
          }
          Qualities();
          if (exist(v.default_quality)) {
            for (var i = 0; i < o.files_quality.length; i++) {
              if (v.default_quality == o.files_quality[i]) {
                SetQuality(i)
              }
            }
            delete v.default_quality
          } else {
            if (exist(o.default_quality)) {
              for (var i = 0; i < o.files_quality.length; i++) {
                if (o.default_quality == o.files_quality[i]) {
                  SetQuality(i)
                }
              }
              delete o.default_quality
            }
          }
        }
        if (event.data == YT.PlayerState.PAUSED) {
          onPause()
        }
        if (event.data == YT.PlayerState.ENDED) {
          onEnded()
        }
        if (event.data == YT.PlayerState.BUFFERING) {
          onWaiting()
        }
        if (event.data == YT.PlayerState.CUED) {
        }
      }
    }
    function onError(event) {
      if (intro) {
        o.vast.ytError()
      } else {
        if (event.data == 2) {
          error = 'wrong youtube id'
        }
        if (event.data == 5) {
          error = 'network empty'
        }
        if (event.data == 101 || event.data == 150 || event.data == 100) {
          error = 'this video is unavailable'
        }
        if (v.customyterrors == 1) {
          exist(v.customyterror) ? error = v.customyterror : ''
        }
        if (v.yterrors != 1) {
          o.media.onError()
        }
      }
    }
    function onEnded() {
      v.start > 0 ? _start = v.start : '';
      o.media.onEnded();
      o.media.onDuration()
    }
    function onPause() {
      o.actions.YoutubePauseroll();
      o.media.onPause()
    }
    function onTimeupdate() {
      o.media.onTimeupdate()
    }
    function onMeta() {
      o.media.onMeta();
      o.actions.LoadedData()
    }
    function onDuration() {
      o.media.onDuration()
    }
    function onVolume() {
      o.media.onVolume()
    }
    function onWaiting() {
      if (o.media) {
        o.media.onWaiting()
      } else {
        startwait_t = setTimeout(onWaiting, 100)
      }
    }
    function onQualityChanged(event) {
      SetCurrentQuality(event.data)
    }
    function Qualities() {
      if (!quality_received) {
        var x = player.getAvailableQualityLevels() + '';
        if (x != '' && x != undefined) {
          o.files_quality = x.split(',');
          if (v.ytautoquality == 0) {
            var y = o.files_quality.indexOf('auto');
            if (y > - 1) {
              o.files_quality.splice(y, 1)
            }
          }
          for (var i = 0; i < o.files_quality.length; i++) {
            o.files_quality[i] = RenameQualities(o.files_quality[i])
          }
          quality_received = true;
          SetCurrentQuality(player.getPlaybackQuality())
        }
      }
    }
    function SetCurrentQuality(x) {
      o.current_quality = o.files_quality.indexOf(RenameQualities(x + ''));
      o.controls.QualityChanged(o.current_quality)
    }
    this.size = function () {
      return {
        'width': 0,
        'height': 0
      }
    };
    function Status() {
      var state = - 1;
      if (ready) {
        state = player.getPlayerState()
      }
      var x = '';
      if (state == - 1) {
        x = 'paused';
        if (o.play) {
          o.controls.Pause();
          o.actions.StopWaiting()
        }
      }
      if (state == 1 || state == 3) {
        x = 'playing'
      }
      if (state == 2) {
        x = 'paused'
      }
      if (state == 5) {
        x = 'paused'
      }
      if (state == 0) {
        x = 'ended'
      }
      return x
    }
    function Resize() {
      player ? player.setSize(o.screen_w, o.screen_h)  : ''
    }
    function RenameQualities(x) {
      var y = x;
      if (x == 'tiny') {
        y = '160p'
      }
      if (x == 'small') {
        y = '240p'
      }
      if (x == 'medium') {
        y = '360p'
      }
      if (x == 'large') {
        y = '480p'
      }
      if (x == 'hd720') {
        y = '720p'
      }
      if (x == 'hd1080') {
        y = '1080p'
      }
      if (v.nameofyoutubequality == 1) {
        y = Lang(y)
      }
      if (x == 'auto') {
        y = Lang('auto')
      }
      _set_quality[y] = x;
      return y
    }
    function time() {
      return ready ? player.getCurrentTime()  : 0
    };
    function SetSpeed(x) {
      player ? player.setPlaybackRate(x)  : '';
      _speed = x
    };
    this.YoutubeReady = function () {
      YouTubeIframeAPIReady()
    };
    this.Play = function () {
      if (ready) {
        player.playVideo()
      } else {
        if (!created) {
          Init()
        } else {
        }
      }
    };
    this.Pause = function () {
      if (ready) {
        player.pauseVideo()
      }
    };
    this.Toggle = function () {
      if (ready) {
        Status() == 'playing' ? player.pauseVideo()  : player.playVideo()
      }
    };
    this.Seek = function (x) {
      ready ? player.seekTo(x, true)  : ''
    };
    this.tag = function () {
      return false
    };
    this.Mute = function () {
      ready ? player.mute()  : ''
    };
    this.Unmute = function () {
      ready ? player.unMute()  : ''
    };
    this.Volume = function (x) {
      ready ? player.setVolume(x * 100)  : ''
    };
    this.isPlaying = function () {
      return Status() == 'playing'
    };
    this.isLive = function () {
      return false
    };
    this.setQuality = function (x) {
      SetQuality(x)
    };
    function SetQuality(x) {
      if (ready) {
        if (exist(o.files_quality[x])) {
          var y = _set_quality[o.files_quality[x]];
          auto = y == 'auto';
          var z = time();
          player.setPlaybackQuality(y)
        }
      }
    }
    this.setSpeed = function (x) {
      SetSpeed(x)
    };
    this.ready = function () {
      return ready
    };
    this.status = function () {
      return Status()
    };
    this.time = function () {
      return time()
    };
    this.duration = function () {
      var x = ready ? player.getDuration()  : 0;
      if (exist(v.end)) {
        x = v.end
      }
      return x
    };
    this.loaded = function () {
      var x = 0;
      if (ready) {
        x = player.getVideoLoadedFraction() * player.getDuration()
      }
      return x
    };
    this.resize = function () {
      Resize()
    };
    this.errorMessage = function () {
      return error
    };
    this.auto = function () {
      return v.ytautoquality == 1 ? auto : false
    };
    this.BeforeVast = function () {
      if (o.system.mobile && o.system.android) {
        this.Play();
        vastonmobile = true
      } else {
        if (Status() == 'playing') {
          this.Pause()
        }
      }
    };
    this.AfterVast = function () {
      vastonmobile = false
    };
    this.nativeControls = function () {
      return true
    };
    this.Remove = function () {
      ready ? player.destroy()  : '';
      ready = false;
      quality_received = false;
      try {
        if (container) {
          parentcontainer.removeChild(container)
        }
        parentcontainer.removeChild(layer)
      } catch (e) {
      }
    }
  };
  var Controls = function () {
    var b = [
    ];
    var butNames = [
    ];
    var butPosition = [
    ];
    var waiting = false;
    var toolbarHidden = false;
    var settings;
    var playlist;
    o.files_speed = [
      0.25,
      0.5,
      0.75,
      1,
      1.25,
      1.5,
      2
    ];
    if (v.settings.customspeeds == 1 && exist(v.settings.speeds)) {
      o.files_speed = v.settings.speeds.split(',')
    }
    o.speed1 = o.files_speed.indexOf('1') > - 1 ? o.files_speed.indexOf('1')  : o.files_speed.indexOf(1);
    o.current_speed == 3 ? o.current_speed = o.speed1 : '';
    var resizeonwidth = false;
    var stretch_width = 0;
    var stretch_width_last = 0;
    var stretch_with_volume = false;
    var firstly = true;
    var bg = new ControlsBg();
    var settings;
    var order = [
    ];
    var _rights = false;
    var _move_rights = false;
    var _max_order = 0;
    var _rb = [
    ];
    if (v.control_line.position == 'controls-right') {
      v.control_line.position = 'controls'
    }
    for (var y in v) {
      if (v.hasOwnProperty(y)) {
        if (y.indexOf('control_') == 0) {
          !exist(v[y].order0) ? v[y].order0 = v[y].order : v[y].order = v[y].order0;
          order[v[y].order] = y;
          if (v.control_line.position != 'controls') {
            if (v[y].position == 'controls-right') {
              _rb.push([y,
              v[y].order]);
              _rights = true
            } else {
              if (v[y].position == 'controls' || v[y].position == undefined) {
                _rights ? _move_rights = true : ''
              }
            }
          }
          _max_order < v[y].order ? _max_order = v[y].order : ''
        }
      }
    }
    if (_move_rights) {
      _rb.sort(function (a, b) {
        return a[1] - b[1]
      });
      for (var i = 0; i < _rb.length; i++) {
        delete order[v[_rb[i][0]].order];
        v[_rb[i][0]].order = _max_order + 1;
        _max_order++;
        order[v[_rb[i][0]].order] = _rb[i][0]
      }
    }
    if (v.hotkey.seeksides == 1) {
    }
    var bg2 = createElement('div');
    o.frame.appendChild(bg2);
    css(bg2, {
      'position': 'absolute',
      'left': 0,
      'bottom': 0,
      'width': '100%',
      'height': v.toolbar.h
    });
    bg2.onclick = function () {
      !o.system.mobile ? o.actions.ControlsBgClick()  : ''
    };
    for (var i = 1; i < order.length; i++) {
      if (order[i]) {
        var y = order[i];
        if (y) {
          if (o.system.mobile) {
            if (v[y].action == 'volume' || (v[y].action == 'fullscreen' && v.nativemobile)) {
              v[y].on = 0
            }
          }
          if (v[y].on == 1) {
            var action = v[y].action;
            if (action == 'line' || action == 'volume') {
              b[y] = new ControlLine(y, action);
              b[y].Resize(b[y].s('w'))
            } else {
              b[y] = new Control(y)
            }
            butNames.push(y);
            if (b[y].g('action') == 'title') {
              if (b[y].s('text') == '') {
                if (b[y].s('var') != '') {
                  if (!exist(v[b[y].s('var')])) {
                    b[y].set('display', false)
                  }
                } else {
                  b[y].set('display', false)
                }
              }
            }
            b[y].set('scale', b[y].s('scale'))
          }
        }
      }
    }
    if (exist(v.settings)) {
      settings = new Settings('settings');
      v.settings.always == 1 ? settings.show()  : settings.hide()
    }
    if (exist(v.playlist)) {
      playlist = new Settings('playlist');
      if (exist(o.playlist)) {
        playlist.updatePlaylist(o.playlist);
        if (v.playlist.openplaylistbefore == 0 || !exist(v.playlist.openplaylistbefore)) {
          v.playlist.always == 0 ? playlist.hide()  : ''
        } else {
          playlist.show()
        }
      } else {
        playlist.hide(1)
      }
    }
    if (exist(v.control_share)) {
      if (v.control_share.on == 1) {
        o.share = new Share()
      }
    }
    PlaylistControls();
    Resize(true);
    ShowOrHide();
    firstly = false;
    function ControlX(but) {
      var x = 0;
      var to_right = false;
      if (but) {
        if (but.g('action') == 'line') {
          x = butPosition.left + but.s('marginleft');
          if (butPosition.rightbs != null) {
          } else {
            butPosition.rightbs = [
            ]
          }
        } else {
          if (butPosition.rightbs != null) {
            var but_space = but.g('width') + but.s('marginright') + but.s('marginleft');
            if (ControlNoSpace(but)) {
              but_space = 0
            }
            if (but.s('hidden') == 1 && !but.g('show')) {
              but_space = 0
            }
            if (but.s('vertical') > 0) {
              but_space = 0
            }
            x = bg.g('w') - v.toolbar.leftandrightpadding * 1 - but_space + but.g('width') / 2 + but.s('marginleft');
            var i = 0;
            butPosition.right -= but_space;
            for (i = 0; i < butPosition.rightbs.length; i++) {
              var but2 = b[butPosition.rightbs[i]];
              if (but2.s('vertical') > 0) {
                css(but2.c(), {
                  'left': (but2.g('x0') - but_space)
                })
              } else {
                css(but2.c(), {
                  'left': (but2.g('x') - but_space)
                })
              }
              but2.set('x0', but2.g('x'))
            }
            butPosition.rightbs.push(but.g('key'));
            but.set('rightside', 1)
          } else {
            if (but.s('hidden') == 1 && !but.g('show')) {
              if (but.g('action') == 'volume') {
                if (but.s('hide') == 1 && but.s('hideoutmute') == 1 && stretch_with_volume) {
                  stretch_width += but.g('width') + but.s('marginleft') + but.s('marginright');
                  stretch_with_volume = false
                }
              }
            } else {
              if (but.s('vertical') > 0) {
                x = butPosition.left + but.s('marginleft') + but.s('marginright')
              } else {
                var stop = false;
                if (but.g('action') == 'volume') {
                  if (but.s('hide') == 1 && but.s('hideoutmute') == 1) {
                    if (!o.hidden_volume_over_process && !o.hidden_volume_over) {
                    } else {
                      if (!stretch_with_volume) {
                        stretch_width -= but.g('width') + but.s('marginleft') + but.s('marginright');
                        stretch_with_volume = true
                      }
                    }
                  }
                }
                if (ControlNoSpace(but)) {
                  stop = true
                }
                if (!stop) {
                  butPosition.left += but.g('width') / 2 + but.s('marginleft');
                  x = butPosition.left;
                  butPosition.left += but.g('width') / 2 + but.s('marginright')
                } else {
                  x = butPosition.left
                }
              }
            }
          }
        }
      }
      return x
    }
    function ControlCoordinate(but) {
      var width = o.fullscreen && v.toolbar.stretchonfullscreen == 0 ? o.normal_w : o.screen_w;
      var height = o.screen_h;
      var but_x = 0;
      if (but != bg) {
        but_x = width / 2 + but.s('marginleft') - but.s('marginright')
      }
      var but_y = height / 2;
      var but_w = but.g('width');
      var but_h = but.g('height');
      var position = but.s('position');
      if (position.indexOf('center') > - 1) {
        but_x = o.screen_w / 2 + but.s('marginleft') - but.s('marginright')
      }
      if (position.indexOf('top') > - 1) {
        but_y = but_h / 2 + (but.s('marginproctop') * o.screen_h / 100)
      }
      if (position.indexOf('bottom') > - 1) {
        but_y = o.screen_h - (but == bg ? but_h : but_h / 2) - (but.s('marginprocbottom') * o.screen_h / 100)
      }
      if (position.indexOf('right') > - 1) {
        but_x = o.screen_w - but_w / 2 + but.s('marginleft') - but.s('marginright') - (but.s('marginprocright') * o.screen_w / 100)
      }
      if (position.indexOf('left') > - 1) {
        but_x = but_w / 2 + but.s('marginleft') - but.s('marginright') + (but.s('marginprocleft') * o.screen_w / 100)
      }
      if (position == 'timeline') {
        but_x = - o.timeline_w / 2 + (but.s('marginprocleft') * o.timeline_w / 100) + but.s('marginleft') - but.s('marginright');
        but_y = - o.timeline_h / 2 - (but.s('marginprocbottom') * o.timeline_h / 100) + (but.s('marginproctop') * o.timeline_h / 100)
      }
      if (position.indexOf('controls') > - 1) {
        var cx = ControlX(but);
        but_x = int(bg.c().offsetLeft) + cx;
        if (position == 'controls-right') {
          but_x += stretch_width
        }
        if (v.toolbar.position == 'top') {
          but_y = v.toolbar.h / 2
        } else {
          but_y = height - v.toolbar.h / 2
        }
      }
      return {
        x: but_x,
        y: but_y + but.s('margintop') - but.s('marginbottom')
      }
    }
    function Resize(all) {
      var w = o.fullscreen && v.toolbar.stretchonfullscreen == 0 ? o.normal_w : o.screen_w;
      var h = o.screen_h;
      css(bg.c(), {
        'top': (v.toolbar.position == 'top' ? 0 : o.screen_h - v.toolbar.h) - v.toolbar_margintop
      });
      bg.set('y0', (o.screen_h - v.toolbar.h - v.toolbar_margintop));
      if (v.toolbar.stretchonfullscreen == 0 && bg) {
        css(bg.c(), {
          'width': w,
          'left': 0,
          'margin-left': 0
        });
        bg.set('w', w);
        if (o.fullscreen) {
          css(bg.c(), {
            'left': '50%',
            'margin-left': - w / 2
          })
        }
      }
      butPosition = {
        'left': v.toolbar.leftandrightpadding * 1,
        'right': (bg.g('w') - v.toolbar.leftandrightpadding * 1)
      };
      var bg_hide = false;
      if (!bg.g('show')) {
        bg.set('display', true);
        bg_hide = true
      }
      var key;
      for (var i = 0; i < butNames.length; i++) {
        key = butNames[i];
        if (b[key]) {
          var cc = ControlCoordinate(b[key]);
          if (cc) {
            b[key].set('x0', cc.x);
            b[key].set('y0', cc.y);
            if (b[key].s('hidden') == 1 && !b[key].g('show') && !all) {
              HidePositionControl(b[key])
            } else {
              css(b[key].c(), {
                'position': 'absolute',
                'left': b[key].g('x0'),
                'top': b[key].g('y0')
              })
            }
          }
        }
      }
      if (bg_hide) {
        bg.set('display', false)
      }
      stretch_width = 0;
      for (key in b) {
        if (b.hasOwnProperty(key)) {
          if (b[key].s('position') == 'controls-right' && b[key].g('action') != 'line' && stretch_width > - 1) {
            stretch_width = butPosition.right - butPosition.left
          }
          if (b[key].g('action') == 'line') {
            var line_width;
            if (b[key].s('customwidth') == 1) {
              line_width = b[key].s('w')
            } else {
              if (b[key].s('position').indexOf('controls') > - 1) {
                line_width = butPosition.right - butPosition.left - b[key].s('marginleft') - b[key].s('marginright');
                css(b[key].c(), {
                  'left': (int(bg.c().offsetLeft) + butPosition.left + b[key].s('marginleft') + line_width / 2)
                });
                stretch_width = - 1
              } else {
                line_width = bg.g('w') - b[key].s('marginleft') - b[key].s('marginright');
                css(b[key].c(), {
                  'left': (int(bg.c().offsetLeft) + b[key].s('marginleft') + line_width / 2)
                })
              }
            }
            b[key].set('x0', b[key].g('x'));
            b[key].Resize(line_width)
          }
        }
      }
      if (settings) {
        ResizeSettings(settings)
      }
      if (exist(v.playlist)) {
        ResizeSettings(playlist)
      }
      resizeonwidth || o.fullscreen || stretch_width_last != stretch_width ? ShowOrHide()  : ''
    }
    function HidePositionControl(b) {
      var left = 0;
      var top = 0;
      if (b.s('position').indexOf('right') > - 1 && b.s('position').indexOf('controls') == - 1) {
        left = o.screen_w + b.g('width') + 10
      }
      if (b.s('position').indexOf('left') > - 1) {
        left = - b.g('width') - 10
      }
      if (b.s('position').indexOf('top') > - 1) {
        top = - b.g('height') * 2
      }
      if (b.s('position').indexOf('bottom') > - 1 || b.s('position').indexOf('controls') > - 1) {
        top = o.screen_h + b.g('height') + b.g('width') + 10
      }
      if (left > 0) {
        css(b.c(), {
          'left': left
        })
      }
      if (top > 0) {
        css(b.c(), {
          'top': top
        })
      }
    }
    function ResizeSettings(x) {
      var top = - 2000;
      x.resizePlaylist();
      var y = o.screen_h - v.toolbar.h * (x.s('position').indexOf('top') > - 1 ? 1 : 2);
      var ymax = y - (o.fullscreen && !o.system.mobile ? (100 + x.s('hmaxk') * 1)  : x.s('hmaxk'));
      ymax < 100 ? ymax = 100 : '';
      css(x.c(), {
        'max-height': ymax
      });
      x.co() ? css(x.co(), {
        'max-height': ymax
      })  : '';
      if (x.g('show')) {
        top = o.screen_h / 2 - x.g('height') / 2 + x.s('margintop') - x.s('marginbottom');
        if (x.s('position').indexOf('top') > - 1) {
          top = x.s('margintop') - x.s('marginbottom')
        }
        if (x.s('position').indexOf('bottom') > - 1) {
          top = o.screen_h - v.toolbar.h - x.g('height') + x.s('margintop') - x.s('marginbottom')
        }
        top < 0 ? top = 0 : ''
      }
      if (x.s('position').indexOf('right') > - 1) {
        css(x.c(), {
          'position': 'absolute',
          'right': x.s('marginright') - x.s('scrollwidth'),
          'top': top
        })
      } else if (x.s('position').indexOf('left') > - 1) {
        css(x.c(), {
          'position': 'absolute',
          'left': x.s('marginleft'),
          'top': top
        })
      } else {
        if (x.g('key') == 'playlist' && x.s('floatleft') == 1) {
          css(x.c(), {
            'position': 'absolute',
            'left': o.screen_w / 2 - x.g('width') / 2 + x.s('marginleft') / 2 - x.s('marginright') / 2,
            'top': top
          })
        } else {
          css(x.c(), {
            'position': 'absolute',
            'left': o.screen_w / 2 - x.g('width') / 2 + x.s('marginleft') - x.s('marginright'),
            'top': top
          })
        }
      }
      x.Arrows()
    };
    this.ControlClick = function (key) {
      var but = b[key];
      var action = but.g('action');
      if (action) {
        var d = new Date();
        o.clicktime = d.getTime();
        if (action && action != '') {
          Action(but)
        }
      }
    };
    this.toggleControl = function (x, y) {
      for (var key in b) {
        if (b.hasOwnProperty(key)) {
          if (b[key].g('action') == x) {
            b[key].set(y ? 'show2' : 'hide2')
          }
        }
      }
    };
    function Action(but) {
      o.acted = true;
      var a = but.g('action');
      if (a == 'play') {
        o.actions.Play()
      } else {
        if (a == 'pause') {
          o.actions.Pause()
        }
        if (a == 'stop') {
          v.preload = 0;
          v.autoplay = 0;
          o.media.Recover();
          o.actions.Stop()
        }
      }
      if (a == 'back') {
        o.actions.Seek(0, false)
      }
      if (a == 'fullscreen') {
        !o.casting ? o.actions.Fullscreen()  : ''
      } else {
        if (a == 'normalscreen') {
          o.actions.Normalscreen()
        }
      }
      if (a == 'line') {
        o.actions.Seek(but.g('click') * o.media.duration(), true);
        if (o.continue ) {
          o.continue .write(but.g('click') * o.media.duration(), o.media.duration());
          o.seekto > 0 ? o.seekto = undefined : ''
        }
      }
      if (a == 'volume') {
        var x = but.g('click');
        x < 0.02 ? x = 0 : '';
        x > 1 ? x = 1 : '';
        if (o.storage && v.volumestore == 1) {
          localStorage.setItem('pljsvolume', x);
          if (but.g('click') > 0 || o.system.iphone || v.mutestore == 0) {
            localStorage.removeItem('pljsmute')
          } else {
            localStorage.setItem('pljsmute', 1)
          }
        }
        o.actions.Volume(x)
      }
      if (a == 'mute') {
        if (o.storage && !o.system.iphone && v.mutestore == 1) {
          localStorage.setItem('pljsmute', 1)
        }
        o.actions.Mute()
      } else {
        if (a == 'unmute') {
          if (o.storage) {
            localStorage.removeItem('pljsmute')
          }
          o.actions.Unmute()
        }
      }
      if (a.indexOf('time') == 0) {
        but.isOn() ? but.Off()  : but.On()
      }
      if (a == 'rotate') {
        o.media.Rotate()
      }
      if (a == 'scale+') {
        o.media.Scale(0.1)
      }
      if (a == 'scale-') {
        o.media.Scale( - 0.1)
      }
      if (a == 'scale') {
        o.media.Scale(0)
      }
      if (a == 'live') {
        api('restart');
        but.set('iconopacity', 1);
        but.set('saturate', 1)
      }
      if (a == 'share') {
        ShowShare()
      }
      if (a == 'settings') {
        if (settings) {
          if (!settings.g('show')) {
            settings.show()
          } else {
            settings.hide()
          }
        }
      }
      if (a == 'playlist') {
        if (exist(v.playlist)) {
          if (playlist.g('show')) {
            playlist.hide()
          } else {
            setTimeout(function () {
              playlist.show()
            }, 100)
          }
        }
      }
      if (a == 'next') {
        o.controls.PlaylistNext()
      }
      if (a == 'prev') {
        o.controls.PlaylistPrev()
      }
      if (a == 'custom') {
        if (but.s('link') == 1 && but.s('linkurl') != '') {
          var x = but.s('linkurl');
          if (x.indexOf('{time}') > - 1) {
            x = x.replace('{time}', (exist(o.continue ) ? o.continue .flag().t : o.media.time()))
          }
          if (x.indexOf('{file}') > - 1) {
            x = x.replace('{file}', o.media.currentFile())
          }
          if (x.indexOf('{title}') > - 1) {
            x = x.replace('{title}', v.title.replace(/,/gi, ' '))
          }
          if (x == 'airplay') {
            o.media.Airplay()
          }
          if (x == 'seektome') {
            o.actions.Seek(but.s('marginprocleft') * o.media.duration() / 100);
            !o.play ? o.actions.Play()  : ''
          }
          but.s('linkpause') == 1 ? o.actions.Pause()  : '';
          var y = x.split(',');
          if (x.indexOf('api:') == 0) {
            var z = x.substr(4).split(';');
            for (var i = 0; i < z.length; i++) {
              y = z[i].split(',');
              if (y.length > 1) {
                api(y[0], y[1], but)
              } else {
                if (y[0] == 'screenshot' && v.ssfly == 1) {
                  var ss = api(y[0]);
                  if (ss) {
                    if (ss.indexOf('data') > - 1) {
                      var img = document.createElement('img');
                      img.setAttribute('src', ss);
                      css(img, {
                        position: 'fixed',
                        right: (exist(v.ssflyp) ? v.ssflyp : 20),
                        bottom: (exist(v.ssflyp) ? v.ssflyp : 20),
                        width: 0,
                        transition: 'width 0.5s cubic-bezier(.75,-0.5,0,1.75)'
                      });
                      img.style.zIndex = 1001;
                      document.body.appendChild(img);
                      setTimeout(function () {
                        css(img, {
                          width: (exist(v.ssflyw) ? v.ssflyw : 200)
                        })
                      }, 1);
                      img.onclick = function () {
                        this.parentNode.removeChild(this)
                      }
                    }
                  } else {
                    log(y[0] + ' error')
                  }
                } else {
                  api(y[0])
                }
              }
            }
          } else {
            if (x.indexOf('js:') == 0) {
              eval(y[0].substr(3) + '(' + (exist(y[1]) ? '"' + y[1] + '"' : '') + (exist(y[2]) ? ',"' + y[2] + '"' : '') + ')')
            }
            if (x.indexOf('http') == 0 || x.indexOf('/') == 0 || x.indexOf('?') == 0 || x.indexOf('url:') == 0) {
              x.indexOf('url:') == 0 ? x = x.substr(4)  : '';
              window.open(x, but.s('linktarget'))
            }
            if (x.indexOf('download') == 0) {
              o.actions.Download()
            }
            if (x == 'api:pipwebkit') {
              o.media.PipWebkit()
            }
          }
        }
      }
      for (var i = 0; i < 10; i++) {
        if (but.s('linkurl') == 'settings#' + i) {
          if (settings) {
            if (settings.g('show') && settings.g('open') == i) {
              settings.hide()
            } else {
              settings.show();
              settings.open(i)
            }
          }
        }
      }
    };
    this.title = function (t) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'title') {
            if (b[x].s('var') == t) {
              if (v[t] != '' || b[x].s('icon') != '') {
                b[x].set('display', true)
              } else {
                b[x].set('display', false)
              }
              b[x].UpdateText(v[t])
            }
          }
          if (b[x].g('action') == 'custom') {
            if (b[x].s('type') == 'text') {
              b[x].RenewFromTitle(true)
            }
          }
        }
      }
    };
    function ShowShare() {
      if (exist(o.share)) {
        o.share.Show();
        PlaylistClose();
        SettingsClose()
      }
    }
    this.showShare = function () {
      ShowShare()
    };
    this.updateTitle = function () {
      if (v.title != '') {
        for (var x in b) {
          if (b.hasOwnProperty(x)) {
            if (b[x].g('action') == 'title') {
              var y = false;
              if (!b[x].g('show')) {
                y = true;
                b[x].set('display', true)
              }
              b[x].UpdateText(v.title);
              if (y) {
                b[x].set('display', false)
              }
            }
          }
        }
      }
    };
    this.customText = function (y, z) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'custom' && b[x].s('type') == 'text') {
            if (b[x].s('dom') == y) {
              if (!b[x].g('show')) {
                b[x].set('display', true)
              }
              b[x].UpdateText(z)
            }
          }
        }
      }
    };
    this.resize = function () {
      Resize()
    };
    this.resizeSettings = function () {
      ResizeSettings(settings)
    };
    this.resizePlaylist = function () {
      ResizeSettings(playlist)
    };
    this.Play = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'play') {
            b[x].On()
          }
        }
      }
      if (this.PlaylistVisible() && v.playlist.autohide == 1) {
        this.Playlist()
      }
      o.play = true;
      ShowOrHide()
    };
    this.Pause = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'pause' || b[x].g('action') == 'stop') {
            b[x].Off()
          }
        }
      }
      if (playlist) {
        if (v.playlist.openplaylistpause == 1 && !playlist.empty()) {
          playlist.show()
        }
      }
      o.play = false;
      ShowOrHide()
    };
    this.Mute = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'mute') {
            b[x].On()
          }
          this.Volume(0)
        }
      }
      ShowOrHide()
    };
    this.Unmute = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'unmute') {
            b[x].Off()
          }
        }
      }
      if (v.volume < 0.1) {
        v.volume = 0.5;
        o.actions.Volume(v.volume)
      } else {
        this.Volume(v.volume)
      }
      ShowOrHide()
    };
    this.Volume = function (volume, y) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'volume') {
            b[x].UpdatePlay(volume, 1, (y == 'no' ? y : true))
          }
          if (b[x].g('action') == 'mute') {
            b[x].UpdateVolume(volume)
          }
        }
      }
      ShowOrHide()
    };
    this.Fullscreen = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'fullscreen') {
            b[x].On();
            b[x].set('scale', b[x].s('scale'))
          }
        }
      }
      ShowOrHide();
      resizeonwidth ? setTimeout(ShowOrHide, 500)  : '';
      HideInterval()
    };
    this.Normalscreen = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'normalscreen') {
            b[x].Off()
          }
        }
      }
      Resize();
      clearInterval(o.toolbarInterval);
      ShowOrHide()
    };
    this.onEnded = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'play') {
            b[x].ReplayIcon()
          }
        }
      }
    };
    this.Review = function () {
      ShowOrHide()
    };
    function ShowOrHide() {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') != 'buffer') {
            ShowOrHideProcessor(b[x])
          }
        }
      }
      ShowOrHideProcessor(bg);
      if (stretch_width_last != stretch_width) {
        stretch_width_last = stretch_width;
        Resize()
      }
    };
    function ShowForce() {
      if (toolbarHidden && v.toolbar.hidewithoutmoving == 1) {
        for (var x in b) {
          if (b.hasOwnProperty(x)) {
            if (b[x].g('action') != 'buffer') {
              ShowOrHideProcessor(b[x], false)
            }
          }
        }
        css(o.frame, {
          'cursor': 'default'
        });
        ShowOrHideProcessor(bg, false);
        if (bg.g('show')) {
          toolbarHidden = false;
          o.media.ToolbarShow()
        }
      }
    }
    function HideForce() {
      if (o.play && v.toolbar.hidewithoutmoving == 1 && !o.mouseDown && !o.controlover) {
        for (var x in b) {
          if (b.hasOwnProperty(x)) {
            if (b[x].g('action') != 'buffer') {
              ShowOrHideProcessor(b[x], true)
            }
          }
        }
        ShowOrHideProcessor(bg, true);
        if (!bg.g('show')) {
          toolbarHidden = true;
          o.media.ToolbarHide();
          css(o.frame, {
            'cursor': 'none'
          })
        }
      }
    }
    function HideInterval() {
      if (v.toolbar.hidewithoutmoving == 1) {
        clearInterval(o.toolbarInterval);
        o.toolbarInterval = setInterval(HideForce, ((v.toolbar.hideleavetimeout > 0 ? v.toolbar.hideleavetimeout : v.toolbar.hidetimeout) * 1000))
      }
    }
    function ShowOrHideProcessor(but, forcehide) {
      var hide = false;
      var show = false;
      var toolbar_hide = false;
      if (v.toolbar.hide == 1) {
        if (!o.mouseHere && !o.fullscreen && o.play && v.toolbar.hidejustfull != 1 && !o.casting) {
          hide = true;
          show = false;
          toolbar_hide = true
        } else {
          hide = false;
          show = true
        }
        if (exist(forcehide) && !o.casting) {
          hide = forcehide;
          show = !hide
        }
      } else {
        if (but.s('hide') != 1) {
          show = true
        }
      }
      if (show) {
        css(o.frame, {
          'cursor': 'default'
        })
      }
      if (but.s('action') == 'custom' && but.s('position').indexOf('controls') == - 1) {
        hide = false;
        show = true
      }
      if (o.casting) {
        if (but.s('action') == 'line') {
          if (o.media.duration() == - 1) {
            hide = true;
            show = false
          }
        }
      }
      var re_y = false;
      if (but.s('hide') == 1) {
        if (but.s('hideonplay') == 1) {
          if (o.play) {
            hide = true;
            show = false
          } else {
            show = true
          }
        }
        if (but.s('hideonpause') == 1) {
          if (!o.play) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hideafterstart') == 1) {
          if (o.start) {
            hide = true;
            show = false
          }
        }
        if (but.s('hide0timestore') == 1) {
          if (o.start || !o.continue || o.media.isLive()) {
            hide = true;
            show = false
          }
          if (o.continue ) {
            if (o.continue .flag().t == 0) {
              hide = true;
              show = false
            }
          }
        }
        if (but.s('hideuntilstarted') == 1) {
          if (!o.start) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hideuntilended') == 1) {
          if (!o.media.ended()) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hideonvod') == 1 && but.s('hide') == 1) {
          if (!o.media.isLive()) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hideonleaveandplay') == 1) {
          if (toolbar_hide || forcehide) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hideonwidth') == 1) {
          resizeonwidth = true
        }
        if (but.s('hideoverwidth') == 1) {
          resizeonwidth = true
        }
        if (but.s('hideonleave') == 1) {
          if (!o.mouseHere) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hideonfullscreen') == 1) {
          if (o.fullscreen) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hideonunmute') == 1) {
          if (!o.muted) {
            hide = true;
            show = false
          }
        }
        if (but.s('hideonlive') == 1) {
          if (o.media.isLive() && o.media.currentFile().indexOf('?DVR') == - 1) {
            hide = true;
            show = false
          } else {
            !hide ? show = true : ''
          }
        }
        if (but.s('hidewithposter') == 1) {
          if (isVisible(o.poster)) {
            hide = true;
            show = false
          }
        }
        if (but.s('hideuntilmeta') == 1) {
          if (!o.metadata) {
            hide = true;
            show = false
          }
        }
        if (but.s('hideonyoutube') == 1) {
          if (v.preload == 1 && v.screenclick == 1) {
            if (o.file_type == 'youtube' && !exist(v.poster) && v.youtubeposter == 0) {
              if (!o.start || o.media.status() == 'ended') {
                if (v.poster == '') {
                } else {
                  hide = true;
                  show = false
                }
              }
            }
          }
        }
        if (but.s('action') == 'volume') {
          if (but.s('hide') == 1 && but.s('hideoutmute') == 1) {
            hide = true;
            show = false;
            if (!toolbar_hide && (o.hidden_volume_over || o.hidden_volume_over_process) && !forcehide) {
              hide = false;
              show = true
            } else {
              re_y = true
            }
          }
        }
      }
      if (ControlNoSpace(but)) {
        hide = true;
        show = false
      }
      if (but.g('type') == 'text') {
        if (but.g('length') == 0) {
          show = false;
          hide = true
        }
      }
      if (settings) {
        if (settings.g('show') && v.settings.always != 1) {
          hide = false;
          toolbar_hide = false;
          forcehide = false
        }
      }
      if (but.g('action') == 'share') {
        if (exist(o.share)) {
          if (o.share.empty()) {
            hide = true;
            show = false;
            but.set('animation', 'none')
          }
        }
      }
      if (but.g('action') == 'custom') {
        if (but.s('linkurl') == 'api:airplay' || but.s('linkurl') == 'airplay') {
          if (!o.airplay) {
            hide = true;
            show = false
          }
        }
      }
      if (but.g('action') == 'custom') {
        if (but.s('linkurl') == 'api:pipwebkit') {
          if (!o.pipwebkit || (!o.start && v.preload == 0)) {
            hide = true;
            show = false
          }
        }
      }
      if (but.g('action') == 'playlist' || but.g('action') == 'next' || but.g('action') == 'prev' || but.s('hidewithoutplaylist') == 1) {
        if (playlist.empty() && but.s('hidewithoutplaylist') != 0) {
          hide = true;
          show = false;
          but.set('animation', 'none')
        }
      }
      if (but.s('hideafterclick') == 1) {
        if (but.g('clicked')) {
          hide = true;
          show = false
        }
      }
      if (o.nativecontrols || (!o.start && v.toolbar.hide == 1 && v.toolbar.hideuntilstarted == 1) || (!o.metadata && v.toolbar.hide == 1 && v.toolbar.hideuntilmeta == 1)) {
        if (but.s('position').indexOf('controls') > - 1 || but.s('position').indexOf('bottom') > - 1) {
          hide = true;
          show = false
        }
        if (v.toolbar.hidejustfull == 1 && !o.fullscreen) {
          hide = false;
          show = true
        }
      }
      if (but.s('customjscontrol') == 1) {
        hide = false;
        show = false
      }
      if (re_y) {
        var cc = ControlCoordinate(but);
        if (cc) {
          cc.y > 0 ? but.set('y0', cc.y)  : '';
          css(but.c(), {
            'position': 'absolute',
            'top': but.g('y0')
          })
        }
      }
      if (hide) {
        HideControl(but, (firstly ? true : false))
      }
      if (show) {
        ShowControl(but)
      }
      if (but == bg) {
        if (!hide && show) {
          o.media.ToolbarShow();
          show2(bg2);
          toolbarHidden = false
        }
        if (hide && !show) {
          o.media.ToolbarHide();
          hide2(bg2);
          toolbarHidden = true
        }
        if (playlist) {
          if (v.playlist.always == 1 && !playlist.empty()) {
            if (show || o.nativecontrols) {
              if (v.playlist.alwaysnotfullscreen == 1 && o.fullscreen) {
              } else {
                if (!playlist.g('show')) {
                  if (v.playlist.alwaysjustpause == 1) {
                    !o.play ? playlist.show()  : ''
                  } else {
                    playlist.show()
                  }
                }
              }
            } else {
              if (hide && playlist.g('show')) {
                playlist.hide()
              }
            }
          }
        }
      }
    };
    function HideControl(but, quick) {
      if (but.g('show')) {
        if (o.fullscreen_process || but.s('animation') == 'none' || quick) {
          but.set('display', false)
        } else {
          HideAnimate(but)
        }
        but.set('show', false)
      }
    };
    function ShowControl(but) {
      if (but.g('action') == 'line') {
        but.s('sticking') > 0 ? but.set('show', false)  : ''
      }
      if (!but.g('show')) {
        if (but.s('animation') == 'none' || o.fullscreen_process) {
          but.set('display', true);
          if (but.g('action') == 'volume') {
            if (o.hidden_volume) {
              HidePositionControl(but)
            }
          }
        } else {
          ShowAnimate(but)
        }
        if (but.s('action') == 'volume') {
          o.controls.Volume(o.muted ? 0 : v.volume)
        }
        if (but.s('action') == 'line') {
          o.actions.Loading()
        }
        but.set('show', true)
      }
    };
    function HideAnimate(but) {
      killMotion(but.g('key'));
      var m_type = 'alpha|';
      var m_to = '0|';
      var hide = 1;
      if (but.s('animation') == 'scale') {
        m_type += 'scale|';
        m_to += '0|'
      }
      if (but.s('animation') == 'position') {
        if (but.s('position').indexOf('right') > - 1 && but.s('position').indexOf('controls') == - 1) {
          m_type += 'x|';
          m_to += int(o.screen_w + but.g('width')) + '|'
        }
        if (but.s('position').indexOf('left') > - 1) {
          m_type += 'x|';
          m_to += int( - but.g('width')) + '|'
        }
        if (but.s('position').indexOf('top') > - 1) {
          m_type += 'alpha|y|';
          m_to += '0|' + ( - but.g('height')) + '|'
        }
        if (but.s('position').indexOf('bottom') > - 1 || but.s('position').indexOf('controls') > - 1 || but.s('position') == 'timeline') {
          m_type += 'y|';
          if (but.g('action') == 'line' || but.g('action') == 'volume') {
            m_to += int(o.screen_h + but.s('h') + (but.s('h') < 20 ? 20 - but.s('h')  : 0)) + '|'
          } else {
            m_to += int(o.screen_h + but.g('height')) + '|'
          }
        }
        if (but.s('position') == 'center') {
          m_type += 'scale|';
          m_to += '0|'
        }
      }
      var m = new Motion({
        'mc': but,
        'me': but.g('key'),
        'type': m_type.substr(0, m_type.length - 1),
        'to': m_to.substr(0, m_to.length - 1),
        'hide': hide
      })
    };
    function ShowAnimate(but) {
      killMotion(but.g('key'));
      var m_type = '';
      var m_to = '';
      if (but.g('opacity') != 1) {
        m_type = 'alpha|';
        m_to = (but.g('key') == 'bg' ? v.toolbar.a : '1') + '|'
      }
      if (but.s('animation') == 'scale') {
        if (but.g('scaleX') != but.s('scale')) {
          but.set('scale', 0);
          m_type += 'scale|';
          m_to += but.s('scale') + '|'
        }
      }
      if (but.s('animation') == 'position') {
        if (but.s('position') == 'center') {
          if (but.g('scaleX') != but.s('scale')) {
            m_type += 'scale|';
            m_to += but.s('scale') + '|'
          }
        } else {
          if (but.s('position').indexOf('controls') > - 1) {
            if (but.g('y') != but.g('y0')) {
              m_type += 'y|';
              m_to += but.g('y0') + '|'
            }
          } else {
            m_type += 'x|y|';
            m_to += but.g('x0') + '|' + but.g('y0') + '|'
          }
        }
      }
      if (m_type != '' && m_to != '') {
        var m = new Motion({
          mc: but,
          me: but.g('key'),
          type: m_type.substr(0, m_type.length - 1),
          to: m_to.substr(0, m_to.length - 1),
          show: 1
        })
      } else {
        but.set('display', true)
      }
    };
    function ControlNoSpace(but) {
      var x = false;
      if (but.g('action') == 'playlist' || but.g('action') == 'next' || but.g('action') == 'prev') {
        if (playlist.empty()) {
          x = true
        }
      }
      if (but.g('action') == 'settings') {
        if (settings.empty()) {
          x = true;
          but.set('animation', 'none')
        }
      }
      if (but.g('action') == 'custom') {
        if (but.s('linkurl') == 'api:pipwebkit') {
          if (!o.pipwebkit || (!o.start && v.preload == 0)) {
            x = true
          }
        }
        if (but.s('linkurl') == 'api:airplay' || but.s('linkurl') == 'airplay') {
          if (!o.airplay) {
            x = true
          }
        }
      }
      if (but.s('chromecast') == 1) {
        var cb = document.getElementById('pjs_cast_button_' + v.id);
        if ((o.media.duration() == 0 && o.media.time() == 0) || !o.tagvideo || !isVisible(cb) || !o.cast_available) {
          x = true
        }
      }
      if (but.g('action') == 'duration') {
        if (o.media.isLive()) {
          x = true
        }
      }
      if (but.g('action') == 'live') {
        if (!o.media.isLive() && but.s('hide') == 1 && but.s('hideonvod') == 1) {
          x = true
        }
      }
      if (but.s('hideoverwidth') == 1) {
        if (o.screen_w > but.s('hideoverwidthlimit')) {
          x = true
        }
      }
      if (but.s('hideonwidth') == 1) {
        if (o.screen_w <= but.s('hideonwidthlimit')) {
          x = true
        }
      }
      if (but.s('hideonmobile') == 1) {
        if (o.system.mobile) {
          x = true
        }
      }
      if (but.g('settings#')) {
        if (!but.g('set#visible')) {
          x = true
        }
      }
      if (but.s('hideondesktop') == 1) {
        if (o.system.desktop) {
          x = true
        }
      }
      if (but.g('key') == 'control_start' && o.system.mobile) {
        if (o.nativecontrols && o.system.android) {
          x = true
        }
      }
      return x
    }
    this.Mouse = function (key, type, quick) {
      var resize = false;
      var stop = false;
      var but = b[key];
      var action = but.g('action');
      if (type == 'over') {
        if (o.hidden_volume) {
          if (action == 'volume' || action == 'mute' || action == 'unmute') {
            o.hidden_volume_over = true;
            o.hidden_volume_over_process = true;
            resize = true;
            ShowOrHide()
          }
        }
        if (v.settings.showovercontrol == 1 && (action == 'settings' || but.s('linkurl').indexOf('setting') == 0)) {
          clearTimeout(o.settingsovertimer);
          !settings.g('show') ? settings.show()  : ''
        }
      }
      if (type == 'out') {
        if (o.hidden_volume) {
          if (action == 'volume' || action == 'mute' || action == 'unmute') {
            o.hidden_volume_over = false;
            o.hidden_volume_over_process = true;
            setTimeout(function () {
              if (!o.hidden_volume_over) {
                o.hidden_volume_over_process = false;
                for (var x in b) {
                  if (b.hasOwnProperty(x)) {
                    if (b[x].g('action') == 'volume') {
                      HideControl(b[x]);
                      Resize()
                    }
                  }
                }
              }
            }, 500)
          }
        }
        if (v.settings.showovercontrol == 1 && (action == 'settings' || but.s('linkurl').indexOf('setting') == 0)) {
          clearTimeout(o.settingsovertimer);
          o.settingsovertimer = setTimeout(function () {
            if (!o.mouseDown) {
              settings.g('show') ? settings.hide()  : ''
            }
          }, 1000)
        }
      }
      if (resize) {
        setTimeout(Resize, 10)
      }
    };
    this.StageLeave = function () {
      if (o.volumewheel && !o.fullscreen) {
        o.actions.volumewheel(false);
        o.volumewheel = false
      }
      if (o.poster) {
        if (v.poster_aover > - 1 && isVisible(o.poster)) {
          css(o.poster, {
            opacity: v.poster_a
          })
        }
      }
      if (o.play && v.playonhover == 1) {
        o.actions.Pause()
      }
      if (v.toolbar.hideleavetimeout > 0) {
        clearTimeout(o.leavetimeout);
        o.leavetimeout = setTimeout(ShowOrHide, v.toolbar.hideleavetimeout * 1000)
      } else {
        ShowOrHide()
      }
    };
    this.StageOver = function () {
      if (o.poster) {
        if (v.poster_aover > - 1 && isVisible(o.poster)) {
          css(o.poster, {
            opacity: v.poster_aover
          })
        }
      }
      if (!o.play && v.playonhover == 1) {
        o.actions.Play()
      }
      ShowOrHide()
    };
    this.StageMove = function (stage_x, stage_y) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'line' || b[x].g('action') == 'volume') {
            b[x].StageMove(stage_x, stage_y)
          }
        }
      }
    };
    this.StageMove2 = function () {
      if (v.toolbar.hide == 1) {
        if (v.toolbar.hidejustfull == 1 && !o.fullscreen) {
          return
        }
        if (!o.mouseHere && o.media.status() == 'playing') {
          o.mouseHere = true;
          ShowOrHide()
        }
        if (v.toolbar.hidewithoutmoving == 1) {
          ShowForce();
          HideInterval()
        }
      }
    };
    this.StageMouseUp = function (stage_x, stage_y) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'line' || b[x].g('action') == 'volume') {
            b[x].StageMouseUp(stage_x, stage_y)
          }
        }
      }
    };
    this.Played = function (time, duration) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'line') {
            b[x].UpdatePlay(time, duration)
          }
          if (b[x].g('action') == 'time') {
            UpdateTime(b[x], time, duration)
          }
          if (b[x].s('rotateplaying') == 1) {
            b[x].Rotate()
          }
        }
      }
    };
    function UpdateTime(x, time, duration) {
      var y = Time(time);
      if (x.s('inversetime') == '1') {
        y = Time(duration - time)
      }
      if (x.s('showduration') == '1') {
        if (x.s('showboth') == '1') {
          y = y + (duration > 0 ? ' ' + Lang(x.s('separator')) + ' ' + Time(duration)  : '')
        } else {
          time == 0 ? y = Time(duration)  : ''
        }
      }
      x.UpdateText(y)
    }
    this.Loaded = function (time, duration) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'line') {
            b[x].UpdateLoad(time, duration)
          }
        }
      }
    };
    this.Waiting = function () {
      if (!waiting) {
        for (var x in b) {
          if (b.hasOwnProperty(x)) {
            if (b[x].g('action') == 'buffer') {
              b[x].Buffer();
              waiting = true
            }
          }
        }
      }
    };
    this.StopWaiting = function (time, duration) {
      if (waiting) {
        for (var x in b) {
          if (b.hasOwnProperty(x)) {
            if (b[x].g('action') == 'buffer') {
              b[x].BufferStop();
              waiting = false
            }
          }
        }
      }
    };
    this.volumescroll = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].s('linkurl') == 'volume scroll') {
            b[x].set('show2');
            b[x].UpdateText(Lang('volume') + ' ' + (o.muted ? 0 : Math.ceil(v.volume * 100)) + '%');
            clearTimeout(o.volumescroll);
            o.volumescroll = setTimeout(Volumescrolled, 1000)
          }
        }
      }
    };
    function Volumescrolled() {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].s('linkurl') == 'volume scroll') {
            b[x].UpdateText('');
            b[x].set('hide2');
            clearTimeout(o.volumescroll)
          }
        }
      }
    }
    this.Seek = function (time, duration) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'line') {
            duration > 0 ? b[x].set('click', time / duration)  : '';
            b[x].UpdatePlaySeek()
          }
          if (b[x].g('action') == 'time') {
            UpdateTime(b[x], time, duration)
          }
          if (b[x].g('action') == 'live') {
            b[x].set('iconopacity', 0.5);
            b[x].set('saturate', 0)
          }
        }
      }
    };
    this.Duration = function (time, duration) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'duration') {
            b[x].UpdateText(Time(duration))
          }
          if (b[x].g('action') == 'line') {
            b[x].UpdatePlay(time, duration);
            b[x].PlacePoints(duration)
          }
          if (b[x].g('action') == 'time') {
            UpdateTime(b[x], time, duration)
          }
        }
      }
    };
    this.Settings = function () {
      settings.g('show') ? settings.hide()  : settings.show()
    };
    this.SettingsVisible = function () {
      if (settings) {
        return settings.g('show') ? true : false
      } else {
        return false
      }
    };
    this.SettingsClose = function () {
      SettingsClose()
    };
    function SettingsClose() {
      if (settings) {
        settings.g('show') ? settings.hide()  : ''
      }
    };
    this.Playlist = function () {
      if (playlist) {
        if (playlist.g('show')) {
          playlist.hide(1)
        } else {
          playlist.show()
        }
      }
    };
    this.PlaylistShow = function () {
      if (playlist) {
        setTimeout(function () {
          playlist.show()
        }, 100)
      }
    };
    this.PlaylistVisible = function () {
      if (playlist) {
        return playlist.g('show') ? true : false
      } else {
        return false
      }
    };
    function PlaylistClose() {
      if (playlist) {
        playlist.g('show') ? playlist.hide(1)  : ''
      }
    };
    this.UpdatePlaylist = function (x) {
      if (playlist) {
        playlist.updatePlaylist(x)
      }
    };
    this.PlaylistNext = function () {
      if (playlist) {
        playlist.PlaylistNext()
      }
    };
    this.PlaylistControls = function () {
      PlaylistControls()
    };
    function PlaylistControls() {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'next') {
            css(b[x].c(), {
              'opacity': (!playlist.PlaylistNextExist() ? 0.5 : 1)
            })
          }
          if (b[x].g('action') == 'prev') {
            css(b[x].c(), {
              'opacity': (!playlist.PlaylistPrevExist() ? 0.5 : 1)
            })
          }
        }
      }
    }
    this.PlaylistNextExist = function () {
      if (playlist) {
        return playlist.PlaylistNextExist()
      } else {
        return false
      }
    };
    this.PlaylistExist = function () {
      if (playlist) {
        return playlist.PlaylistExist()
      } else {
        return false
      }
    };
    this.PlaylistRewind = function () {
      if (playlist) {
        playlist.PlaylistRewind()
      }
    };
    this.PlaylistPrev = function () {
      if (playlist) {
        playlist.PlaylistPrev()
      }
    };
    this.PlaylistPlayId = function (x) {
      if (x && playlist) {
        playlist.playById(x)
      }
    };
    this.PlaylistOpenId = function (x) {
      if (x && playlist) {
        playlist.openById(x)
      }
    };
    this.PlaylistMove = function (x) {
      if (x && playlist) {
        css(playlist.co(), {
          'maxHeight': 'none'
        });
        document.getElementById(x).appendChild(playlist.co());
        hide2(playlist.c())
      }
    };
    this.ShowSettingsBut = function () {
    };
    this.QualityChanged = function (x) {
      if (settings) {
        settings.SetQuality();
        settings.g('show') ? setTimeout(function () {
          settings.hide()
        }, 200)  : ''
      }
    };
    this.QualityChangedNoHand = function (x) {
      if (settings) {
        settings.SetQuality()
      }
    };
    this.AirplayChanged = function (x) {
      if (settings) {
        settings.Airplay()
      }
    };
    this.SettingChanged = function (x) {
      if (settings) {
        settings.SetSetting(x);
        settings.g('show') ? settings.hide()  : ''
      }
    };
    this.AudioTrackChangedNoHand = function (x) {
      if (settings) {
        settings.SetSetting('audiotrack')
      }
    };
    this.SubtitleChanged = function () {
      if (settings) {
        settings.SetSubtitle();
        settings.g('show') ? setTimeout(function () {
          settings.hide()
        }, 200)  : ''
      }
    };
    this.SettingsN = function (num, display, val) {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action_settings') == 'settings#' + num) {
            b[x].set('set#visible', display);
            if (b[x].g('type') == 'text') {
              b[x].UpdateText(val + (b[x].s('text') != 'text' ? b[x].s('text')  : ''))
            }
            ShowOrHideProcessor(b[x])
          }
        }
      }
    };
    this.UpdateSettings = function () {
      if (settings) {
        settings.SetQuality();
        settings.SetSetting('audiotrack')
      }
    };
    this.RenewPoints = function () {
      for (var x in b) {
        if (b.hasOwnProperty(x)) {
          if (b[x].g('action') == 'line') {
            b[x].RenewPoints()
          }
        }
      }
    };
    this.resize = function () {
      Resize()
    };
    this.resizeFromText = function (x) {
      if (!toolbarHidden || x == 1) {
        Resize();
        ShowOrHide()
      } else {
        v.toolbar.resizeme = true
      }
    };
    this.refresh = function () {
      ShowOrHide();
      Resize();
      ShowOrHide();
      if (o.nativecontrols) {
        hide2(bg2)
      } else {
        !toolbarHidden ? show2(bg2)  : ''
      }
    };
    this.KeyDown = function (event) {
      if (pljssglobalid == v.id) {
        var x = event.which;
        if (x == undefined) {
          x = event.keyCode
        }
        if (exist(o.vast) || exist(o.pass)) {
          return false
        }
        if (v.hotkey.space == 1 && x == 32 && (o.focus || o.mouseHere)) {
          o.actions.Toggle();
          event.preventDefault();
          return false
        }
        var hk_seek = v.hotkey.seek;
        var hk_vol = 0.2;
        if (o.file_type == 'pdf') {
          hk_seek = 1;
          hk_vol = 0.1
        }
        if (v.hotkey.nums == 1 && o.focus) {
          if (o.media.duration() > 0) {
            for (var i = 48; i < 58; i++) {
              if (x == i) {
                o.actions.Seek((o.media.duration() * (x - 48) * 10) / 100, true)
              }
            }
          }
        }
        if (x == 39 && o.focus) {
          if (v.hotkey.leftright == 'seek') {
            if (o.media.duration() > 0) {
              if (o.media.time() + hk_seek < o.media.duration()) {
                o.actions.Seek(o.media.time() + hk_seek, true)
              }
            }
          }
          if (v.hotkey.leftright == 'volume') {
            o.actions.Volume(parseFloat(v.volume) + hk_vol);
            event.preventDefault()
          }
        }
        if (x == 37 && o.focus) {
          if (v.hotkey.leftright == 'seek') {
            if (o.media.duration() > 0 && o.start) {
              o.actions.Seek((o.media.time() - hk_seek >= 0 ? o.media.time() - hk_seek : 0), true)
            }
          }
          if (v.hotkey.leftright == 'volume') {
            o.actions.Volume(parseFloat(v.volume) - hk_vol);
            event.preventDefault()
          }
        }
        if (x == 38 && o.focus) {
          if (v.hotkey.updown == 'volume') {
            o.actions.Volume(parseFloat(v.volume) + hk_vol);
            event.preventDefault()
          }
          if (v.hotkey.updown == 'scale') {
            o.media.scale(0.2);
            event.preventDefault()
          }
        }
        if (x == 40 && o.focus) {
          if (v.hotkey.updown == 'volume') {
            o.actions.Volume(parseFloat(v.volume) - hk_vol);
            event.preventDefault()
          }
          if (v.hotkey.updown == 'scale') {
            o.media.scale( - 0.2);
            event.preventDefault()
          }
        }
      }
    };
    this.KeyUp = function (event) {
      if (pljssglobalid == v.id) {
        var x = event.which;
        if (x == undefined) {
          x = event.keyCode
        }
        if (x == 57) {
          if (v.log == 1) {
          }
        }
        if (o.fullscreen && x == 27) {
          o.actions.Normalscreen()
        }
        if (exist(o.vast) || exist(o.pass)) {
          return false
        }
        if (v.hotkey.f == 1 && x == 70 && (o.focus || o.mouseHere)) {
          o.fullscreen ? o.actions.Normalscreen()  : o.actions.Fullscreen()
        }
        if (v.hotkey.m == 1 && x == 77 && (o.focus || o.mouseHere)) {
          o.muted ? o.actions.Unmute()  : o.actions.Mute()
        }
      }
    };
    this.Remove = function () {
      clearInterval(o.toolbarInterval);
      for (var i = 0; i < butNames.length; i++) {
        key = butNames[i];
        if (b[key]) {
          b[key].Remove()
        }
      }
      if (settings) {
        settings.Remove()
      }
      if (playlist) {
        playlist.Remove()
      }
      bg.Remove();
      o.frame.removeChild(bg2)
    };
    this.ShowForce = function () {
      ShowForce()
    };
    this.HideForce = function () {
      HideForce();
      ShowOrHide()
    };
    this.HideInterval = function () {
      HideInterval()
    };
    this.ToolbarHidden = function () {
      return toolbarHidden
    }
  };
  var Control = function (key) {
    var i;
    var style = [
    ];
    var w;
    var h;
    var last_text_w = 0;
    var bg;
    var bgcontainer;
    var area;
    var angle = 0;
    var visible = true;
    var selectOpen = false;
    var scaleX = 1;
    var scaleY = 1;
    var tip;
    var tipbg;
    var tiptext;
    var tipcrn;
    var action;
    var action_settings = '';
    var x0;
    var y0;
    var on;
    var over = false;
    var touchmove = false;
    var iconangle = 0;
    var bufferInterval;
    var bufferDeg = 0;
    var rightside = 0;
    var topside = 0;
    var bottomside = 0;
    var noclick = false;
    var clicked = false;
    var cssrand;
    var settingsNumberVisible = false;
    style = UpdateObject(style, default_style.but);
    style = UpdateObject(style, v[key]);
    var actions = [
      style.action
    ];
    action = actions[0];
    exist(style.action2) ? actions[1] = style.action2 : '';
    exist(style.opposite) ? actions[1] = style.opposite : '';
    exist(style.title) ? style.text = style.title : '';
    if (exist(style.linkurl)) {
      if (style.linkurl.indexOf('settings#') == 0) {
        action_settings = style.linkurl;
        if (style.tiptext == '') {
          style.tiptext = Lang(v.settings['settings' + action_settings.substr(9) + 'action'])
        }
      }
    }
    var tips = style.tiptext.split('///');
    var _currentIcon = 0;
    var icons = new Array();
    var icon = new Array();
    var iconsover = new Array();
    var iconspress = new Array();
    var iconreplay = 0;
    var replay;
    if (style.type == 'text') {
      if (exist(style.text)) {
        icons[0] = trim(style.text);
        style.lngth = style.text.length;
        if (style.text.indexOf('/') == 0) {
          style.slashfortime = 1
        }
        if (style.text.indexOf('|') == 0) {
          style.linehfortime = 1
        }
        if (style.inversetime == 1 && style.text.indexOf('-') == 0) {
          style.minusforback = 1
        }
        if (style.text.indexOf('///') > 0 && action == 'custom') {
          style.texts = style.text.split('///');
          style.text = icons[0] = style.texts[0]
        }
      }
    } else {
      if (exist(style.icon)) {
        icons[0] = style.icon;
        if (icons[0].indexOf('///') > 0 && icons[0].indexOf('base64') == - 1) {
          icons = style.icon.split('///')
        }
        if (exist(style.icon2)) {
          icons[1] = style.icon2
        }
        if (style.iconsreplay == 1) {
          if (exist(style.icon3)) {
            if (style.icon3 != '') {
              icons.push(style.icon3);
              iconreplay = icons.length - 1
            }
          }
        }
      }
    }
    if (action == 'custom' && style.link2 == 1 && exist(style.linkurl2)) {
      style.linkurl0 = style.linkurl
    }
    var control = createElement('div');
    if (style.position == 'timeline') {
      o.timeline.appendChild(control)
    } else {
      o.frame.appendChild(control)
    }
    var bgcontainer = createElement('div');
    control.appendChild(bgcontainer);
    css(control, {
      'position': 'absolute',
      'left': 0,
      'top': 0,
      'opacity': 1,
      'fontSize': '14px',
      'lineHeight': '1em'
    });
    if (exist(style.dom)) {
      if (style.dom != '') {
        attr(control, {
          'id': (v.id + '_control_' + style.dom)
        })
      }
    }
    if (style.rotateplaying == 1) {
      css(control, {
        'transition': 'transform 0.2s linear'
      })
    }
    if (icons.length > 0) {
      for (i = 0; i < icons.length; i++) {
        icon[i] = createElement('div');
        css(icon[i], {
          'position': 'absolute',
          'top': 0,
          'left': 0,
          'pointerEvents': 'none',
          'opacity': style.a,
          'transition': 'opacity 0.1s linear,transform 0.1s linear'
        });
        if (style.type == 'pic' && style.src != '') {
          if (style.src.indexOf('.png') > - 1 || style.src.indexOf('.jpg') > - 1 || style.src.indexOf('base64') > - 1) {
            style.src.indexOf('//') == - 1 && style.src.indexOf('base64') == - 1 ? style.src = '//' + style.src : '';
            var z = createElement('img');
            style.loading = 1;
            z.addEventListener('load', imageLoaded);
            z.src = style.src;
            icon[i].appendChild(z);
            style.w = icon[i].offsetWidth;
            style.h = icon[i].offsetHeight;
            if (exist(style.dom)) {
              if (style.dom != '') {
                attr(icon[i], {
                  'id': (v.id + '_control_' + style.dom + '_icon')
                })
              }
            }
          }
        }
        if (style.type == 'text') {
          style.tip = 0;
          css(icon[i], {
            'color': (style.color),
            'fontFamily': style.font,
            'fontSize': style.fontsize,
            'letter-spacing': style.letterspacing + 'px',
            'padding': '0 3px 0 3px',
            'white-space': 'nowrap'
          });
          if (style.click == 1) {
            if (style.text.indexOf('<a ') > - 1 || key == 'control_title') {
              css(icon[i], {
                'pointerEvents': 'auto'
              })
            }
          }
          if (style.bold == 1) {
            css(icon[i], {
              'font-weight': 'bold'
            })
          }
          icons[i] == 'live' ? icons[i] = Lang('live')  : '';
          icon[i].innerHTML = Places(icons[i]);
          style.w = icon[i].offsetWidth;
          style.h = icon[i].offsetHeight;
          if (exist(style.dom)) {
            if (style.dom != '') {
              attr(icon[i], {
                'id': (v.id + '_control_' + style.dom + '_text')
              })
            }
          }
        }
        if (style.type == 'css') {
          cssrand = random(100000, 1000000);
          icons[i] = icons[i].replace(/\(rand\)/g, cssrand);
          icons[i] = icons[i].replace(/\(color\)/g, style.color);
          icons[i] = icons[i].replace(/\(size\)/g, style.size);
          var _html = icons[i].substr(0, icons[i].indexOf('|||'));
          var _css = icons[i].substr(icons[i].indexOf('|||') + 3);
          icon[i].innerHTML = _html;
          pushCSS(_css)
        }
        var icn = icons[i].toString();
        var isvg = icn.indexOf('<svg') > - 1 || icn.indexOf('<SVG') > - 1;
        if (style.type == 'svg' && (icn.indexOf('<g>') > - 1 || isvg)) {
          icon[i].innerHTML = (!isvg ? '<svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'>' : '') + icn + (!isvg ? '</svg>' : '');
          icon[i].offsetWidth > 20 ? style.w = icon[i].offsetWidth : '';
          icon[i].offsetHeight > 20 ? style.h = icon[i].offsetHeight : '';
          css(icon[i], {
            'width': style.w,
            'height': style.h
          });
          if (style.iconscolor != - 1) {
            IconsColor(icon, style.iconscolor)
          }
          if (exist(style.dom)) {
            if (style.dom != '') {
              attr(icon[i], {
                'id': (v.id + '_control_' + style.dom + '_icon' + i)
              })
            }
          }
        }
        control.appendChild(icon[i]);
        i > 0 ? hide(icon[i])  : ''
      }
      Background();
      if (style.linkurl == 'chromecast') {
        style.chromecast = 1;
        style.hide = 1;
        o.chromecast ? icon[0].innerHTML = o.chromecast.button(style.iconscolor != - 1 ? style.iconscolor : '#ffffff')  : '';
        icon[0].onmouseover = onOver;
        icon[0].onmouseout = onOut;
        icon[0].onmousemove = onMove
      } else {
        if ((bg.offsetWidth * style.scale < 35 || bg.offsetHeight * style.scale < 35) && style.type != 'text') {
          ClickArea();
          Clickable(area)
        } else {
          Clickable(bg)
        }
      }
      if (action == 'custom') {
        if (style.link == 1 && exist(style.linkurl)) {
          if (style.linkurl.indexOf('api:') == 0) {
            var tmp = style.linkurl.substr(4).split(',');
            if (tmp.length == 2) {
              var tmp2 = tmp[1].split('/');
              if (tmp2.length == 2) {
                tmp[0] == 'hd' ? tmp[0] = 'default_quality' : '';
                if (v[tmp[0]] == tmp2[1]) {
                  style.a = 1;
                  css(icon[0], {
                    'opacity': style.a
                  })
                }
              }
            }
          }
        }
      }
      if (style.click == 0) {
        css(control, {
          'pointer-events': 'none'
        })
      }
      if (style.loading == 1) {
        hide(bg)
      }
      if (style.tip == 1) {
        CreateTip()
      }
      if (style.position.indexOf('right') > - 1) {
        rightside = 1
      }
      if (style.position.indexOf('top') > - 1) {
        topside = 1
      }
      if (style.position.indexOf('bottom') > - 1 || style.position.indexOf('control') > - 1) {
        bottomside = 1
      }
      Resize();
      var t = '';
      if (style.rotation != 0) {
        t += 'rotate(' + style.rotation + 'deg)'
      }
      if (style.flipx == 1) {
        t += ' scaleX(-1)'
      }
      if (style.flipy == 1) {
        t += ' scaleY(-1)'
      }
      if (t != '') {
        css(control, {
          'transform': t
        })
      }
      if (action == 'buffer') {
        style.scale > - 1 ? css(control, {
          'transform': 'scale(' + style.scale + ') rotate(' + style.rotation + 'deg)'
        })  : '';
        BufferStop()
      }
      var tmp = [
      ];
      var i;
      if (action == 'playlist') {
        tmp = [
          'autoplaylist',
          'openplaylistafter',
          'openplaylistbefore',
          'openplaylistpause',
          'openplaylistroot',
          'playlistrewind'
        ];
        for (i = 0; i < tmp.length; i++) {
          if (exist(style[tmp[i]]) && !exist(v.playlist[tmp[i]])) {
            v.playlist[tmp[i]] = style[tmp[i]]
          }
        }
      }
      if (action == 'title') {
        tmp = [
          'showtitleplaylist',
          'addtitleplaylist',
          'addtitleplaylistbr'
        ];
        for (i = 0; i < tmp.length; i++) {
          if (exist(style[tmp[i]]) && !exist(options[tmp[i]])) {
            v[tmp[i]] = style[tmp[i]]
          }
        }
      }
      style.tipalways == 1 ? Tip()  : '';
      if (action == 'custom' && style.on == 0) {
        hide2(control)
      }
    }
    function ClickArea() {
      if (area) {
        area.parentNode.removeChild(area)
      }
      area = createElement('div');
      css(area, {
        'position': 'absolute',
        'top': 0,
        'left': 0,
        'width': style.type == 'pic' ? bg.offsetWidth : (bg.offsetWidth > 35 ? bg.offsetWidth : 35) * style.clickscalex,
        'height': style.type == 'pic' ? bg.offsetHeight : (bg.offsetHeight > 35 ? bg.offsetHeight : 35) * style.clickscaley
      });
      style = MarginPadding(style, 'clickmargin', 'clickmargin');
      if (v.toolbar.clickarea == 1 || style.clickarea == 1) {
        css(area, {
          'background-color': '#ff0000',
          'opacity': 0.5
        })
      }
      control.appendChild(area)
    }
    function Clickable(x) {
      if (action.indexOf('time') == 0 && actions.length == 1) {
        style.click = 0
      }
      if (action == 'custom' && style.link == 0) {
        style.click = 0
      }
      if (style.click == 1) {
        if (style.hand == 1) {
          css(x, {
            'cursor': 'pointer'
          })
        }
        if (o.system.mobile) {
          x.addEventListener('touchmove', function (event) {
            event.stopPropagation();
            touchmove = true
          });
          x.addEventListener('touchend', function (event) {
            event.stopPropagation();
            if (!touchmove) {
              onClick(event)
            }
            touchmove = false
          })
        } else {
          x.onclick = onClick
        }
      } else {
        css(x, {
          'cursor': 'default'
        })
      }
      if (!o.system.mobile) {
        x.onmouseover = onOver;
        x.onmouseout = onOut
      }
      if (style.hidden == 1 || style.tip == 1) {
        x.onmousemove = onMove
      }
    }
    function Background() {
      if (bg) {
        bg.parentNode.removeChild(bg)
      }
      bg = createElement('div');
      css(bg, {
        'position': 'absolute',
        'top': 0,
        'left': 0
      });
      if (exist(style.dom)) {
        if (style.dom != '') {
          attr(bg, {
            'id': (v.id + '_control_' + style.dom + '_bg')
          })
        }
      }
      w = style.w;
      h = style.h;
      style = MarginPadding(style, 'margin', 'margin');
      style = MarginPadding(style, 'marginproc', 'marginproc');
      if (style.type == 'text') {
        w = icon[_currentIcon].offsetWidth;
        h = icon[_currentIcon].offsetHeight
      }
      style = MarginPadding(style, 'bgpadding', 'bgpadding');
      style = MarginPadding(style, 'iconmargin', 'iconmargin');
      if (o.system.safari) {
        style.iconmarginleft /= style.scale;
        style.iconmarginright /= style.scale;
        style.iconmargintop /= style.scale;
        style.iconmarginbottom /= style.scale
      }
      if (exist(style.dom) && exist(v.custom) && style.action == 'custom') {
        if (style.dom != '' && typeof (v.custom) == 'object') {
          for (var i = 0; i < Object.keys(v.custom).length; i++) {
            if (v.custom[i][style.dom]) {
              if (v.custom[i][style.dom] == 'off') {
                style.on = 0
              } else {
                var tmp = v.custom[i][style.dom].split(':');
                if (tmp[0] == 'margin-left') {
                  if (tmp[1].indexOf('%') > 0) {
                    style.marginprocleft = parseInt(tmp[1])
                  } else {
                    style.marginleft = parseInt(tmp[1])
                  }
                }
              }
            }
          }
        }
      }
      style.h = h;
      style.w = w;
      if (style.bg == 1) {
        h = h + style.bgpaddingtop + style.bgpaddingbottom;
        w = w + style.bgpaddingleft + style.bgpaddingright;
        style.h = h;
        style.w = w;
        if (style.type == 'text') {
          style.bgh = icon[0].offsetHeight
        }
      } else {
        style.bga = 0
      }
      css(bg, {
        'width': (style.bgstretch == 1 ? 5000 : w),
        'height': h,
        'borderRadius': (style.bgo * h) / 2,
        'background': style.bgcolor,
        'opacity': style.bga,
        'transition': 'opacity .1s linear, background .1s linear'
      });
      if (style.type == 'pic') {
        css(bg, {
          'width': w,
          'height': h,
          'borderRadius': (style.bgo * h / style.scale) / 2,
        })
      }
      if (style.bgborder == 1) {
        css(bg, {
          'border': '1px solid ' + style.bgbordercolor
        })
      }
      bgcontainer.appendChild(bg)
    }
    function Resize() {
      css(bg, {
        'top': ( - bg.offsetHeight / 2),
        'left': ( - bg.offsetWidth / 2)
      });
      if (area) {
        var x = style.type == 'pic' ? bg.offsetWidth : (bg.offsetWidth > 35 ? bg.offsetWidth : 35);
        var y = style.type == 'pic' ? bg.offsetHeight : (bg.offsetHeight > 35 ? bg.offsetHeight : 35);
        css(area, {
          'top': ( - y / 2) + style.clickmargintop - style.clickmarginbottom,
          'left': ( - x / 2) + style.clickmarginleft - style.clickmarginright
        })
      }
      for (i = 0; i < icons.length; i++) {
        if (style.type == 'svg') {
          css(icon[i], {
            'top': - Math.round(parseInt(icon[i].style.height)) / 2,
            'left': - parseInt(icon[i].style.width) / 2
          })
        } else {
          css(icon[i], {
            'top': - Math.round(icon[i].offsetHeight) / 2,
            'left': - icon[i].offsetWidth / 2
          })
        }
        if (bg) {
          css(icon[i], {
            'top': (int(icon[i].style.top) + style.bgpaddingtop / 2 - style.bgpaddingbottom / 2 + style.iconmargintop / 2 + style.iconmarginbottom / 2),
            'left': (int(icon[i].style.left) + style.bgpaddingleft / 2 - style.bgpaddingright / 2 + style.iconmarginleft / 2 + style.iconmarginright / 2)
          })
        }
      }
    }
    function onOver() {
      var i;
      over = true;
      if (style.iconsover == 1) {
        if (on && exist(style.icon2)) {
          i = 1
        } else {
          i = 0
        }
        if (replay && iconsover.length > 2) {
          i = 2
        }
        if (iconsover[i]) {
          hideAllIcons();
          show(icon[iconsover[i]])
        }
      }
      if (style.bg == 1) {
        if (style.bgaover != - 1) {
          css(bg, {
            'opacity': style.bgaover
          })
        }
        if (style.bgcolorover != - 1) {
          css(bg, {
            'background': style.bgcolorover
          })
        }
      }
      if (style.aover > - 1 && !selectOpen) {
        for (i = 0; i < icons.length; i++) {
          if (icon[i].style.visibility != 'hidden') {
            css(icon[i], {
              'opacity': style.aover
            })
          }
        }
      }
      if (style.iconscolorover != - 1) {
        IconsColor(icon, style.iconscolorover)
      }
      if (style.rotateonhover == 1) {
        iconangle = iconangle + 45;
        css(icon[0], {
          'transform': 'rotate(' + iconangle + 'deg)'
        })
      }
      if (style.scaleover > style.scale && style.scaleover > - 1) {
        scale(style.scaleover)
      }
      if (action == 'settings' && o.controls.SettingsVisible()) {
      } else {
        if (style.tip == 1 && style.tipalways != 1) {
          show(tip);
          css(tip, {
            'opacity': 1
          })
        }
      }
      if (action == 'mute') {
        o.actions.volumewheel(true);
        o.volumewheel = true
      }
      o.controlover = true;
      o.controls.Mouse(key, 'over')
    }
    function onOut() {
      over = false;
      var i;
      if (style.iconsover == 1) {
        if (on && exist(style.icon2)) {
          i = 1
        } else {
          i = 0
        }
        if (replay && iconsover.length > 2) {
          i = 2
        }
        hideAllIcons();
        show(icon[i])
      }
      if (style.bg == 1) {
        if (style.bgaover != - 1) {
          css(bg, {
            'opacity': style.bga
          })
        }
        if (style.bgcolorover != - 1) {
          css(bg, {
            'background': style.bgcolor
          })
        }
      }
      if (style.aover > - 1) {
        for (i = 0; i < icons.length; i++) {
          if (icon[i].style.visibility != 'hidden') {
            css(icon[i], {
              'opacity': style.a
            })
          }
        }
      }
      if (style.scaleover > - 1) {
        scale(style.scale)
      }
      if (style.iconscolorover != - 1) {
        IconsColor(icon, style.iconscolor)
      }
      if (action == 'mute' && !o.fullscreen) {
        o.actions.volumewheel(false);
        o.volumewheel = false
      }
      if (style.tip == 1 && style.tipalways != 1) {
        hide(tip);
        css(tip, {
          'opacity': 0
        })
      }
      o.controlover = false;
      o.controls ? o.controls.Mouse(key, 'out')  : ''
    }
    function onClick(event) {
      event.cancelBubble = true;
      if (!noclick) {
        o.controls.ControlClick(key);
        if (action == 'custom') {
          if (icons) {
            if (icons.length > 1) {
              if (on == true) {
                show(icon[0]);
                hide(icon[1])
              } else {
                show(icon[1]);
                hide(icon[0])
              }
            }
            if (style.tip == 1 && tips.length > 1) {
              tiptext.innerHTML = (on == true ? tips[0] : tips[1]);
              Tip()
            }
          }
          if (exist(style.linkurl0)) {
            if (on == true) {
              style.linkurl = style.linkurl0
            } else {
              style.linkurl = style.linkurl2
            }
          }
          if (exist(style.texts)) {
            if (style.texts.length > 1) {
              if (on == true) {
                UpdateText(style.texts[0])
              } else {
                UpdateText(style.texts[1])
              }
            }
          }
          on = on != true
        }
        if (style.tip == 1 && style.tipalways != 1) {
          hide(tip);
          css(tip, {
            'opacity': 0
          })
        }
        if (style.rotateonclick == 1) {
          iconangle = iconangle + 45;
          css(icon[0], {
            'transform': 'rotate(' + iconangle + 'deg)'
          })
        }
        clicked = true;
        if (style.hideafterclick == 1 || (key == 'control_start' && style.hide == 1 && style.hideonplay == 1)) {
          o.controls.refresh()
        }
      }
    }
    function ReplayIcon(event) {
      event.cancelBubble = true;
      o.controls.ControlClick(key)
    }
    function hideAllIcons() {
      for (var i = 0; i < icons.length; i++) {
        if (icon[i].style.visibility != 'hidden') {
          css(icon[i], {
            'opacity': style.a
          });
          hide(icon[i])
        }
      }
    }
    function imageLoaded() {
      style.loading = 0;
      hide(bg);
      if (icon[0]) {
        style.w = icon[0].offsetWidth * style.scale;
        style.h = icon[0].offsetHeight * style.scale;
        if (style.picheight > 0) {
          style.h = style.picheight * style.scale;
          css(icon[0], {
            height: style.picheight
          })
        }
        scale(style.scale)
      }
      style.loaded = 0;
      Background();
      ClickArea();
      Clickable(area);
      show(bg);
      Resize();
      o.controls.resize();
      if (!isVisible(control)) {
        hide2(control)
      }
    }
    function CancelBubble(event) {
      event.cancelBubble = true
    }
    function onMove() {
      Tip()
    }
    function scale(x) {
      if (x > 0) {
        if (o.system.safari) {
          css(bg, {
            'zoom': x + ''
          })
        } else {
          css(bg, {
            'transform': 'scale(' + x + ')'
          })
        }
        for (i = 0; i < icons.length; i++) {
          if (o.system.safari) {
            css(icon[i], {
              'zoom': x + ''
            })
          } else {
            css(icon[i], {
              'transform': 'scale(' + x + ')'
            })
          }
        }
        scaleX = x;
        scaleY = x
      }
    }
    function CreateTip() {
      tip = createElement('div');
      css(tip, {
        'position': 'absolute',
        'left': 0,
        'top': 0,
        'height': 'auto',
        'opacity': 0,
        'transition': 'opacity 0.1s linear'
      });
      tipbg = createElement('div');
      style = MarginPadding(style, 'tippadding', 'tippadding');
      style = MarginPadding(style, 'tipmargin', 'tipmargin');
      css(tipbg, {
        'position': 'absolute',
        'left': 0,
        'top': 0,
        'width': '100%',
        'height': 30,
        'background-color': style.tipbgcolor,
        'opacity': style.tipbga,
        'border-radius': style.tipbgrounding
      });
      tiptext = createElement('div');
      css(tiptext, {
        'position': 'absolute',
        'left': style.tippaddingright,
        'top': style.tippaddingtop,
        'color': style.tipcolor,
        'font-family': style.tipfont,
        'font-size': style.tipfontsize,
        'letter-spacing': style.tipletterspacing + 'px',
        'opacity': style.tipa,
        'line-height': '1',
        'white-space': 'nowrap'
      });
      if (style.tippointer == 1) {
        tipcrn = createElement('div');
        tipcrn.innerHTML = '<svg width="8px" height="6px" viewBox="0 0 8 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon id="Rectangle" stroke="none" fill="#' + style.tipbgcolor.replace('#', '') + '" fill-rule="evenodd" points="0 0 8 0 4 6"></polygon></svg>'
      }
      if (style.tipalways == 1) {
        css(tip, {
          'opacity': 1
        });
        Clickable(tip)
      } else {
        css(tip, {
          'pointer-events': 'none'
        })
      }
      control.appendChild(tip);
      tiptext.innerHTML = style.tiptext == '' ? Lang(action)  : tips[0];
      tip.appendChild(tipbg);
      tip.appendChild(tiptext);
      if (style.tippointer == 1) {
        tip.appendChild(tipcrn);
        if (style.tippointeralign == 'right') {
          css(tipcrn, {
            'position': 'absolute',
            'right': 10 * style.scale,
            'bottom': '-8px',
            'opacity': style.tipbga
          })
        } else if (style.tippointeralign == 'left') {
          css(tipcrn, {
            'position': 'absolute',
            'left': 10 * style.scale,
            'bottom': '-8px',
            'opacity': style.tipbga
          })
        } else {
          css(tipcrn, {
            'position': 'absolute',
            'left': '50%',
            'margin-left': '-4px',
            'bottom': '-8px',
            'opacity': style.tipbga
          })
        }
      }
      Tip()
    }
    function Tip() {
      if (style.tip == 1) {
        css(tip, {
          'top': (bottomside == 1 ? - h - tip.offsetHeight + 3 : - tip.offsetHeight / 2) + style.tipmargintop - style.tipmarginbottom,
          'left': (rightside == 1 ? - tiptext.offsetWidth : (bottomside == 1 ? - w / 2 : + tiptext.offsetWidth)) - (bottomside == 1 ? 0 : tiptext.offsetWidth / 2 + 5) + style.tipmarginleft - style.tipmarginright,
          'height': style.tippaddingtop + style.tipfontsize + style.tippaddingbottom,
          'width': style.tippaddingleft + tiptext.offsetWidth + style.tippaddingright
        });
        css(tipbg, {
          'height': tip.offsetHeight
        });
        tip.style.zIndex = '1000'
      }
    }
    this.c = function () {
      return control
    };
    this.s = function (x) {
      return style[x]
    };
    this.ss = function (x, x2) {
      return exist(style[x]) ? style[x][x2] : false
    };
    this.g = function (x) {
      switch (x) {
        case 'width':
          return w;
          break;
        case 'height':
          return h;
          break;
        case 'x':
          return int(control.style.left);
          break;
        case 'y':
          return int(control.style.top);
          break;
        case 'opacity':
          return control.style.opacity ? control.style.opacity : 1;
          break;
        case 'show':
          return visible;
          break;
        case 'scaleX':
          return scaleX;
          break;
        case 'scaleY':
          return scaleY;
          break;
        case 'action':
          return action;
          break;
        case 'action_settings':
          return action_settings;
          break;
        case 'clicked':
          return clicked;
          break;
        case 'type':
          return style.type;
          break;
        case 'length':
          return style.lngth ? style.lngth : 0;
          break;
        case 'key':
          return key;
          break;
        case 'x0':
          return x0;
          break;
        case 'y0':
          return y0;
          break;
        case 'over':
          return over;
          break;
        case 'settings#':
          return action_settings.indexOf('settings#') == 0;
          break;
        case 'set#visible':
          return settingsNumberVisible;
          break;
        default:
          return false
      }
    };
    this.set = function (k, x) {
      switch (k) {
        case 'show':
          over ? onOut()  : '';
          visible = x;
          break;
        case 'display':
          DisplayControl(x);
          break;
        case 'show2':
          show2(control);
          break;
        case 'hide2':
          hide2(control);
          break;
        case 'scale':
          scale(x);
          break;
        case 'scaleX':
          css(control, {
            'transform': 'scaleX(' + x + ')'
          });
          scaleX = x;
          break;
        case 'scaleY':
          css(control, {
            'transform': 'scaleY(' + x + ')'
          });
          scaleY = x;
          break;
        case 'opacity':
          css(control, {
            'opacity': x
          });
          break;
        case 'iconopacity':
          css(icon[0], {
            'opacity': x
          });
          break;
        case 'saturate':
          css(icon[0], {
            'filter': 'saturate(' + x + ')'
          });
          break;
        case 'left':
          css(control, {
            'left': x
          });
          break;
        case 'top':
          css(control, {
            'top': x
          });
          break;
        case 'width':
          css(control, {
            'width': x
          });
          break;
        case 'height':
          css(control, {
            'height': x
          });
          break;
        case 'over_final':
          style.over_final = x;
          break;
        case 'rightside':
          rightside = x;
          break;
        case 'set#visible':
          settingsNumberVisible = x;
          break;
        case 'x':
          css(control, {
            'left': x
          });
          break;
        case 'y':
          css(control, {
            'top': x
          });
          break;
        case 'animation':
          style.animation = x;
          break;
        case 'x0':
          x0 = x;
          break;
        case 'y0':
          y0 = x;
          break;
        default:
          return false
      }
    };
    function DisplayControl(x) {
      if (x && o.system.mobile) {
        noclick = true;
        setTimeout(noClickTimeout, 300)
      }
      if (!x) {
        if (style.iconsreplay == 1 && replay) {
          hide(icon[iconreplay]);
          show(icon[0]);
          replay = false
        }
      }
      if (style.loading == 1) {
        x ? show(control)  : hide(control)
      } else {
        if (key == 'control_time' || key == 'control_duration') {
          x ? show(control)  : hide(control)
        } else {
          css(control, {
            'display': (x ? 'block' : 'none')
          })
        }
        visible = x;
        x ? show(control)  : ''
      }
    }
    function noClickTimeout() {
      noclick = false
    }
    this.UpdateText = function (text) {
      UpdateText(text)
    };
    this.Rotate = function () {
      css(control, {
        'transform': 'rotate(' + angle + 'deg)'
      });
      angle += 20
    };
    this.RenewFromTitle = function (x) {
      if (style.text.indexOf('{title}') > - 1) {
        UpdateText(style.text)
      }
    };
    function UpdateText(text) {
      if (style.type == 'text') {
        if (exist(text)) {
          style.lngth = text.length
        }
        text = (style.linefortime == 1 ? '| ' : '') + (style.slashfortime == 1 ? '/ ' : '') + (style.inversetime == 1 && style.minusforback == 1 ? '-' : '') + text;
        var prevorius_default_w = icon[0].offsetWidth + (style.bg == 1 ? style.bgpaddingtop + style.bgpaddingbottom : 0);
        var prevorius_default_h = icon[0].offsetHeight + (style.bg == 1 ? style.bgpaddingtop + style.bgpaddingbottom : 0);
        icon[0].innerHTML = (action == 'custom' ? Places(text)  : text);
        if (style.triangle == 1) {
          icon[0].innerHTML += '<span style="display:inline-block;width:10px"></span><span style="border-top: 3px solid #fff;border-left: 3px solid transparent;border-right: 3px solid transparent;position: absolute;right:3px;top: 50%;margin-top: -1px;"></span>'
        }
        if (action == 'title') {
          css(icon[0], {
            'width': 'auto',
            'white-space': 'nowrap'
          });
          if (icon[0].offsetWidth > o.screen_w) {
            if (style.marquee == 1) {
              icon[0].innerHTML = '<marquee>' + text + '</marquee>'
            } else {
              css(icon[0], {
                'white-space': 'normal'
              })
            }
            css(icon[0], {
              'width': o.screen_w - style.marginleft - style.marginright - style.bgpaddingleft - style.bgpaddingright
            })
          }
        }
        style.w = icon[0].offsetWidth + (style.bg == 1 ? style.bgpaddingtop + style.bgpaddingbottom : 0);
        style.h = icon[0].offsetHeight + (style.bg == 1 ? style.bgpaddingtop + style.bgpaddingbottom : 0);
        if (prevorius_default_w != style.w || prevorius_default_h != style.h || (style.w > 0 && last_text_w == 0)) {
          ResizeText()
        }
        if (icon[0].offsetWidth > 0) {
          last_text_w = style.w
        } else {
          if (text != '') {
            setTimeout(ResizeText, 100)
          }
        }
      }
    }
    function ResizeText() {
      if (icon[0].offsetWidth > 0) {
        w = style.w = icon[0].offsetWidth;
        h = style.h = icon[0].offsetHeight;
        Background();
        Clickable(bg);
        Resize();
        o.controls.resizeFromText()
      }
    }
    this.UpdateVolume = function (x) {
      if (style.displayvolume == 1 && !o.system.mobile) {
        var l1 = document.getElementById('pjs_volume_element1');
        var l2 = document.getElementById('pjs_volume_element2');
        var l3 = document.getElementById('pjs_volume_element3');
        if (l1) {
          if (x <= 0.2) {
            l3 ? hide(l3)  : '';
            l2 ? hide(l2)  : '';
            l1 ? hide(l1)  : ''
          }
          if (x > 0.2 && x <= 0.5) {
            l3 ? hide(l3)  : '';
            l2 ? hide(l2)  : ''
          }
          if (x > 0.2) {
            l1 ? show(l1)  : ''
          }
          if (x > 0.5) {
            l2 ? show(l2)  : ''
          }
          if (x > 0.5 && x <= 0.8) {
            l3 ? hide(l3)  : ''
          }
          if (x > 0.8) {
            l3 ? show(l3)  : ''
          }
        }
      }
    };
    this.On = function () {
      if (!on) {
        if (icons) {
          if (icons.length > 1 && actions.length > 1) {
            hide(icon[0]);
            show(icon[1])
          }
        }
        if (actions.length > 1) {
          action = actions[1];
          if (style.tip == 1) {
            tiptext.innerHTML = style.tiptext == '' ? Lang(actions[1])  : (tips.length > 1 ? tips[1] : tips[0]);
            Tip()
          }
        }
        if (style.iconsreplay == 1 && replay) {
          hide(icon[iconreplay]);
          replay = false
        }
        on = true
      }
    };
    this.CustomSwitch = function (x) {
      console.log('CustomSwitch', x);
      if (x == 1) {
        style.a = 1
      } else {
        style.a = 0.5
      }
      css(icon[0], {
        'opacity': style.a
      })
    };
    this.Off = function () {
      if (on) {
        if (icons) {
          if (icons.length > 1 && actions.length > 1) {
            show(icon[0]);
            hide(icon[1])
          }
        }
        action = actions[0];
        if (actions.length > 1) {
          if (style.tip == 1) {
            tiptext.innerHTML = style.tiptext == '' ? Lang(actions[0])  : tips[0];
            Tip()
          }
        }
        on = false;
        replay = false
      }
    };
    this.ReplayIcon = function () {
      if (style.iconsreplay == 1) {
        hideAllIcons();
        show(icon[iconreplay]);
        replay = true
      }
    };
    this.Buffer = function () {
      var stop = false;
      if (style.hide == 1 && style.hidewithposter == 1) {
        if (isVisible(o.poster)) {
          stop = true
        }
      }
      if (!stop) {
        show2(control);
        var items = control.getElementsByTagName('*');
        for (var i = items.length; i--; ) {
          css(items[i], {
            'animation-play-state': 'running'
          })
        }
        visible = true
      }
    };
    this.BufferStop = function () {
      BufferStop()
    };
    function BufferStop() {
      hide2(control);
      var items = control.getElementsByTagName('*');
      for (var i = items.length; i--; ) {
        css(items[i], {
          'animation-play-state': 'paused'
        })
      }
      visible = false
    }
    this.Remove = function () {
      if (icons.length > 0) {
        for (i = 0; i < icons.length; i++) {
          control.removeChild(icon[i]);
          delete icon[i]
        }
      }
      if (bg) {
        bg.removeAttribute('onclick');
        bg.removeAttribute('onmouseover');
        bg.removeAttribute('onmouseout');
        bg.parentNode.removeChild(bg);
        delete bg
      }
      if (style.position == 'timeline') {
        o.timeline.appendChild(control)
      } else {
        o.frame.appendChild(control)
      }
      if (tip) {
        control.removeChild(tip)
      }
      delete control
    };
    function Places(x) {
      if (x.indexOf('{time}') > - 1 && exist(o.continue )) {
        x = x.replace('{time}', timeFormat(o.continue .flag().t))
      }
      if (x.indexOf('{title}') > - 1) {
        x = x.replace('{title}', (o.titlestore ? o.titlestore : (v.title ? v.title : '')))
      }
      return x
    }
    function IconsColor(icon, clr) {
      for (var i = 0; i < icon.length; i++) {
        var x = [
          'path',
          'polygon',
          'polyline',
          'rect',
          'ellipse'
        ];
        for (var y = 0; y < x.length; y++) {
          var z = icon[i].querySelectorAll('svg ' + x[y]);
          if (z.length > 0) {
            for (var y2 = 0; y2 < z.length; y2++) {
              z[y2].style.fill = clr
            }
          }
        }
      }
      if (style.linkurl == 'chromecast') {
        if (o.chromecast) {
          o.chromecast.Color(icon[0], clr)
        }
      }
    }
  };
  var ControlLine = function (key, action) {
    var i;
    var style = [
    ];
    var w;
    var h;
    var bg;
    var visible = true;
    var x0;
    var y0;
    var scaleX = 1;
    var scaleY = 1;
    var topBg = 0;
    var leftBg = 0;
    var alphas;
    var mouseDown;
    var mouseUp;
    var click;
    var handle;
    var _duration_load;
    var _duration_play;
    var _time_load;
    var _time_play;
    var tip;
    var tipbg;
    var tiptext;
    var tipcrn;
    var points = [
    ];
    var thumb;
    var current_thumb = - 1;
    var lastTouch;
    var over;
    var onup_to;
    for (i in default_style.but) {
      style[i] = default_style.but[i]
    }
    var action = v[key].action;
    var type = v[key].type;
    for (i in default_style[action]) {
      style[i] = default_style[action][i]
    }
    for (i in v[key]) {
      style[i] = v[key][i]
    }
    style.w = parseInt(style.w);
    style.h = parseInt(style.h);
    style = MarginPadding(style, 'margin', 'margin');
    style = MarginPadding(style, 'marginproc', 'marginproc');
    var control = createElement('div');
    o.frame.appendChild(control);
    action == 'line' ? o.timeline = control : '';
    css(control, {
      'position': 'absolute',
      'top': 0,
      'left': 0,
      'opacity': 1,
      'fontSize': '14px',
      'lineHeight': '1em'
    });
    if (style.ontop == 1) {
      control.style.zIndex = 5
    }
    Background();
    var lines = createElement('div');
    css(lines, {
      'position': 'absolute',
      'bottom': 0,
      'left': Math.round( - style.w / 2),
      'transition': 'transform 0.2s ease-in-out'
    });
    if (exist(style.dom)) {
      if (style.dom != '') {
        attr(control, {
          'id': (v.id + '_control_' + style.dom)
        })
      }
    }
    control.appendChild(lines);
    if (action == 'line' && v.thumbs == 1) {
      CreateThumb()
    }
    if (style.tip == 1) {
      CreateTip()
    }
    var line0 = createElement('div');
    StyleLine(line0, 0.3, (style.gradient == 1 ? 'linear-gradient(#' + style.gradientcolorbg + ', #' + style.colorbg + ')' : style.colorbg), style.w, style.abg);
    if (style.customdesign == 1 && exist(style.customdesignsvg)) {
      var svg0 = createElement('div');
      svg0.innerHTML = style.customdesignsvg.replace(/\#FFFFFF/g, '#' + style.colorbg);
      line0.appendChild(svg0);
      css(svg0, {
        'position': 'absolute',
        'bottom': - Math.round(style.h / 2),
        'left': 0,
        'pointer-events': 'none'
      });
      css(line0, {
        'overflow': 'hidden',
        'background': 'none'
      });
      var x = [
        'path',
        'polygon',
        'polyline',
        'rect',
        'ellipse'
      ];
      for (var y = 0; y < x.length; y++) {
        var z = svg0.querySelectorAll('svg ' + x[y]);
        if (z.length > 0) {
          for (var y2 = 0; y2 < z.length; y2++) {
            z[y2].style.fill = style.colorbg
          }
        }
      }
    }
    lines.appendChild(line0);
    var lines1 = [
    ];
    var line1 = createElement('div');
    StyleLine(line1, style.linespeed1, (style.gradient == 1 ? 'linear-gradient(#' + style.gradientcolorload + ', #' + style.colorload + ')' : style.colorload), 0, style.aload);
    lines.appendChild(line1);
    if (style.bufferline == 1) {
      var line_buffer = createElement('div');
      lines.appendChild(line_buffer);
      hide(line_buffer)
    }
    if (style.aover > 0) {
      var line2 = createElement('div');
      StyleLine(line2, style.linespeed2, style.colorover, 0, style.aover);
      lines.appendChild(line2)
    }
    var line3 = createElement('div');
    StyleLine(line3, style.linespeed3, (style.gradient == 1 ? 'linear-gradient(#' + style.gradientcolor + ', #' + style.color + ')' : style.color), 0, style.a);
    if (style.customdesign == 1 && exist(style.customdesignsvg)) {
      var svg3 = createElement('div');
      svg3.innerHTML = style.customdesignsvg.replace(/\#FFFFFF/g, '#' + style.color);
      css(svg3, {
        'position': 'absolute',
        'bottom': - Math.round(style.h / 2),
        'left': 0,
        'pointer-events': 'none'
      });
      css(line3, {
        'overflow': 'hidden',
        'background': 'none'
      });
      line3.appendChild(svg3)
    }
    if (style.value == 1) {
      var line3value = createElement('div');
      style = MarginPadding(style, 'valuepadding', 'valuepadding');
      style = MarginPadding(style, 'valuemargin', 'valuemargin');
      css(line3value, {
        'position': 'absolute',
        'bottom': style.h / 2,
        'right': 0,
        'pointer-events': 'none',
        'font-size': (style.valuesize + 'px'),
        'color': style.valuecolor,
        'line-height': '100%',
        'padding-top': style.valuepaddingtop,
        'padding-bottom': style.valuepaddingbottom,
        'padding-left': style.valuepaddingleft,
        'padding-right': style.valuepaddingright,
        'margin-top': style.valuemargintop,
        'margin-bottom': style.valuemarginbottom,
        'margin-left': style.valuemarginleft,
        'margin-right': style.valuemarginright,
        'border-radius': (style.valuerounding + 'px'),
        'display': 'none'
      });
      if (style.valuebg == 1) {
        css(line3value, {
          'background': '#' + style.valuebgcolor
        })
      }
      line3.appendChild(line3value);
      var l3v_show = false;
      var l3v_left = false
    }
    o.timeline_h = style.h;
    lines.appendChild(line3);
    if (style.pointed == 1) {
      v.pointed = 1;
      var pointscontrol = createElement('div');
      css(pointscontrol, {
        'position': 'absolute',
        'top': 0,
        'left': 0
      });
      control.appendChild(pointscontrol);
      exist(v.points) ? UpdatePoints(v.points)  : ''
    }
    if (style.handle == 1) {
      if (style.handleicon.toString().indexOf('<svg') > - 1) {
        handle = createElement('div');
        handle.innerHTML = style.handleicon.toString();
        style = MarginPadding(style, 'handlemargin', 'handlemargin');
        css(handle, {
          'position': 'absolute',
          'top': - 10 + style.handlemargintop - style.handlemarginbottom,
          'left': - 1000,
          'pointer-events': 'none',
          'height': 20,
          'width': style.handle_width,
          'opacity': style.handlea
        });
        if (style.handlehide == 1) {
          css(handle, {
            'transform': 'scale(0)'
          })
        } else {
          if (style.handlescale != 1) {
            css(handle, {
              'transform': 'scale(' + style.handlescale + ')'
            })
          }
        }
        control.appendChild(handle);
        if (style.handlecolor != - 1) {
          var x = [
            'path',
            'rect',
            'ellipse'
          ];
          for (var y = 0; y < x.length; y++) {
            var z = handle.querySelectorAll('svg ' + x[y]);
            if (z.length > 0) {
              for (var y2 = 0; y2 < z.length; y2++) {
                z[y2].style.fill = '#' + style.handlecolor
              }
            }
          }
        }
        style.handlewidth = handle.offsetWidth
      } else {
        style.handle = 0
      }
    }
    if (style.rotation != 0) {
      css(control, {
        'transform': 'rotate(' + style.rotation + 'deg)'
      })
    }
    if (style.hidden == 1) {
      hide(control);
      visible = false
    }
    if (action == 'volume') {
      if (style.hide == 1 && style.hideoutmute == 1) {
        o.hidden_volume = true;
        style.hidden = true
      } else {
        o.hidden_volume = false
      }
    }
    style.vertical = 0;
    if (style.rotation != 0) {
      style.rotation2 = Math.abs(style.rotation);
      if (style.rotation2 > 45 && style.rotation2 < 135) {
        style.vertical = 90
      }
      if (style.rotation2 > 225 && style.rotation2 < 315) {
        style.vertical = 270
      }
    }
    function StyleLine(x, y, z, _w, _a) {
      css(x, {
        'position': 'absolute',
        'bottom': Math.round( - style.h / 2),
        'left': 0,
        'width': _w,
        'height': style.h,
        'background': z ? (z.indexOf('linear') > - 1 ? z : '#' + z)  : '',
        'border-radius': style.rounding * style.h / 2,
        'opacity': _a,
        'pointer-events': 'none',
        'transition': 'width ' + y + 's linear'
      })
    }
    function Background() {
      bg = createElement('div');
      style = MarginPadding(style, 'bgpadding', 'bgpadding');
      var bgh = style.h + style.bgpaddingtop + style.bgpaddingbottom;
      var bgw = style.w + style.bgpaddingleft + style.bgpaddingright;
      if (style.bg == 1) {
      } else {
        style.bga = 0
      }
      style = MarginPadding(style, 'clickmargin', 'clickmargin');
      if (v.toolbar.clickarea == 1 || style.clickarea == 1) {
        style.bgcolor = '#ff0000';
        style.bg = 1;
        style.bga = 0.5
      }
      css(bg, {
        'position': 'absolute',
        'top': 0,
        'left': 0,
        'width': bgw,
        'height': bgh * style.clickscaley,
        'borderRadius': (style.bgo * bgh) / 2,
        'backgroundColor': style.bgcolor,
        'opacity': style.bga
      });
      if (style.bgborder == 1) {
        css(bg, {
          'border': '1px solid #' + style.bgbordercolor
        })
      }
      css(bg, {
        'top': - style.h / 2 - style.bgpaddingtop + style.clickmargintop - style.clickmarginbottom
      });
      if (style.click == 1) {
        if (style.hand == 1) {
          css(bg, {
            'cursor': 'pointer'
          })
        }
        if (!o.system.mobile) {
          bg.onclick = onClick;
          bg.onmouseup = onUp;
          bg.onmousedown = onDown;
          bg.onmousemove = onMove
        }
      } else {
        css(bg, {
          'cursor': 'default'
        })
      }
      if (!o.system.mobile) {
        bg.onmouseover = onOver;
        bg.onmousemove = onMove;
        bg.onmouseout = onOut
      }
      if (o.system.mobile) {
        bg.addEventListener('touchstart', function (event) {
          event.cancelBubble = true;
          if (!exist(event.clientX) && event.touches.length > 0) {
            event.clientX = event.touches[0].pageX;
            event.clientY = event.touches[0].pageY
          }
          lastTouch = event;
          onOver(event);
          onDown(event)
        });
        bg.addEventListener('touchend', function (event) {
          event.cancelBubble = true;
          onOut(event);
          onUp(lastTouch)
        });
        bg.addEventListener('click', function (event) {
          event.cancelBubble = true
        });
        bg.addEventListener('touchmove', function (event) {
          if (!exist(event.clientX) && event.touches.length > 0) {
            event.clientX = event.touches[0].pageX;
            event.clientY = event.touches[0].pageY
          }
          lastTouch = event;
          onMove(event)
        })
      }
      css(bg, {
        'left': - style.w / 2 - style.bgpaddingleft
      });
      css(bg, {
        'top': - style.h / 2 - style.bgpaddingtop + style.clickmargintop - style.clickmarginbottom
      });
      control.appendChild(bg)
    }
    function Resize(width) {
      if (width != w) {
        w = width;
        o.timeline_w = w;
        var delta = w / line0.offsetWidth;
        css(bg, {
          'width': (w + style.bgpaddingleft + style.bgpaddingright),
          'left': - w / 2 - style.bgpaddingleft,
        });
        css(lines, {
          'left': - w / 2
        });
        css(line0, {
          'width': w
        });
        var xx = line1.offsetWidth * delta;
        if (xx > line0.offsetWidth) {
          xx = line0.offsetWidth
        }
        css(line1, {
          'width': xx
        });
        css(line3, {
          'width': (line3.offsetWidth * delta)
        });
        if (line_buffer) {
          if (!hidden(line_buffer)) {
            Buffering()
          }
        }
        HandleWidth(line3.offsetWidth * delta, false);
        if (action == 'line') {
          Continue()
        }
        if (style.pointed == 1) {
          PlacePoints()
        }
      }
    }
    function HandleWidth(x, none) {
      if (style.handle == 1) {
        if (x < style.handlewidth / 2 && style.handle_width != 20) {
          x = style.handlewidth / 2
        }
        if (x > w - style.handlewidth / 2 && style.handle_width != 20) {
          x = w - style.handlewidth / 2
        }
        y = x - w / 2 - style.handlewidth / 2 + style.handlemarginleft - style.handlemarginright;
        var y = {
          'left': y
        };
        none ? y.transition = 'none' : '';
        css(handle, y)
      }
    }
    function onOver(event) {
      o.controls.Mouse(key, 'over');
      if (style.bgaover != - 1 && style.bg == 1) {
        var m = new Motion({
          'mc': bg,
          'type': 'alpha_div',
          'to': style.bgaover,
          'time': 0.1,
          'me': (key + 'bg')
        })
      }
      if (style.handle == 1) {
        if (style.handleiconsover == 1 && exist(style.handleiconover)) {
          if (style.handleiconspress == 1 && mouseDown) {
          } else {
            handle.innerHTML = '<svg width=\'' + style.handle_width + '\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'>' + style.handleiconover.toString() + '</svg>'
          }
        }
        if (style.handlehide == 1) {
          css(handle, {
            'transform': 'scale(' + style.handlescale + ')',
            'transition': 'all ' + style.slidespeed + 's linear'
          })
        } else {
          if (style.handleaover != - 1) {
            var m2 = new Motion({
              'mc': handle,
              'type': 'alpha_div',
              'to': style.handleaover,
              'time': 0.1,
              'me': (key + 'handle')
            })
          }
        }
      }
      if (style.tip == 1 && (o.media.duration() > 0 || action == 'volume')) {
        show(tip);
        css(tip, {
          'opacity': 1
        })
      }
      if (style.expand > 0) {
        css(bg, {
          'transform': 'scaleY(' + ((style.expand - 1) / 5 + 1) + ')'
        });
        css(lines, {
          'transform': 'scaleY(' + style.expand + ')'
        })
      }
      if (action == 'volume') {
        o.actions.volumewheel(true);
        o.volumewheel = true
      }
      o.controlover = true
    }
    function onOut() {
      if (!mouseUp) {
        if (style.aover > 0) {
          css(line2, {
            'width': 0
          })
        }
        if (style.bgaover != - 1 && style.bg == 1) {
          var m = new Motion({
            'mc': bg,
            'type': 'alpha_div',
            'to': style.bga,
            'time': 0.1,
            'me': (key + 'bg')
          })
        }
        if (style.handle == 1) {
          if (style.handleiconsover == 1 && exist(style.handleiconover)) {
            if (style.handleiconspress == 1 && mouseDown) {
            } else {
              handle.innerHTML = '<svg width=\'' + style.handle_width + '\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'>' + style.handleicon.toString() + '</svg>'
            }
          }
          if (style.handlehide == 1) {
            css(handle, {
              'transform': 'scale(0)',
              'transition': 'all ' + style.slidespeed + 's linear'
            })
          } else {
            if (style.handleaover != - 1) {
              var m2 = new Motion({
                'mc': handle,
                'type': 'alpha_div',
                'to': style.handlea,
                'time': 0.1,
                'me': (key + 'handle')
              })
            }
          }
        }
        if (style.expand > 0) {
          css(bg, {
            'transform': 'scaleY(1)'
          });
          css(lines, {
            'transform': 'scaleY(1)'
          })
        }
        if (action == 'volume' && !o.fullscreen) {
          o.actions.volumewheel(false);
          o.volumewheel = false
        }
        o.controls.Mouse(key, 'out')
      }
      if (style.tip == 1 && (o.media.duration() > 0 || action == 'volume')) {
        hide(tip);
        css(tip, {
          'opacity': 0
        })
      }
      if (o.thumbs_on && action == 'line') {
        hide2(thumb);
        current_thumb = - 1
      }
      o.controlover = false
    }
    function onClick(event) {
      event.cancelBubble = true
    }
    function CancelBubble(event) {
      event.cancelBubble = true
    }
    function onUp(event) {
      if (action == 'volume') {
        if (o.hidden_volume_over) {
          mouseUp = true;
          clearTimeout(onup_to);
          onup_to = setTimeout(function () {
            mouseUp = false;
            onOut()
          }, 1000)
        }
      }
      EndMove();
      o.mouseDown = false;
      if (style.handle == 1) {
        if (style.handleiconspress == 1 && exist(style.handleiconpress)) {
          handle.innerHTML = '<svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'>' + style.handleicon.toString() + '</svg>'
        }
      }
      CalculateClick(event.clientX, event.clientY);
      o.controls.ControlClick(key);
      o.controls.StageMouseUp(event.clientX, event.clientY);
      event.cancelBubble = true
    }
    function onDown(event) {
      mouseDown = true;
      if (style.handle == 1) {
        if (style.handleiconspress == 1 && exist(style.handleiconpress)) {
          handle.innerHTML = '<svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'>' + style.handleiconpress.toString() + '</svg>'
        }
      }
      topBg = findTop(bg);
      leftBg = findLeft(bg);
      CalculateClick(event.clientX, event.clientY);
      UpdatePlay(click, 1, 'no')
    }
    function CalculateClick(event_x, event_y) {
      var x;
      var xOffset = document.documentElement.scrollLeft;
      var yOffset = document.documentElement.scrollTop;
      event_y = event_y + yOffset;
      event_x = event_x + xOffset;
      if (style.vertical > 0) {
        x = event_y - topBg + w / 2 - style.bgpaddingright;
        click = x / w;
        if (style.vertical == 270) {
          x = event_y - topBg + w / 2 - style.bgpaddingleft;
          click = x / w;
          click = (click - 1) * - 1
        }
      } else {
        x = event_x - leftBg - style.bgpaddingleft;
        click = x / w;
        if (style.rotation > 134 && style.rotation < 235) {
          x = event_x - leftBg - style.bgpaddingright;
          click = x / w;
          click = (click - 1) * - 1
        }
      }
    }
    this.PlacePoints = function () {
      PlacePoints()
    };
    this.RenewPoints = function () {
      UpdatePoints()
    };
    function UpdatePoints() {
      if (points) {
        for (var i = 0; i < points.length; i++) {
          pointscontrol.removeChild(points[i])
        }
      }
      points = [
      ];
      if (v.points) {
        for (var i = 0; i < Object.keys(v.points).length; i++) {
          if (v.points[i].time) {
            points[i] = createElement('div');
            css(points[i], {
              'position': 'absolute',
              'left': 0,
              'top': - style.h / 2,
              'width': (exist(v.points[i].width) ? v.points[i].width : style.pointw),
              'height': style.h,
              'opacity': (exist(v.points[i].opacity) ? v.points[i].opacity : style.pointa),
              'pointer-events': 'none',
              'display': 'none',
              'background-color': (exist(v.points[i].color) ? v.points[i].color : style.pointcolor)
            });
            points[i].time = v.points[i].time;
            pointscontrol.appendChild(points[i])
          }
        }
        PlacePoints()
      }
    }
    function PlacePoints() {
      var x = o.media.duration();
      for (var i = 0; i < points.length; i++) {
        if (x > 0) {
          css(points[i], {
            'left': w * (points[i].time / x) - w / 2,
            'display': 'block'
          })
        } else {
          hide2(points[i])
        }
      }
    }
    function EndMove() {
      mouseDown = false
    }
    function onMove(event) {
      if (style.aover > 0) {
        if (o.start || action != 'line') {
          css(line2, {
            'width': event.clientX - leftBg
          })
        }
      }
      if (style.tip == 1 && (o.media.duration() > 0 || action == 'volume')) {
        !isVisible(tip) ? show(tip)  : '';
        topBg = findTop(bg);
        leftBg = findLeft(bg);
        CalculateClick(event.clientX, event.clientY);
        if (action == 'line') {
          if (o.media.isLive() && o.media.currentFile().indexOf('?DVR') > 0 && v.hlsdvrtime == 1) {
            tiptext.innerHTML = '- ' + timeFormat((1 - click) * o.media.duration())
          } else {
            tiptext.innerHTML = timeFormat(click * o.media.duration())
          }
        }
        if (action == 'volume') {
          tiptext.innerHTML = Math.round(click * 100)
        }
        css(tip, {
          'top': ( - tiptext.offsetHeight * 2 - style.linetipmarginbottom * 1) - (style.toptip == 1 ? (style.h / 2) * (style.expand > 0 ? style.expand : 1)  : 0),
          'left': ( - w / 2 + (event.clientX + document.documentElement.scrollLeft - leftBg) - tip.offsetWidth / 2),
          'height': style.tippaddingtop + style.tipfontsize + style.tippaddingbottom,
          'width': style.tippaddingleft + tiptext.offsetWidth + style.tippaddingright,
        });
        css(tipbg, {
          'height': tip.offsetHeight
        });
        tip.style.zIndex = '1000'
      }
      if (o.thumbs_on && action == 'line') {
        if (o.media.duration() > 0) {
          if (style.tip == 0) {
            topBg = findTop(bg);
            leftBg = findLeft(bg);
            CalculateClick(event.clientX, event.clientY)
          }
          var left = ( - w / 2 + (event.clientX - leftBg) - v.thumb_width / 2);
          left > w / 2 - v.thumb_width ? left = w / 2 - v.thumb_width : '';
          css(thumb, {
            'top': ( - v.thumb_height - 5 - v.thumb_border),
            'left': (left < - w / 2 ? - w / 2 : left)
          });
          ThumbsTime(click * o.media.duration())
        }
      }
    }
    this.c = function () {
      return control
    };
    this.s = function (key) {
      return style[key]
    };
    this.ss = function (x, x2) {
      return style[x][x2]
    };
    this.g = function (x) {
      switch (x) {
        case 'width':
          return w;
          break;
        case 'offsetwidth':
          return line0.offsetWidth;
          break;
        case 'height':
          return style.h;
          break;
        case 'x':
          return int(control.style.left);
          break;
        case 'y':
          return int(control.style.top);
          break;
        case 'opacity':
          return control.style.opacity ? control.style.opacity : 1;
          break;
        case 'show':
          return visible;
          break;
        case 'scaleX':
          return scaleX;
          break;
        case 'scaleY':
          return scaleY;
          break;
        case 'action':
          return action;
          break;
        case 'key':
          return key;
          break;
        case 'x0':
          return x0;
          break;
        case 'y0':
          return y0;
          break;
        case 'click':
          return click;
          break;
        default:
          return false
      }
    };
    this.set = function (key, x) {
      switch (key) {
        case 'show':
          visible = x;
          break;
        case 'mouseDown':
          mouseDown = x;
          break;
        case 'display':
          action == 'line' || style.hide == 1 ? css(control, {
            'visibility': (x ? 'visible' : 'hidden')
          })  : css(control, {
            'display': (x ? 'block' : 'none')
          });
          visible = x;
          break;
        case 'scaleX':
          css(control, {
            'transform': 'scaleX(' + x + ')'
          });
          scaleX = x;
          break;
        case 'scaleY':
          css(control, {
            'transform': 'scaleY(' + x + ')'
          });
          scaleY = x;
          break;
        case 'opacity':
          css(control, {
            'opacity': x
          });
          break;
        case 'left':
          css(control, {
            'left': x
          });
          break;
        case 'top':
          css(control, {
            'top': x
          });
          break;
        case 'click':
          click = x;
          break;
        case 'width':
          css(control, {
            'width': x
          });
          break;
        case 'height':
          css(control, {
            'height': x
          });
          break;
        case 'over_final':
          style.roundingver_final = x;
          break;
        case 'x':
          css(control, {
            'left': x
          });
          break;
        case 'y':
          css(control, {
            'top': x
          });
          break;
        case 'x0':
          x0 = x;
          break;
        case 'y0':
          y0 = x;
          break
      }
    };
    this.Resize = function (x) {
      Resize(x)
    };
    this.StageLeave = function (x) {
    };
    this.StageMove = function (stage_x, stage_y) {
      if (mouseDown) {
        if (action == 'volume') {
          CalculateClick(stage_x, stage_y);
          o.controls.ControlClick(key);
          o.hidden_volume_over = true
        }
        CalculateClick(stage_x, stage_y);
        UpdatePlay(click, 1, 'no')
      }
    };
    this.StageMouseUp = function (stage_x, stage_y) {
      if (mouseDown) {
        EndMove();
        mouseDown = false;
        CalculateClick(stage_x, stage_y);
        o.controls.ControlClick(key);
        UpdatePlay(click, 1, 'no')
      }
    };
    function UpdatePlay(time, duration, animate) {
      time < 0 ? time = 0 : '';
      if (mouseDown && duration != 1) {
      } else {
        var _to;
        if (duration > 0 && time > 0) {
          if (time > duration) {
            time = duration
          }
          _to = w * (time / duration);
          if (_to == line3.offsetWidth) {
            _to = - 1
          }
        } else {
          _to = 0
        }
        if (_to >= 0) {
          css(line3, {
            'width': _to,
            'transition': (animate != 'no' ? 'width ' + style.slidespeed + 's linear' : 'none')
          });
          HandleWidth(_to, true)
        }
        if (exist(line3value)) {
          if (duration < 2 && action == 'line') {
            if (l3v_show) {
              hide2(line3value);
              l3v_show = false
            }
          } else {
            if (!l3v_show) {
              show2(line3value);
              l3v_show = true
            }
            line3value.innerHTML = action == 'line' ? Time(time == 0 ? duration : time)  : Math.ceil(time * 100);
            if (_to < line3value.clientWidth + style.valuemarginright + style.valuemarginleft) {
              if (!l3v_left) {
                css(line3value, {
                  'left': 0,
                  'right': 'auto'
                });
                l3v_left = true
              }
            } else {
              if (l3v_left) {
                css(line3value, {
                  'right': 0,
                  'left': 'auto'
                });
                l3v_left = false
              }
            }
          }
        }
      }
    };
    this.UpdatePlay = function (time, duration, animate) {
      if (duration != _duration_play || time != _time_play) {
        UpdatePlay(time, duration, animate)
      }
    };
    this.UpdatePlaySeek = function () {
      click > 1 ? click = 1 : '';
      click < 0 ? click = 0 : '';
      css(line3, {
        'width': (click * w),
        'transition': 'none'
      })
    };
    this.UpdateLoad = function (time, duration) {
      if (duration > 0 && time > 0) {
        var _to = w * (time / duration);
        css(line1, {
          'width': int(_to)
        });
        _duration_load = duration;
        _time_load = time
      } else {
        _time_load = 0;
        css(line1, {
          'width': 0
        })
      }
    };
    function ThumbsTime(x) {
      if (v.thumbs == 1) {
        if (o.thumbs_on) {
          var y = - 1;
          if (exist(o.thumbs)) {
            if (o.thumbs.length > 0) {
              for (var i = o.thumbs.length - 1; i >= 0; i--) {
                if (x >= o.thumbs[i].t1 && x <= o.thumbs[i].t2) {
                  y = i;
                  break
                }
              }
            }
          }
          if (y != - 1 && current_thumb != y) {
            if (exist(o.thumbs[y])) {
              if (exist(o.thumbs[y].url)) {
                var z = o.thumbs[y].url;
                if (z.indexOf('.') > - 1) {
                  !isVisible(thumb) ? show2(thumb)  : '';
                  css(thumb, {
                    'background-image': 'url(' + o.thumbs[y].url + ')'
                  });
                  if (z.indexOf('xywh') > 0) {
                    var xy = z.substr(z.indexOf('xywh') + 5);
                    var xywh = xy.split(',');
                    if (xywh.length == 4) {
                      css(thumb, {
                        'background-position-y': '-' + parseInt(xywh[1]) + 'px',
                        'background-position-x': '-' + parseInt(xywh[0]) + 'px',
                        'width': parseInt(xywh[2]) + 'px',
                        'height': parseInt(xywh[3]) + 'px',
                        'background-size': 'auto'
                      });
                      v.thumb_width = xywh[2];
                      v.thumb_height = xywh[3]
                    }
                  } else {
                    css(thumb, {
                      'background-size': 'cover'
                    })
                  }
                }
              } else {
                hide2(thumb)
              }
            }
          } else {
            y == - 1 ? hide2(thumb)  : ''
          }
          current_thumb = y
        }
      }
    }
    function CreateThumb() {
      thumb = createElement('div');
      css(thumb, {
        'position': 'absolute',
        'left': 0,
        'top': 0,
        'width': v.thumb_width,
        'height': v.thumb_height,
        'overflow': 'hidden',
        'pointer-events': 'none',
        'background-color': '#000',
        'border-radius': v.thumb_radius + 'px',
        'display': 'none'
      });
      if (v.thumb_border == 1) {
        css(thumb, {
          'border': v.thumb_borderwidth + 'px solid #' + v.thumb_bordercolor
        })
      }
      if (v.thumb_shadow == 1) {
        css(thumb, {
          'box-shadow': '0px 1px 5px rgba(0,0,0,0.5)'
        })
      }
      thumb.style.zIndex = '999';
      control.appendChild(thumb)
    }
    function CreateTip() {
      tip = createElement('div');
      css(tip, {
        'position': 'absolute',
        'left': 0,
        'top': 0,
        'height': 'auto',
        'pointer-events': 'none',
        'opacity': 0,
        'transition': 'opacity 0.1s linear'
      });
      tipbg = createElement('div');
      style = MarginPadding(style, 'tippadding', 'tippadding');
      css(tipbg, {
        'position': 'absolute',
        'left': 0,
        'top': 0,
        'width': '100%',
        'height': 30,
        'background-color': style.tipbgcolor,
        'opacity': style.tipbga,
        'border-radius': style.tipbgrounding
      });
      tiptext = createElement('div');
      css(tiptext, {
        'position': 'absolute',
        'left': style.tippaddingright,
        'top': style.tippaddingtop,
        'color': style.tipcolor,
        'font-family': style.tipfont,
        'font-size': style.tipfontsize,
        'letter-spacing': style.tipletterspacing + 'px',
        'line-height': '1',
        'opacity': style.tipa
      });
      style.tippointer = style.linetippointer;
      if (style.tippointer == 1) {
        tipcrn = createElement('div');
        tipcrn.innerHTML = '<svg width="8px" height="6px" viewBox="0 0 8 6" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polygon id="Rectangle" stroke="none" fill="#' + style.tipbgcolor + '" fill-rule="evenodd" points="0 0 8 0 4 6"></polygon></svg>'
      }
      control.appendChild(tip);
      tip.appendChild(tipbg);
      tip.appendChild(tiptext);
      if (style.tippointer == 1) {
        tip.appendChild(tipcrn);
        css(tipcrn, {
          'position': 'absolute',
          'left': '50%',
          'margin-left': '-4px',
          'bottom': '-8px',
          'opacity': style.tipbga
        })
      }
    };
    function Continue() {
      if (o.continue && v.timestore == 1) {
        var f = o.continue .flag();
        if (f.t && f.d) {
          UpdatePlay(f.t, f.d)
        }
      }
    };
    this.Remove = function () {
      control.removeChild(lines);
      if (bg) {
        bg.removeAttribute('onclick');
        bg.removeAttribute('onmouseover');
        bg.removeAttribute('onmouseout');
        bg.parentNode.removeChild(bg);
        delete bg
      }
      if (handle) {
        control.removeChild(handle)
      }
      o.frame.removeChild(control);
      delete control
    }
  };
  var ControlsBg = function () {
    var i;
    var style = [
    ];
    var w;
    var h;
    var visible = true;
    var scaleX = 1;
    var scaleY = 1;
    var x0 = 0;
    var y0 = 0;
    var motion_id = random(100000, 200000);
    var action,
    key = 'bg';
    var type = 'shape';
    style['position'] = v.toolbar.position;
    for (var k in v.toolbar) {
      if (v.toolbar.hasOwnProperty(k)) {
        style[k] = v.toolbar[k]
      }
    }
    if (style.show == 0) {
      v.toolbar.h = style.h = 0;
      style.padding = style.margin = '0 0 0 0';
      style.gradient = 0
    }
    style['scale'] = 1;
    style = MarginPadding(style, 'margin', 'margin');
    style = MarginPadding(style, 'marginproc', 'marginproc');
    if (exist(style.paddingtop)) {
      if (style.paddingtop != 20 && style.margin == '-20 0 0 0') {
        style.margintop = style.paddingtop
      }
    }
    var control = createElement('div');
    css(control, {
      'position': 'absolute',
      'left': 0,
      'top': 0,
      'width': (style.stretchonfullscreen == 1 ? '100%' : o.normal_w),
      'height': style.h - style.margintop,
      'opacity_': style.a,
      'pointer-events': 'none',
      'fontSize': '14px',
      'lineHeight': '1em'
    });
    o.frame.appendChild(control);
    var bg = createElement('div');
    css(bg, {
      'position_': 'absolute',
      'left_': 0,
      'top_': 0,
      'width_': '100%',
      'height': style.h - style.marginbottom - style.margintop,
      'opacity': style.a,
      'display': 'block',
      'margin-left': style.marginleft,
      'margin-right': style.marginright,
      'border-radius': style.rounding
    });
    control.appendChild(bg);
    w = control.offsetWidth;
    v.toolbar_margintop = - style.margintop;
    if (style.gradient == 1) {
      if (style.color == '000000' || v.toolbar.image != '') {
        v.toolbar_margintop = 98 - style.h;
        var img = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAADGCAYAAAAT+OqFAAAAdklEQVQoz42QQQ7AIAgEF/T/D+kbq/RWAlnQyyazA4aoAB4FsBSA/bFjuF1EOL7VbrIrBuusmrt4ZZORfb6ehbWdnRHEIiITaEUKa5EJqUakRSaEYBJSCY2dEstQY7AuxahwXFrvZmWl2rh4JZ07z9dLtesfNj5q0FU3A5ObbwAAAABJRU5ErkJggg==';
        if (v.toolbar.image.indexOf('data:image') > - 1) {
          img = v.toolbar.image
        }
        css(bg, {
          'height': style.h + v.toolbar_margintop,
          'background': 'url(' + img + ') repeat-x 50% 100%',
          'background-size': 'auto'
        })
      } else {
        var bgg = 'to bottom, rgba(' + hexToRgb(style.color) + ',0), rgba(' + hexToRgb(style.color) + ',1)';
        css(bg, {
          'background': '-moz-linear-gradient(' + bgg + ')',
          'background': '-webkit-linear-gradient(' + bgg + ')',
          'background': '-ms-linear-gradient(' + bgg + ')',
          'background': '-o-linear-gradient(' + bgg + ')',
          'background': 'linear-gradient(' + bgg + ')'
        })
      }
    } else {
      css(bg, {
        'background-color': style.color
      })
    }
    this.c = function () {
      return control
    };
    this.s = function (key) {
      return style[key]
    };
    this.g = function (x) {
      switch (x) {
        case 'w':
          control.offsetWidth > 0 ? w = control.offsetWidth : '';
          return w;
          break;
        case 'width':
          return control.offsetWidth;
          break;
        case 'height':
          return control.offsetHeight;
          break;
        case 'x':
          return int(control.style.left);
          break;
        case 'y':
          return int(control.style.top);
          break;
        case 'opacity':
          return control.style.opacity ? control.style.opacity : 1;
          break;
        case 'show':
          return visible;
          break;
        case 'scaleX':
          return scaleX;
          break;
        case 'scaleY':
          return scaleY;
          break;
        case 'key':
          return key;
          break;
        case 'x0':
          return x0;
          break;
        case 'y0':
          return y0;
          break;
        case 'motion_id':
          return key + motion_id;
          break;
        default:
          return false
      }
    };
    this.set = function (key, x) {
      switch (key) {
        case 'show':
          visible = x;
          break;
        case 'w':
          w = x;
          break;
        case 'display':
          css(control, {
            'display': (x ? 'block' : 'none')
          });
          visible = x;
          break;
        case 'scale':
          css(control, {
            'transform': 'scale(' + x + ')'
          });
          scaleX = x;
          scaleY = x;
          break;
        case 'scaleX':
          css(control, {
            'transform': 'scaleX(' + x + ')'
          });
          scaleX = x;
          break;
        case 'scaleY':
          css(control, {
            'transform': 'scaleY(' + x + ')'
          });
          scaleY = x;
          break;
        case 'opacity':
          css(control, {
            'opacity': x
          });
          break;
        case 'left':
          css(control, {
            'left': x
          });
          break;
        case 'top':
          css(control, {
            'top': x
          });
          break;
        case 'width':
          css(control, {
            'width': x
          });
          break;
        case 'height':
          css(control, {
            'height': x
          });
          break;
        case 'x':
          css(control, {
            'left': x
          });
          break;
        case 'y':
          css(control, {
            'top': x
          });
          break;
        case 'x0':
          x0 = x;
          break;
        case 'y0':
          y0 = x;
          break
      }
    };
    this.Remove = function () {
      o.frame.removeChild(control);
      delete control
    }
  };
  var Settings = function (is) {
    var i;
    var style = [
    ];
    var f = [
    ];
    var fbg = [
    ];
    var fimg = [
    ];
    var ftitle = [
    ];
    var fvalue = [
    ];
    var faction = [
    ];
    var f2 = [
    ];
    var f2bg = [
    ];
    var f2img = [
    ];
    var f2title = [
    ];
    var f2value = [
    ];
    var f2action = [
    ];
    var stout = [
    ];
    var is_visible = false;
    var open_action;
    var open_settings = - 1;
    var empty = true;
    var key = is;
    var playlist;
    var history = [
    ];
    var shuffle = [
    ];
    var shuffle_ = [
    ];
    var plid = '';
    var plfolder = '';
    var plx = - 1;
    var sub_settings_on = false;
    var sub_settings = false;
    var autonextopenfolder = false;
    var autoprevopenfolder = false;
    var justshow = false;
    var showinterval;
    var arrinterval;
    var wheelinterval;
    var hidetimeout;
    style = UpdateObject(style, v[is]);
    style = MarginPadding(v[is], 'margin', 'margin');
    if (style.marginbg == 0) {
      style.marginbgpadding = '0 0 0 0'
    }
    style = MarginPadding(v[is], 'bgpadding', 'marginbgpadding');
    style = MarginPadding(v[is], 'padding', 'padding');
    style.scrollwidth = 0;
    var _activeIcon = '<svg width=\'' + style.activeiconsize * 2 + '\' height=\'' + (style.activeiconsize * 2 > style.valuefontsize ? (style.activeiconsize * 2)  : style.valuefontsize) + '\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\' ><g><ellipse ry=\'' + (style.activeiconsize) + '\' rx=\'' + style.activeiconsize + '\' cy=\'' + (style.activeiconsize * 2 > style.valuefontsize ? (style.activeiconsize)  : (style.valuefontsize / 2)) + '\' cx=\'' + style.activeiconsize + '\' fill=\'#' + style.valuecolor + '\'/></g></svg>';
    var _xIcon = '<svg width=\'' + style.activeiconsize * 2 + '\' height=\'' + style.valuefontsize + '\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\' ><g><ellipse ry=\'' + (style.activeiconsize - 1) + '\' rx=\'' + (style.activeiconsize - 1) + '\' cy=\'' + (style.valuefontsize / 2 + 2) + '\' cx=\'' + style.activeiconsize + '\' stroke=\'#' + style.valuecolor + '\' stroke=\'1\' fill-opacity=\'0\'/></g></svg>';
    var xx = 4;
    var _nextIcon = '<svg width=\'' + (xx + 2) + '\' height=\'' + (style.valuefontsize) + '\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'><g><line x1=\'1\' y1=\'' + (style.valuefontsize / 2 - xx) + '\' x2=\'' + xx + '\' y2=\'' + (style.valuefontsize / 2) + '\' stroke=\'#' + style.color + '\' stroke-width=\'1\' stroke-linecap=\'round\'/><line x1=\'' + xx + '\' y1=\'' + (style.valuefontsize / 2) + '\' x2=\'1\' y2=\'' + (style.valuefontsize / 2 + xx) + '\' stroke=\'#' + style.color + '\' stroke-width=\'1\' stroke-linecap=\'round\'/></g></svg>';
    var container = createElement('div');
    o.frame.appendChild(container);
    css(container, {
      'overflow': 'hidden',
      'display': 'block',
      'opacity': 0,
      'border-radius': style.rounding
    });
    if (is == 'settings') {
      container.style.zIndex = 100
    } else {
      container.style.zIndex = 99
    }
    var control = createElement('div');
    container.appendChild(control);
    css(control, {
      'position': 'relative',
      'top': 0,
      'left': 0,
      'display': 'block',
      'width': '100%',
      'padding-top': style.bgpaddingtop,
      'padding-right': style.bgpaddingright + 20,
      'padding-bottom': style.bgpaddingbottom,
      'padding-left': style.bgpaddingleft,
      'color': style.color,
      'font-size': style.fontsize,
      'font-family': style.font,
      'letter-spacing': style.letterspacing + 'px'
    });
    if (o.system.safari) {
      css(control, {
        'min-width': 220
      })
    }
    if (is !== 'playlist') {
      css(control, {
        'overflow-y': 'scroll'
      })
    }
    if (is == 'playlist') {
      attr(control, {
        id: (v.id + '_' + is)
      });
      if (style.floatleft == 1) {
        css(control, {
          'width': '100%',
          'padding-right': style.bgpaddingright,
          'padding-bottom': style.bgpaddingbottom + 20,
          'overflow-x': 'scroll',
          'white-space': 'nowrap'
        });
        css(container, {
          'width': o.screen_w - style.marginright - style.marginleft,
          'height': style.floatheight + style.bgpaddingtop + style.bgpaddingbottom
        })
      } else {
        css(control, {
          'overflow-y': 'scroll'
        });
        if (style.width100 == 1) {
          css(control, {
            'width': o.screen_w - style.marginright - style.marginleft
          })
        }
      }
      if (style.marginbg == 1) {
        css(container, {
          'background-color': style.marginbgcolor
        })
      }
    }
    if (style.scrollarrows == 1) {
      var arr_up = createElement('div');
      var scrollbgcolor = hexToRgb(style.marginbg == 1 ? style.marginbgcolor : style.bgcolor);
      if (style.floatleft == 1) {
        StyleArrow(arr_up, 'to right, rgba(' + scrollbgcolor + ',' + (style.bga * 1 + 0.3) + '), rgba(' + scrollbgcolor + ',0)', 'left', 12, 5, 7, 10, 7, 10, 12, 15);
        if (o.system.mobile) {
          arr_up.addEventListener('touchstart', ScrollLeft)
        } else {
          arr_up.addEventListener('click', ScrollLeft)
        }
      } else {
        StyleArrow(arr_up, 'to bottom, rgba(' + scrollbgcolor + ',' + (style.bga * 1 + 0.3) + '), rgba(' + scrollbgcolor + ',0)', 'top', 5, 12, 10, 7, 10, 7, 15, 12);
        if (o.system.mobile) {
          arr_up.addEventListener('touchstart', ScrollUp)
        } else {
          arr_up.addEventListener('click', ScrollUp)
        }
      }
      var arr_down = createElement('div');
      if (style.floatleft == 1) {
        StyleArrow(arr_down, 'to left, rgba(' + scrollbgcolor + ',' + (style.bga * 1 + 0.3) + '), rgba(' + scrollbgcolor + ',0)', 'right', 8, 5, 13, 10, 13, 10, 8, 15);
        if (o.system.mobile) {
          arr_down.addEventListener('touchstart', ScrollRight)
        } else {
          arr_down.addEventListener('click', ScrollRight)
        }
      } else {
        StyleArrow(arr_down, 'to bottom, rgba(' + scrollbgcolor + ',0), rgba(' + scrollbgcolor + ',' + (style.bga * 1 + 0.3) + ')', 'bottom', 5, 8, 10, 13, 10, 13, 15, 8);
        if (o.system.mobile) {
          arr_down.addEventListener('touchstart', ScrollDown)
        } else {
          arr_down.addEventListener('click', ScrollDown)
        }
      }
      control.addEventListener('wheel', Wheel, {
        passive: true
      });
      arr_up.addEventListener('mouseup', onMouseUp);
      arr_down.addEventListener('mouseup', onMouseUp);
      container.appendChild(arr_up);
      container.appendChild(arr_down);
      clearInterval(arrinterval);
      arrinterval = setInterval(ArrowsInterval, 1000)
    }
    if (o.system.mobile) {
      control.ontouchstart = ControlOver;
      control.ontouchend = ControlOut
    } else {
      control.onmouseover = ControlOver;
      control.onmouseout = ControlOut
    }
    if (is == 'settings') {
      for (var i = 1; i < 11; i++) {
        if (exist(v['control_' + is][is + i])) {
          v.settings[is + i] = v['control_' + is][is + i];
          if (exist(v['control_' + is][is + i + 'title'])) {
            v.settings[is + i + 'title'] = v['control_' + is][is + i + 'title']
          }
          if (exist(v['control_' + is][is + i + 'action'])) {
            v.settings[is + i + 'action'] = v['control_' + is][is + i + 'action']
          }
        }
        if (exist(v.settings[is + i])) {
          if (v.settings[is + i] == 1) {
            CreateItem('f', i);
            StyleItem(f[i], fbg[i], ftitle[i], fvalue[i]);
            ftitle[i].innerHTML = Lang(v.settings[is + i + 'action']);
            if (exist(v.settings[is + i + 'title'])) {
              if (v.settings[is + i + 'title'] != '') {
                ftitle[i].innerHTML = v.settings[is + i + 'title']
              }
            }
            if (exist(v.settings[is + i + 'action'])) {
              faction[i] = v.settings[is + i + 'action'];
              Value(i)
            }
            if (o.system.mobile) {
              f[i].addEventListener('touchstart', onOver);
              f[i].addEventListener('touchend', onOut)
            } else {
              f[i].addEventListener('mouseover', onOver);
              f[i].addEventListener('mouseout', onOut)
            }
            f[i].addEventListener('click', onClick);
            f[i].addEventListener('mouseup', onMouseUp)
          }
        }
      }
    }
    function Wheel() {
      clearInterval(wheelinterval);
      wheelinterval = setInterval(ControlOut, 3000)
    }
    function ControlOver() {
      o.mouseDown = true
    }
    function ControlOut() {
      if (style.showovercontrol == 1) {
        clearTimeout(o.settingsovertimer);
        o.settingsovertimer = setTimeout(function () {
          if (!o.mouseDown) {
            HideControl()
          }
        }, 1000)
      }
      o.mouseDown = false
    }
    function onOver(event) {
      if (o.fullscreen) {
        o.volumewheel ? o.actions.volumewheel(false)  : ''
      }
      var i = event.target.getAttribute('fid');
      var x;
      if (i) {
        x = 'f'
      } else {
        if (event.target.getAttribute('f2id')) {
          i = event.target.getAttribute('f2id');
          x = 'f2'
        }
      }
      if (i) {
        i = parseInt(i);
        if (exist(eval(x) [i])) {
          if (style.bgaover > - 1) {
            css(eval(x + 'bg') [i], {
              'opacity': style.bgaover
            })
          }
          if (style.aover > - 1) {
            css(eval(x + 'title') [i], {
              'opacity': style.aover
            });
            css(eval(x + 'value') [i], {
              'opacity': style.aover
            })
          }
          css(eval(x + 'bg') [i], {
            'backgroundColor': style.bgcolorover
          });
          if (is == 'playlist') {
            if (faction[i].indexOf('playlist') == 0) {
              var id = faction[i].substr(8);
              if (plid == id || plfolder == id) {
                css(eval(x + 'title') [i], {
                  'color': style.valuecolor
                });
                css(eval(x + 'value') [i], {
                  'color': style.valuecolor
                })
              } else {
                css(eval(x + 'title') [i], {
                  'color': style.color
                })
              }
            }
          }
        }
      }
    };
    function onOut(event) {
      if (o.fullscreen) {
        o.volumewheel ? o.actions.volumewheel(true)  : ''
      }
      var i = event.target.getAttribute('fid');
      var x;
      if (i) {
        x = 'f'
      } else {
        if (event.target.getAttribute('f2id')) {
          i = event.target.getAttribute('f2id');
          x = 'f2'
        }
      }
      if (i) {
        if (exist(eval(x) [i])) {
          css(eval(x + 'bg') [i], {
            'backgroundColor': style.bgcolor
          });
          if (style.bgaover > - 1) {
            css(eval(x + 'bg') [i], {
              'opacity': style.bga,
              'transition': 'opacity 0.1s linear'
            })
          }
          if (style.aover > - 1) {
            css(eval(x + 'title') [i], {
              'opacity': style.a,
              'transition': 'opacity 0.1s linear'
            });
            css(eval(x + 'value') [i], {
              'opacity': style.a,
              'transition': 'opacity 0.1s linear'
            })
          }
          if (is == 'playlist') {
            if (faction[i].indexOf('playlist') == 0) {
              var id = faction[i].substr(8);
              if (plid == id || plfolder == id) {
                css(eval(x + 'title') [i], {
                  'color': style.valuecolor
                });
                css(eval(x + 'value') [i], {
                  'color': style.valuecolor
                })
              } else {
                if (exist(history[id])) {
                  HistoryPlaylist(i)
                } else {
                  css(eval(x + 'title') [i], {
                    'color': style.color
                  })
                }
              }
            }
          }
        }
      }
    }
    function onClick(event) {
      if (!justshow) {
        var d = new Date();
        o.clicktime = d.getTime();
        var i = event.target.getAttribute('fid');
        if (i) {
          if (exist(f[i])) {
            if (exist(faction[i])) {
              Action(i)
            }
          }
        }
      }
    }
    function onMouseUp(event) {
      event.cancelBubble = true
    }
    function onClick2(event) {
      if (!justshow) {
        var d = new Date();
        o.clicktime = d.getTime();
        var i = event.target.getAttribute('f2id');
        if (i) {
          if (i == 0) {
            Home()
          } else {
            if (exist(f2action[i])) {
              Action2(i)
            }
          }
        }
      }
    }
    function onClickSubtitle(event) {
      var x = event.target.getAttribute('setupx');
      if (x) {
        ActionSubtitle(x)
      }
    }
    function onClickSubtitle2(event) {
      var i = event.target.getAttribute('f2id');
      if (exist(f2action[i])) {
        if (f2action[i].indexOf('=') > 0) {
          var x = f2action[i].substr(0, f2action[i].indexOf('='));
          var y = f2action[i].substr(f2action[i].indexOf('=') + 1);
          v[x] = y;
          if (o.storage && v.sub_designstore == 1) {
            localStorage.setItem('pljs' + x, y)
          }
          o.actions.RenewSubtitle();
          ActionSubtitle(x)
        }
      }
    }
    function Value(i) {
      if (exist(faction[i])) {
        var _hide = false;
        var _show = false;
        var _value = '';
        if (is == 'settings') {
          if (faction[i] == 'quality') {
            _value = o.media.getQuality()
          }
          if (faction[i] == 'audiotrack') {
            _value = o.media.getAudioTrack()
          }
          if (faction[i] == 'channel') {
            if (o.channels) {
              _value = o.files_channel[o.current_channel]
            }
          }
          if (faction[i] == 'audiotrack' || faction[i] == 'channel' || faction[i] == 'quality') {
            if (o['files_' + faction[i]].length == 0) {
              _hide = true
            } else {
              if (o['files_' + faction[i]].length == 1 && (style.show1value != 1 || o['files_' + faction[i]][0] == 1)) {
                _hide = true
              } else {
                _show = true
              }
            }
          }
          if (faction[i] == 'airplay') {
            if (!o.airplay) {
              _hide = true
            } else {
              _show = true
            }
          }
          if (faction[i] == 'subtitle') {
            if (exist(o.subs)) {
              _show = true;
              if (o.subtitle_on || v.sub_off == 1) {
                _value = o.files_subtitle[!o.subtitle_on ? o.files_subtitle.length - 1 : o.current_subtitle]
              } else {
                _value = ''
              }
            } else {
              _hide = true
            }
          }
          if (faction[i] == 'speed') {
            _value = o.files_speed[o.current_speed];
            _show = true;
            if (o.file_type == 'vimeo') {
              _hide = true;
              _show = false
            }
          }
        }
        fvalue[i].innerHTML = _value + (_value != '' && style.hidearrow != 1 ? ' &nbsp;<svg width="5px" height="7px" viewBox="-1 -1 5 8" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><polyline stroke="#' + style.valuecolor + '" stroke-width="1" fill="none" points="0 0 3 3 0 6"></polyline></svg>' : '');
        if (_hide) {
          hide(f[i]);
          if (is == 'settings') {
            stout[i] ? clearTimeout(stout[i])  : '';
            if (o.controls) {
              o.controls.SettingsN(i, false, _value)
            } else {
              stout[i] = setTimeout(function () {
                o.controls.SettingsN(i, false, _value)
              }, 500)
            }
          }
          css(f[i], {
            'position': 'absolute',
            'right': 0,
            'top': - 100
          })
        }
        if (_show) {
          if (style.floatleft == 1) {
            css(f[i], {
              'display': 'inline-block'
            })
          } else {
            show(f[i])
          }
          if (is == 'settings') {
            stout[i] ? clearTimeout(stout[i])  : '';
            if (o.controls) {
              o.controls.SettingsN(i, true, _value)
            } else {
              stout[i] = setTimeout(function () {
                o.controls.SettingsN(i, true, _value)
              }, 500)
            }
          }
          css(f[i], {
            'position': 'relative',
            'right': 0,
            'top': 0
          })
        }
        Resize()
      }
      for (var j = 1; j < f.length; j++) {
        if (f[j]) {
          if (isVisible(f[j])) {
            var refresh = false;
            empty ? refresh = true : '';
            empty = false;
            refresh && o.controls ? o.controls.refresh()  : ''
          }
        }
      }
    };
    function Action(i) {
      if (exist(faction[i])) {
        var x = VisibleItems();
        if (open_action != faction[i]) {
          open_action = faction[i];
          if (open_action == 'quality' || open_action == 'audiotrack' || open_action == 'subtitle' || open_action == 'speed' || open_action == 'channel') {
            open_settings = i;
            var files_query = [
            ];
            if (exist(Object.assign)) {
              files_query = Object.assign([], o['files_' + open_action])
            } else {
              for (var key in o['files_' + open_action]) {
                if (o['files_' + open_action].hasOwnProperty(key)) {
                  files_query[key] = o['files_' + open_action][key]
                }
              }
            }
            var current = o['current_' + open_action];
            var pressed = o['pressed_' + open_action];
            for (var j = 1; j < f.length; j++) {
              if (f[j]) {
                f[j].style.display = 'none'
              }
            }
            f2 = [
            ];
            CreateItem('f2', 0);
            StyleItem(f2[0], f2bg[0], f2title[0], f2value[0]);
            css(f2[0], {
              'border-bottom': '1px solid ' + (style.bordercolored == 1 ? '#' + style.bordercolor.replace('#', '')  : 'rgba(100,100,100,0.7)')
            });
            f2title[0].innerHTML = v.settings[is + i + 'title'] && v.settings[is + i + 'title'] != '' ? v.settings[is + i + 'title'] : Lang(v.settings[is + i + 'action']);
            if (open_action == 'subtitle') {
              f2value[0].innerHTML = Lang('params');
              css(f2value[0], {
                'color': style.color,
                'text-decoration': 'underline',
                'pointerEvents': 'auto'
              });
              f2value[0].addEventListener('click', SubtitleSettings);
              if (sub_settings_on) {
                for (j = 0; j < o.sub_options.length; j++) {
                  files_query.push('pjslng_' + o.sub_options[j])
                }
              }
            }
            css(f2title[0], {
              'font-size': style.headfontsize
            });
            f2action[0] = 'home';
            if (x[0] > 1) {
              if (o.system.mobile) {
                f2[0].addEventListener('touchstart', onOver);
                f2[0].addEventListener('touchend', onOut)
              } else {
                f2[0].addEventListener('mouseover', onOver);
                f2[0].addEventListener('mouseout', onOut)
              }
              f2[0].addEventListener('click', onClick2);
              f2[0].addEventListener('mouseup', onMouseUp)
            } else {
              css(f2[0], {
                'cursor': 'default'
              })
            }
            if (style.nohead == 1) {
              hide2(f2[0])
            }
            if (exist(files_query)) {
              for (j = 0; j < files_query.length; j++) {
                var y = j + 1;
                var totheend = false;
                if (trim(files_query[j]) != '') {
                  if (open_action == 'quality') {
                    if (files_query[j] == Lang('auto')) {
                      totheend = true
                    }
                  }
                  CreateItem('f2', y, totheend);
                  StyleItem(f2[y], f2bg[y], f2title[y], f2value[y]);
                  if (typeof (files_query[j]) == 'string') {
                    if (files_query[j].indexOf('pjslng') == 0) {
                      f2title[y].innerHTML = Lang(files_query[j].substr(7));
                      if (files_query[j] == 'pjslng_sub_sizeproc') {
                        css(f2[y], {
                          'border-top': '1px solid rgba(100,100,100,0.7)'
                        })
                      }
                    } else {
                      f2title[y].innerHTML = files_query[j]
                    }
                  } else {
                    f2title[y].innerHTML = files_query[j]
                  }
                  f2action[y] = open_action + j;
                  if (current == j || pressed == j) {
                    f2value[y].innerHTML = current == j ? _activeIcon : _xIcon;
                    current == j ? css(f2title[y], {
                      'color': style.valuecolor
                    })  : ''
                  }
                  if (typeof (files_query[j]) == 'string') {
                    if (files_query[j].indexOf('pjslng') == 0) {
                      var t = files_query[j].substr(7);
                      if (t.indexOf('color') > 0) {
                        f2value[y].innerHTML = '<div style=\'' + (v[t] == '000000' ? 'border:1px solid #999;height:8px;width:8px;' : 'height:10px;width:10px;') + ';background-color:' + (v[t].indexOf('#') == - 1 ? '#' : '') + v[t] + ';border-radius:10px;\'></div>'
                      } else {
                        f2value[y].innerHTML = v[files_query[j].substr(7)]
                      }
                    }
                  }
                  if (open_action == 'quality') {
                    if (files_query[j] == Lang('auto') && o.media.autoQuality()) {
                      css(f2title[y], {
                        'color': style.valuecolor
                      })
                    }
                    if (exist(v.forbidden_quality)) {
                      if (v.forbidden_quality.indexOf(files_query[j]) > - 1) {
                        hide2(f2[y])
                      }
                    }
                  }
                  var clck = '';
                  if (typeof (files_query[j]) == 'string') {
                    if (files_query[j].indexOf('pjslng') == 0) {
                      attr(f2[y], {
                        'f2parent': i,
                        'setupx': files_query[j].substr(7)
                      });
                      clck = 'onClickSubtitle'
                    }
                  }
                  if (o.system.mobile) {
                    f2[y].addEventListener('touchstart', onOver);
                    f2[y].addEventListener('touchend', onOut)
                  } else {
                    f2[y].addEventListener('mouseover', onOver);
                    f2[y].addEventListener('mouseout', onOut)
                  }
                  if (clck == 'onClickSubtitle') {
                    f2[y].addEventListener('click', onClickSubtitle)
                  } else {
                    f2[y].addEventListener('click', onClick2)
                  }
                  f2[y].addEventListener('mouseup', onMouseUp)
                }
              }
            }
            Resize()
          }
          if (faction[i] == 'download') {
            o.actions.Download()
          }
          if (faction[i].indexOf('playlist') > - 1) {
            var id = faction[i].substr(8);
            if (exist(o.playlist_dic[id])) {
              if (exist(o.playlist_dic[id]['file'])) {
                o.seekto = undefined;
                ActionPlaylist(i);
                if (exist(o.playlist_dic[id]['start'])) {
                  v.start = o.seekto = o.playlist_dic[id]['start']
                }
                if (exist(o.playlist_dic[id]['redirect']) && v.redirect == 1 && v.redirectplaylist == 1) {
                  redirect(o.playlist_dic[id]['redirect'])
                } else {
                  o.actions.NewFile(o.playlist_dic[id]['file']);
                  v.playlist.always == 0 && v.playlist.autohide == 1 ? setTimeout(HideControl, 200)  : '';
                  autonextopenfolder = false;
                  autoprevopenfolder = false;
                  UpdateVars(id)
                }
              } else {
                if (exist(o.playlist_dic[id]['folder'])) {
                  UpdatePlaylist(o.playlist_dic[id]);
                  if (autonextopenfolder) {
                    plx == - 1 ? Action(0)  : ''
                  } else if (autoprevopenfolder) {
                    plx == - 1 ? Action(parseInt(f.length) - 2)  : ''
                  }
                }
              }
            }
          }
          if (faction[i] == 'airplay') {
            o.media.Airplay()
          }
        }
      }
    };
    function ActionSubtitle(x) {
      for (var i = 0; i < f2.length; i++) {
        if (f2[i]) {
          f2[i].style.display = 'none'
        }
      }
      f2 = [
      ];
      CreateItem('f2', 0);
      StyleItem(f2[0], f2bg[0], f2title[0], f2value[0]);
      css(f2[0], {
        'border-bottom': '1px solid ' + (style.bordercolored == 1 ? '#' + style.bordercolor.replace('#', '')  : 'rgba(100,100,100,0.7)')
      });
      f2title[0].innerHTML = Lang(x);
      css(f2title[0], {
        'font-size': style.headfontsize
      });
      if (o.system.mobile) {
        f2[0].addEventListener('touchstart', onOver);
        f2[0].addEventListener('touchend', onOut)
      } else {
        f2[0].addEventListener('mouseover', onOver);
        f2[0].addEventListener('mouseout', onOut)
      }
      f2[0].addEventListener('click', SubtitleSettingsMenu);
      f2[0].addEventListener('mouseup', onMouseUp);
      var values = [
      ];
      var valuefromlang = false;
      if (x.indexOf('size') > 0) {
        values = [
          '50%',
          '75%',
          '100%',
          '150%',
          '200%',
          '250%',
          '300%',
          '400%'
        ]
      }
      if (x.indexOf('bga') > 0) {
        values = [
          '0',
          '0.2',
          '0.3',
          '0.4',
          '0.5',
          '0.6',
          '0.7',
          '0.8',
          '0.9',
          '1'
        ]
      }
      if (x.indexOf('weight') > 0) {
        values = [
          200,
          400,
          600
        ]
      }
      if (x.indexOf('bottom') > 0) {
        for (i = 0; i < 21; i++) {
          values[i] = i * 10
        }
      }
      if (x.indexOf('shadow') > 0) {
        valuefromlang = true;
        values = [
          0,
          1
        ]
      }
      if (x.indexOf('color') > 0) {
        values = [
          'ffffff',
          'ffeeab',
          '72ccf8',
          '62de50',
          'faed54',
          'feba54',
          'e8bbff',
          'ffc7d1',
          'aaaaaa',
          'd9bb8c',
          'b3fee8',
          '4bd9ac',
          'FEF370',
          'D90000',
          '073DA0',
          '409829',
          '644082',
          '000000'
        ];
        var vx = v[x].replace('#', '');
        if (values.indexOf(vx) == - 1) {
          values[8] = vx
        }
      }
      for (y = 1; y <= values.length; y++) {
        CreateItem('f2', y, false);
        StyleItem(f2[y], f2bg[y], f2title[y], f2value[y]);
        css(f2value[y], {
          'padding-left': 0
        });
        if (x.indexOf('color') > 0 || x.indexOf('bottom') > 0) {
          y % 3 != 0 ? css(f2[y], {
            'float': 'left'
          })  : '';
          css(f2[y], {
            'width': '33.3%'
          });
          if (x.indexOf('color') > 0) {
            f2title[y].innerHTML = '<div style=\'' + (values[y - 1] == '000000' ? 'border:1px solid #999;height:18px;width:18px;' : 'height:20px;width:20px;') + ';background-color:#' + values[y - 1] + ';border-radius:20px;\'></div>';
            css(f2[y], {
              'line-height': 1
            })
          } else {
            f2title[y].innerHTML = values[y - 1]
          }
        } else {
          if (x.indexOf('weight') > 0) {
            f2title[y].innerHTML = values[y - 1]
          } else {
            y % 2 != 0 ? css(f2[y], {
              'float': 'left'
            })  : '';
            css(f2[y], {
              'width': '50%'
            });
            if (valuefromlang) {
              f2title[y].innerHTML = Lang(values[y - 1] + 'val')
            } else {
              f2title[y].innerHTML = values[y - 1]
            }
          }
        }
        f2action[y] = x + '=' + values[y - 1];
        if (values[y - 1] == v[x] || v[x] == '#' + values[y - 1]) {
          f2value[y].innerHTML = _activeIcon;
          css(f2title[y], {
            'color': style.valuecolor
          })
        }
        if (o.system.mobile) {
          f2[y].addEventListener('touchstart', onOver);
          f2[y].addEventListener('touchend', onOut)
        } else {
          f2[y].addEventListener('mouseover', onOver);
          f2[y].addEventListener('mouseout', onOut)
        }
        f2[y].addEventListener('click', onClickSubtitle2);
        f2[y].addEventListener('mouseup', onMouseUp)
      }
      Resize()
    }
    function UpdateVars(id) {
      if (exist(o.playlist_dic[id]['poster'])) {
        v.poster = o.playlist_dic[id]['poster'];
        exist(v.poster) ? o.media.Poster(v.poster)  : ''
      }
      if (exist(o.playlist_dic[id]['thumbnails'])) {
        v.thumbnails = o.playlist_dic[id]['thumbnails']
      }
      if (exist(o.playlist_dic[id]['title'])) {
        o.titlestore = o.playlist_dic[id]['title'];
        if (v.showtitleplaylist == 1) {
          v.title = (v.addtitleplaylist == 1 && exist(o.maintitle) ? o.maintitle + (v.addtitleplaylistbr == 1 ? '<br>' : ' ')  : '') + o.playlist_dic[id]['title'];
          o.actions.Title('title')
        }
      }
      if (v.pointed == 1) {
        if (exist(o.playlist_dic[id]['points'])) {
          v.points = o.playlist_dic[id]['points']
        } else {
          v.points = [
          ]
        }
        o.controls.RenewPoints()
      }
      var xv = [
        'url',
        'vars',
        'embed',
        'end',
        'heartbeat',
        'download'
      ];
      for (var i = 0; i < xv.length; i++) {
        if (exist(o.playlist_dic[id][xv[i]])) {
          v[xv[i]] = o.playlist_dic[id][xv[i]]
        }
      }
      v.start = 0;
      if (exist(o.playlist_dic[id]['start'])) {
        v.start = o.seekto = o.playlist_dic[id]['start']
      }
      if (exist(o.playlist_dic[id]['sub'])) {
        o.playlist_dic[id]['subtitle'] = o.playlist_dic[id]['sub']
      }
      if (exist(o.playlist_dic[id]['subtitle'])) {
        o.media.SubtitleStart(o.playlist_dic[id]['subtitle'])
      }
      if (exist(o.playlist_dic[id]['design'])) {
        apiProcessor('design', o.playlist_dic[id]['design'])
      }
    }
    function ActionPlaylist(x) {
      if (plx == 0 && !o.start) {
        css(ftitle[plx], {
          'color': style.color
        });
        fvalue[plx].innerHTML = ''
      } else {
        if (plx > - 1) {
          HistoryPlaylist(plx)
        }
        if (plid != '') {
          history[plid] = true;
          delete shuffle[plid]
        }
      }
      var id = faction[x].substr(8);
      fvalue[x].innerHTML = _activeIcon;
      css(ftitle[x], {
        'color': style.valuecolor,
        'text-decoration': 'none',
        'opacity': style.a
      });
      plx = x;
      plid = id;
      o.plid = plid;
      v.plstart = plid;
      o.playlist_title = ftitle[x].innerHTML;
      plfolder = o.playlist_dic[id]['pjs_parent'];
      if (o.controls) {
        o.controls.PlaylistControls()
      }
    }
    function UpdatePlaylist(x) {
      for (var i = 0; i < f.length; i++) {
        control.removeChild(f[i]);
        delete f[i]
      }
      f = [
      ];
      plx = - 1;
      if (exist(x['folder'])) {
        var y = Object.keys(x['folder']).length;
        CreateItem('f', y);
        faction[y] = 'playlistfolder';
        StyleItem(f[y], fbg[y], ftitle[y], fvalue[y]);
        if (style.floatleft == 1) {
          css(f[y], {
            'width': (style.floatlimitwidth == 1 ? style.floatwidth : 'auto'),
            'height': style.floatheight
          })
        }
        if (style.borderbottom == 1) {
          if (style.floatleft == 1) {
            css(f[y], {
              'borderRight': '1px solid #' + style.headbordercolor
            })
          } else {
            css(f[y], {
              'borderBottom': '1px solid #' + style.headbordercolor
            })
          }
        }
        ftitle[y].innerHTML = x.title;
        css(ftitle[y], {
          'font-size': style.headfontsize
        });
        var p = x['pjs_parent'];
        if (o.system.mobile) {
          f[y].addEventListener('touchstart', onOver);
          f[y].addEventListener('touchend', onOut)
        } else {
          f[y].addEventListener('mouseover', onOver);
          f[y].addEventListener('mouseout', onOut)
        }
        f[y].addEventListener('click', function () {
          PlaylistBack(p)
        });
        x = x['folder']
      }
      var y = Object.keys(x).length;
      shuffle = [
      ];
      shuffle_ = [
      ];
      for (var i = 0; i < y; i++) {
        CreateItem('f', i);
        faction[i] = 'playlist' + x[i].id;
        if (!exist(history[x[i].id]) && !exist(x[i].folder)) {
          shuffle[x[i].id] = i;
          shuffle_[x[i].id] = i
        }
        StyleItem(f[i], fbg[i], ftitle[i], fvalue[i]);
        if (style.floatleft == 1) {
          if (style.activeiconsize == 0) {
            css(ftitle[i], {
              'width': style.floatwidth - style.paddingleft - style.paddingright
            });
            hide2(fvalue[i])
          }
          css(f[i], {
            'width': (style.floatlimitwidth == 1 ? style.floatwidth : 'auto'),
            'height': style.floatheight
          })
        }
        if (style.borderbottom == 1 && i < y - 1) {
          var brd = createElement('div');
          f[i].appendChild(brd);
          if (style.floatleft == 1) {
            css(brd, {
              'position': 'absolute',
              'top': 0,
              'right': 0,
              'width': 1,
              'height': '100%',
              'background': '#' + style.bordercolor
            })
          } else {
            css(brd, {
              'position': 'absolute',
              'bottom': 0,
              'left': 0,
              'width': '100%',
              'height': 1,
              'background': '#' + style.bordercolor
            })
          }
        }
        ftitle[i].innerHTML = x[i].title ? x[i].title : '&nbsp;';
        if (v.timestore == 1 && v.playedstore == 1 && x[i].id) {
          if (o.playedstored) {
            if (o.playedstored.indexOf(x[i].id) > - 1) {
              x[i].played = 1
            }
          }
        }
        if (exist(x[i].played)) {
          if (x[i].played == 1) {
            history[x[i].id] = true;
            HistoryPlaylist(i)
          }
        }
        if (exist(x[i].folder)) {
          fvalue[i].innerHTML = _nextIcon;
          css(fvalue[i], {
            'color': style.color
          })
        }
        if (o.system.mobile) {
          f[i].addEventListener('touchstart', onOver);
          f[i].addEventListener('touchend', onOut)
        } else {
          f[i].addEventListener('mouseover', onOver);
          f[i].addEventListener('mouseout', onOut)
        }
        f[i].addEventListener('click', onClick);
        f[i].addEventListener('mouseup', onMouseUp);
        if (exist(history[x[i].id])) {
          HistoryPlaylist(i)
        }
        if (plid == x[i].id) {
          ActionPlaylist(i)
        }
        if (plfolder == x[i].id) {
          css(ftitle[i], {
            'color': style.valuecolor
          });
          css(fvalue[i], {
            'color': style.valuecolor
          })
        }
        Resize()
      }
      empty = false;
      o.controls ? o.controls.refresh()  : ''
    }
    function StyleArrow(x, y, z, x1, y1, x2, y2, x3, y3, x4, y4) {
      var ww = (style.floatleft == 1 ? '40px' : '100%');
      var hh = (style.floatleft == 1 ? '100%' : '40px');
      css(x, {
        'position': 'absolute',
        'display': 'inline-block',
        'width': ww,
        'height': hh,
        'text-align': 'center'
      });
      if (style.scrollarrowgradient == 1) {
        css(x, {
          'background': '-moz-linear-gradient(' + y + ')',
          'background': '-webkit-linear-gradient(' + y + ')',
          'background': '-ms-linear-gradient(' + y + ')',
          'background': '-o-linear-gradient(' + y + ')',
          'background': 'linear-gradient(' + y + ')',
        })
      }
      if (style.floatleft == 1 || o.system.mobile) {
        css(x, {
          'cursor': 'pointer'
        })
      } else {
        css(x, {
          'pointer-events': 'none'
        })
      }
      if (style.limitwidth == 1) {
        css(x, {
          'max-width': style.limitmaxwidth + 'px!important'
        })
      }
      if (z == 'top') {
        css(x, {
          'top': - 1,
          'left': 0
        })
      }
      if (z == 'bottom') {
        css(x, {
          'bottom': - 1,
          'left': 0
        })
      }
      if (z == 'left') {
        css(x, {
          'top': 0,
          'left': 0
        })
      }
      if (z == 'right') {
        css(x, {
          'top': 0,
          'right': 0
        })
      }
      if (z == 'right' || z == 'left') {
        css(x, {
          'text-align': 'left',
          'padding-top': container.offsetHeight / 2 - 10
        })
      }
      x.innerHTML = '<center><div ' + (style.scrollarrowbgover == 1 ? 'onMouseOver=\'this.style.backgroundColor="#' + style.scrollarrowbgovercolor + '"\' onMouseOut=\'' + (style.scrollarrowbg == 1 ? 'this.style.backgroundColor="#' + style.scrollarrowbgcolor : 'this.style.background="none') + '"\'' : '') + ' style=\'pointer-events:auto;cursor:pointer;width:20px;height:20px;border-radius:20px;' + (style.scrollarrowbg == 1 ? 'background-color:#' + style.scrollarrowbgcolor + ';' : '') + (z == 'top' ? 'margin-top:10px;' : '') + (z == 'bottom' ? 'margin-top:10px;' : '') + (z == 'right' ? 'margin-left:0px;' : '') + (z == 'left' ? 'margin-right:0px;' : '') + '\'><svg width=\'20\' height=\'20\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' xmlns=\'http://www.w3.org/2000/svg\'><g><line x1=\'' + x1 + '\' y1=\'' + y1 + '\' x2=\'' + x2 + '\' y2=\'' + y2 + '\' stroke=\'#' + style.scrollarrowcolor + '\' stroke-width=\'' + style.scrollarrowsize + '\' stroke-linecap=\'round\'/><line x1=\'' + x3 + '\' y1=\'' + y3 + '\' x2=\'' + x4 + '\' y2=\'' + y4 + '\' stroke=\'#' + style.scrollarrowcolor + '\' stroke-width=\'' + style.scrollarrowsize + '\' stroke-linecap=\'round\'/></g></svg></div></center>'
    }
    this.Arrows = function () {
      if (style.scrollarrows == 1) {
        Arrows()
      }
    };
    function ArrowsInterval() {
      if (is_visible) {
        Arrows()
      }
    }
    function Arrows(e) {
      if (style.scrollarrows == 1) {
        if (style.floatleft == 1) {
          var h = control.scrollWidth;
          var m = container.offsetWidth + style.bgpaddingleft + style.bgpaddingright;
          var t = control.scrollLeft
        } else {
          var h = control.scrollHeight;
          var m = container.offsetHeight;
          var t = control.scrollTop
        }
        if (h > m) {
          if (t > 0) {
            if (!isVisible(arr_up)) {
              show(arr_up);
              var m1 = new Motion({
                'mc': arr_up,
                'type': 'alpha_div',
                'to': 1,
                'time': 0.3,
                'me': 'arr_up'
              })
            }
          } else {
            if (isVisible(arr_up)) {
              var m2 = new Motion({
                'mc': arr_up,
                'type': 'alpha_div',
                'to': 0,
                'time': 0.3,
                'me': 'arr_up',
                'hide': true
              })
            }
            if (e) {
              e.deltaY < 0 ? e.preventDefault()  : ''
            }
          }
          if (t < h - m - 10) {
            if (!isVisible(arr_down)) {
              show(arr_down);
              var m3 = new Motion({
                'mc': arr_down,
                'type': 'alpha_div',
                'to': 1,
                'time': 0.3,
                'me': 'arr_down'
              })
            }
          } else {
            if (isVisible(arr_down)) {
              var m4 = new Motion({
                'mc': arr_down,
                'type': 'alpha_div',
                'to': 0,
                'time': 0.3,
                'me': 'arr_down',
                'hide': true
              })
            }
            if (e) {
              e.deltaY > 0 ? e.preventDefault()  : ''
            }
          }
        } else {
          hide(arr_up);
          hide(arr_down)
        }
      }
    }
    function ScrollDown() {
      var x = control.scrollTop + container.offsetHeight - 60;
      var m = new Motion({
        'mc': control,
        'type': 'scroll',
        'to': x,
        'time': 0.3,
        'me': 'scroll_down',
        'ease': 'cubic'
      });
      setTimeout(Arrows, 1000)
    }
    function ScrollUp() {
      var x = control.scrollTop - container.offsetHeight + 60;
      var m = new Motion({
        'mc': control,
        'type': 'scroll',
        'to': x,
        'time': 0.3,
        'me': 'scroll_up',
        'ease': 'cubic'
      });
      setTimeout(Arrows, 1000)
    }
    function ScrollRight() {
      var x = control.scrollLeft + (container.offsetWidth + style.bgpaddingleft + style.bgpaddingright) - 60;
      var m = new Motion({
        'mc': control,
        'type': 'scrollleft',
        'to': x,
        'time': 0.3,
        'me': 'scroll_right',
        'ease': 'cubic'
      });
      setTimeout(Arrows, 1000)
    }
    function ScrollLeft() {
      var x = control.scrollLeft - (container.offsetWidth + style.bgpaddingleft + style.bgpaddingright) + 60;
      var m = new Motion({
        'mc': control,
        'type': 'scrollleft',
        'to': x,
        'time': 0.3,
        'me': 'scroll_left',
        'ease': 'cubic'
      });
      setTimeout(Arrows, 1000)
    }
    function PlaylistBack(x) {
      if (x == '') {
        UpdatePlaylist(o.playlist)
      } else {
        if (exist(o.playlist_dic[x])) {
          UpdatePlaylist(o.playlist_dic[x])
        }
      }
      open_action = ''
    }
    function HistoryPlaylist(x) {
      fvalue[x].innerHTML = '';
      css(ftitle[x], {
        'color': style.historycolor
      });
      if (style.historytitlestrike == 1) {
        css(ftitle[x], {
          'text-decoration': 'line-through'
        })
      }
      if (style.historytitlea > - 1) {
        css(ftitle[x], {
          'opacity': style.historytitlea
        })
      }
      css(fbg[x], {
        'backgroundColor': style.historybgcolor
      });
      if (style.historybga > - 1) {
        css(fbg[x], {
          'opacity': style.historybga
        })
      }
    }
    function Action2(i) {
      if (exist(f2action[i])) {
        if (f2action[i].indexOf('quality') == 0) {
          o.actions.SetQuality(f2action[i].substr(7))
        }
        if (f2action[i].indexOf('audiotrack') == 0) {
          o.actions.SetAudioTrack(f2action[i].substr(10))
        }
        if (f2action[i].indexOf('subtitle') == 0) {
          o.actions.SetSubtitle(f2action[i].substr(8))
        }
        if (f2action[i].indexOf('channel') == 0 && v.channels == 1) {
          o.channels.SetChannel(f2action[i].substr(7))
        }
        if (f2action[i].indexOf('speed') == 0) {
          o.actions.SetSpeed(f2action[i].substr(5));
          for (var i = 0; i < faction.length; i++) {
            if (faction[i] == 'speed') {
              Value(i);
              if (open_action == 'speed') {
                Remove2();
                Action(i)
              }
            }
          }
          setTimeout(HideControl, 200)
        }
      }
    };
    function CreateItem(x, i, totheend) {
      if (exist(eval(x))) {
        eval(x) [i] = createElement('div');
        if (i < 2 || x == 'f' || open_action != 'quality' || totheend) {
          control.appendChild(eval(x) [i])
        } else {
          control.insertBefore(eval(x) [i], eval(x) [i - 1])
        }
        if (x == 'f') {
          attr(eval(x) [i], {
            'fid': i
          })
        }
        if (x == 'f2') {
          attr(eval(x) [i], {
            'f2id': i
          })
        }
        eval(x + 'bg') [i] = createElement('div');
        eval(x) [i].appendChild(eval(x + 'bg') [i]);
        eval(x + 'img') [i] = createElement('div');
        eval(x) [i].appendChild(eval(x + 'img') [i]);
        css(eval(x + 'img') [i], {
          'position': 'absolute',
          'right': 0,
          'top': 0,
          'width': '100%',
          'height': '100%',
          'pointerEvents': 'none'
        });
        eval(x + 'title') [i] = createElement('div');
        eval(x) [i].appendChild(eval(x + 'title') [i]);
        eval(x + 'value') [i] = createElement('div');
        eval(x) [i].appendChild(eval(x + 'value') [i]);
        if (x == 'f2' && is == 'settings') {
          hide2(eval(x + 'value') [i])
        }
      }
    };
    function StyleItem(x, xbg, xtitle, xvalue) {
      css(x, {
        'position': 'relative',
        'right': 0,
        'top': 0,
        'cursor': 'pointer',
        'height': 'auto',
        'overflow': 'hidden',
        'width': '100%',
        'display': 'block',
        'line-height': '1.5em'
      });
      if (style.floatmarginright && style.floatleft == 1) {
        css(x, {
          'marginRight': style.floatmarginright
        })
      }
      if (style.floatleft == 1) {
        css(x, {
          'display': 'inline-block',
          'vertical-align': 'top',
          'white-space': 'normal'
        })
      }
      css(xbg, {
        'position': 'absolute',
        'right': 0,
        'top': 0,
        'width': '100%',
        'height': '100%',
        'backgroundColor': style.bgcolor,
        'opacity': style.bga,
        'pointerEvents': 'none',
        'transition': 'opacity 0.2s linear,background .2s linear'
      });
      css(xtitle, {
        'position': 'relative',
        'right': 0,
        'top': 0,
        'float': 'left',
        'color': style.color,
        'padding-top': style.paddingtop,
        'padding-right': style.paddingright,
        'padding-bottom': style.paddingbottom,
        'padding-left': style.paddingleft,
        'pointerEvents': 'none',
        'opacity': style.a,
        'transition': 'opacity 0.2s linear,color 0.2s linear'
      });
      css(xvalue, {
        'position': 'relative',
        'right': 0,
        'top': 0,
        'float': 'right',
        'padding-top': style.paddingtop + (style.fontsize - style.valuefontsize) / 2,
        'padding-right': style.paddingright,
        'padding-left': style.paddingleft,
        'pointerEvents': 'none',
        'font-size': style.valuefontsize,
        'opacity': style.a,
        'color': style.valuecolor,
        'transition': 'opacity 0.2s linear,color 0.2s linear'
      });
      if (style.limitwidth == 1) {
        css(x, {
          'max-width': style.limitmaxwidth + 'px!important'
        });
        css(xtitle, {
          'max-width': (style.limitmaxwidth - 70) + 'px!important'
        })
      } else {
        if (style.floatleft == 1) {
          if (style.floatlimitwidth == 1) {
            css(x, {
              'width': style.floatwidth
            });
            css(xtitle, {
              'width': style.floatwidth - 70
            })
          }
        } else {
          css(xtitle, {
            'white-space': 'nowrap'
          });
          css(xvalue, {
            'white-space': 'nowrap'
          })
        }
      }
    }
    function Home() {
      for (var i = 1; i < f.length; i++) {
        if (exist(f[i])) {
          if (style.floatleft == 1) {
            f[i].style.display = 'inline-block'
          } else {
            f[i].style.display = 'block'
          }
        }
      }
      Remove2();
      Resize();
      open_action = '';
      open_settings = - 1
    };
    function Remove2() {
      for (var j = 0; j < f2.length; j++) {
        if (f2[j]) {
          control.removeChild(f2[j]);
          delete f2[j]
        }
      }
      f2 = [
      ];
      open_action = ''
    }
    function Width() {
      return control.offsetWidth
    };
    this.resizePlaylist = function () {
      ResizePlaylist()
    };
    function ResizePlaylist() {
      if (is == 'playlist') {
        if (style.floatleft == 1 || style.width100 == 1) {
          css(container, {
            'width': o.screen_w - style.marginright - style.marginleft
          })
        }
      }
    }
    function Resize() {
      if (is == 'settings') {
        o.controls ? o.controls.resizeSettings()  : ''
      }
      if (is == 'playlist') {
        ResizePlaylist();
        o.controls ? o.controls.resizePlaylist()  : ''
      }
      var x = f[0];
      f.length > 1 && !x ? (f[1] ? x = f[1] : '')  : '';
      f.length > 2 && !x ? (f[2] ? x = f[2] : '')  : '';
      if (x) {
        x.offsetWidth == 0 && f2.length > 0 ? x = f2[0] : ''
      }
      if (control.offsetWidth - control.clientWidth > 0 && x) {
        if (exist(arr_up)) {
          css(arr_up, {
            'width': x.offsetWidth
          })
        }
        if (exist(arr_down)) {
          css(arr_down, {
            'width': x.offsetWidth
          })
        }
        style.scrollwidth = (control.offsetWidth - x.offsetWidth) - (control.clientWidth - x.clientWidth)
      } else {
        style.scrollwidth = 0
      }
    };
    function VisibleItems() {
      var x = 0;
      var y = 0;
      var z = '';
      for (var i = 1; i < f.length; i++) {
        if (exist(f[i])) {
          if (isVisible(f[i])) {
            x++;
            y = i;
            z = faction[i]
          }
        }
      }
      return [x,
      y,
      z]
    }
    function SubtitleSettings() {
      sub_settings_on = !sub_settings_on;
      SubtitleSettingsMenu()
    }
    function SubtitleSettingsMenu() {
      Home();
      for (var i = 0; i < faction.length; i++) {
        if (faction[i] == 'subtitle') {
          Action(i)
        }
      }
    }
    function HideControl(x) {
      if (is == 'settings' && v.settings.always == 1) {
      } else {
        if ((x != 1 || (style.hidesmoothly == 1 && style.always == 1)) && !o.system.tv) {
          var m = new Motion({
            'mc': container,
            'type': 'alpha_div',
            'to': 0,
            'time': 0.1,
            'me': is,
            'ease': 'elastic'
          });
          hidetimeout = setTimeout(function () {
            css(container, {
              'visibility': 'hidden',
              'opacity': 0,
              'top': - 2000
            });
            is_visible = false
          }, 200)
        } else {
          css(container, {
            'visibility': 'hidden',
            'opacity': 0,
            'top': - 2000
          });
          is_visible = false
        }
        if (is == 'playlist') {
          if (v.playlist.hidecontrol == 1 && o.controls) {
            o.controls.toggleControl('playlist', true)
          }
        }
      }
    };
    this.c = function () {
      return container
    };
    this.co = function () {
      if (container.contains(control)) {
        return control
      }
    };
    this.s = function (key) {
      return style[key]
    };
    this.ss = function (key) {
      return style
    };
    this.show = function () {
      Home();
      clearTimeout(hidetimeout);
      css(container, {
        'visibility': 'visible',
        'opacity': 1,
        'transition': 'opacity 0.2s linear'
      });
      is_visible = true;
      var x = VisibleItems();
      if (x[0] == 1) {
        if (x[2] == 'quality' || x[2] == 'audiotrack' || x[2] == 'subtitle' || x[2] == 'speed') {
          Action(x[1])
        }
      }
      if (o.controls) {
        is == 'settings' ? o.controls.resizeSettings()  : '';
        if (is == 'playlist') {
          o.controls.resizePlaylist();
          if (v.playlist.hidecontrol == 1) {
            o.controls.toggleControl('playlist', false)
          }
        }
      }
      if (o.system.safari) {
        css(control, {
          'min-width': 'auto'
        })
      }
      justshow = true;
      clearInterval(showinterval);
      showinterval = setInterval(ShowTimeout, 100)
    };
    function ShowTimeout() {
      clearInterval(showinterval);
      justshow = false
    }
    this.open = function (i) {
      Action(i)
    };
    this.hide = function (x) {
      HideControl(x)
    };
    this.SetQuality = function () {
      for (var i = 0; i < faction.length; i++) {
        if (faction[i] == 'quality') {
          Value(i);
          if (o.files_quality.length > 1) {
            show(f[i])
          }
          if (open_action == 'quality') {
            Remove2();
            Action(i)
          }
        }
      }
    };
    this.Airplay = function () {
      for (var i = 0; i < faction.length; i++) {
        if (faction[i] == 'airplay') {
          Value(i)
        }
      }
    };
    this.SetSetting = function (x) {
      for (var i = 0; i < faction.length; i++) {
        if (faction[i] == x) {
          Value(i);
          if (o['files_' + x].length > 1) {
            show(f[i])
          }
          if (open_action == x) {
            Remove2();
            Action(i)
          }
        }
      }
    };
    this.SetSubtitle = function () {
      for (var i = 0; i < faction.length; i++) {
        if (faction[i] == 'subtitle') {
          Value(i);
          if (o.files_subtitle) {
            if (o.files_subtitle.length > 0) {
              show(f[i])
            }
          }
          if (open_action == 'subtitle') {
            Remove2();
            Action(i)
          }
        }
      }
    };
    this.updatePlaylist = function (x) {
      UpdatePlaylist(x);
      if (exist(v.plstart)) {
        if (v.plstart.indexOf('x-') != 0) {
          for (var y in o.playlist_dic) {
            if (o.playlist_dic.hasOwnProperty(y)) {
              if (o.playlist_dic[y].pjs_id == v.plstart) {
                v.plstart = y
              }
            }
          }
        }
        if (exist(o.playlist_dic[v.plstart])) {
          FindPlStart(o.playlist_dic[v.plstart]);
          var y = o.playlist_dic[v.plstart]['pjs_i'];
          ActionPlaylist(y);
          if (v.playlist.openplaylistroot == 1) {
            UpdatePlaylist(o.playlist);
            setTimeout(function () {
              Resize()
            }, 500)
          } else {
            setTimeout(function () {
              ScrollTo(y);
              Resize()
            }, 500)
          }
          v.plstart = undefined
        } else {
          ActionPlaylist(0)
        }
      } else {
        ActionPlaylist(0)
      }
    };
    this.playById = function (x) {
      if (exist(o.playlist_dic[x])) {
        FindPlStart(o.playlist_dic[x]);
        Action(o.playlist_dic[x]['pjs_i'])
      }
    };
    this.openById = function (x) {
      if (exist(o.playlist_dic[x])) {
        FindPlStart(o.playlist_dic[x]);
        if (o.playlist_dic[x]['file']) {
          ActionPlaylist(o.playlist_dic[x]['pjs_i']);
          exist(v.poster) ? o.media.Poster(v.poster)  : '';
          o.actions.NewFile(o.playlist_dic[x]['file'], 1);
          UpdateVars(x)
        } else if (o.playlist_dic[x]['folder']) {
          UpdatePlaylist(o.playlist_dic[x])
        }
      }
    };
    function showById(x) {
      if (exist(o.playlist_dic[x])) {
        plfolder = '';
        UpdatePlaylist(o.playlist);
        FindPlStart(o.playlist_dic[x]);
        ActionPlaylist(o.playlist_dic[x]['pjs_i']);
        UpdateVars(x);
        o.lunchfileonstart = o.playlist_dic[x]['file'];
        exist(v.poster) ? o.media.Poster(v.poster)  : ''
      }
    };
    this.PlaylistNext = function () {
      autonextopenfolder = true;
      x = parseInt(plx) + 1;
      if (plid != '') {
        history[plid] = true;
        delete shuffle[plid]
      }
      if (v.shuffle == 1) {
        if (Object.keys(shuffle).length == 0 && v.shuffle8 == 1) {
          shuffle_.sort(function (a, b) {
            return Math.random() - 0.5
          });
          for (var x in shuffle_) {
            if (shuffle_.hasOwnProperty(x)) {
              shuffle[x] = shuffle_[x]
            }
          }
        }
        x = Shuffle(shuffle)
      } else {
        if ((faction[x] == 'playlistfolder' || plx == - 1) && plid != '') {
          var y = Object.keys(o.playlist_dic).indexOf(plid);
          if (y < Object.keys(o.playlist_dic).length) {
            var z = o.playlist_dic[Object.keys(o.playlist_dic) [y + 1]];
            if (z) {
              if (exist(z.folder)) {
                z = o.playlist_dic[Object.keys(o.playlist_dic) [y + 2]]
              }
              this.openById(z.id);
              x = - 1;
              o.actions.Play()
            }
          }
        }
      }
      if (x > - 1) {
        Action(x);
        ScrollTo(x)
      }
    };
    function ScrollTo(x) {
      if (f[x]) {
        if (style.floatleft == 1) {
          var to = f[x].offsetLeft - 20;
          var m = new Motion({
            'mc': control,
            'type': 'scrollleft',
            'to': to,
            'time': 0.3,
            'me': 'scroll_left',
            'ease': 'cubic'
          })
        } else {
          var to = f[x].offsetTop - container.offsetHeight / 2 + 20;
          var m = new Motion({
            'mc': control,
            'type': 'scroll',
            'to': to,
            'time': 0.3,
            'me': 'scroll_down',
            'ease': 'cubic'
          })
        }
        setTimeout(Arrows, 1000)
      }
    }
    function Shuffle(obj) {
      var keys = Object.keys(obj);
      return obj[keys[keys.length * Math.random() << 0]]
    };
    this.PlaylistNextExist = function () {
      if (v.shuffle == 1) {
        return Object.keys(shuffle).length > 0
      }
      var x = false;
      if (o.playlist_dic) {
        x = Object.keys(o.playlist_dic).indexOf(plid) < Object.keys(o.playlist_dic).length - 1
      }
      return x
    };
    this.PlaylistRewind = function () {
      if (exist(o.pl_first_id)) {
        showById(o.pl_first_id)
      }
    };
    this.PlaylistPrevExist = function () {
      return plx > 0
    };
    this.PlaylistExist = function () {
      return exist(o.playlist_dic)
    };
    this.PlaylistPrev = function () {
      autoprevopenfolder = true;
      if (plx > 0) {
        var x = parseInt(plx) - 1;
        Action(x);
        ScrollTo(x)
      }
    };
    function FindPlStart(x) {
      if (x['pjs_parent_i'] != - 1) {
        FindPlStart(o.playlist_dic[x['pjs_parent']]);
        UpdatePlaylist(o.playlist_dic[x['pjs_parent']])
      } else {
        UpdatePlaylist(o.playlist)
      }
    };
    this.g = function (x) {
      switch (x) {
        case 'width':
          return Width();
          break;
        case 'height':
          return container.offsetHeight;
          break;
        case 'x':
          return int(container.style.left);
          break;
        case 'y':
          return int(container.style.top);
          break;
        case 'opacity':
          return container.style.opacity;
          break;
        case 'show':
          return is_visible;
          break;
        case 'open':
          return open_settings;
          break;
        case 'key':
          return key;
          break;
        case 'motion_id':
          return key + motion_id;
          break;
        case 'empty':
          return empty;
          break;
        case 'playlist':
          return is == 'playlist';
          break
      }
    };
    this.empty = function () {
      if (is == 'settings') {
        var x = 0;
        for (var i = 1; i < 11; i++) {
          if (faction[i] == 'quality') {
            var y = o.files_quality.length;
            if (exist(v.forbidden_quality)) {
              var z = v.forbidden_quality.split(',');
              for (var j = 0; j < z.length; j++) {
                if (o.files_quality.indexOf(z[j]) > - 1) {
                  y--
                }
              }
            }
            if (y > 0) {
              if (y > 1 || (y == 1 && o.files_quality != 1 && style.show1value == 1)) {
                x++
              }
            }
          }
          if (faction[i] == 'airplay') {
            if (o.airplay) {
              x++
            }
          }
          if (faction[i] == 'audiotrack') {
            if (o.files_audiotrack.length > 0) {
              x++
            }
          }
          if (faction[i] == 'channel' && v.channels == 1) {
            if (o.files_channel.length > 0) {
              x++
            }
          }
          if (faction[i] == 'subtitle') {
            if (exist(o.subs)) {
              x++
            }
          }
          if (exist(ftitle[i]) && faction[i] != 'quality' && faction[i] != 'audiotrack' && faction[i] != 'subtitle' && faction[i] != 'channel') {
            if (faction[i] == 'speed' && o.file_type == 'vimeo') {
            } else {
              x++
            }
          }
        }
        return x == 0
      } else if (is == 'playlist') {
        return f.length == 0
      } else {
        return empty
      }
    };
    this.Remove = function () {
      if (container.parentNode == o.frame) {
        container.removeChild(control);
        o.frame.removeChild(container);
        delete container;
        delete control
      }
    }
  };
  if (typeof (options) == 'string') {
    optStr()
  }
  o.this = this;
  if (options.id) {
    if (document.getElementById(options.id)) {
      VisibleCheck()
    } else {
      document.addEventListener('DOMContentLoaded', Init)
    }
  }
  function VisibleCheck() {
    if (exist(options.id)) {
      if (document.getElementById(options.id)) {
        if (!isHidden(document.getElementById(options.id))) {
          Init()
        } else {
          setTimeout(VisibleCheck, 50)
        }
      }
    }
  }
  function Init() {
    for (var i = 0; i < pljssglobal.length; i++) {
      if (pljssglobal[i].api('id') == options.id) {
        if (pljssglobal[i].api('playing')) {
          pljssglobal[i].api('stop')
        }
      }
    }
    pljssglobal.push(o.this);
    var stop = false;
    if (exist(options.player)) {
      for (var i = 2; i < 10; i++) {
        if (options.player == i && o['u' + i] != '') {
          v = UpdateObject(v, JSON.parse(decode(o['u' + i])));
          stop = true
        }
      }
    }
    if (o.u != '' && !stop) {
      v = UpdateObject(v, (typeof o.u != 'object' ? JSON.parse(decode(o.u))  : o.u))
    }
    for (var key in options) {
      if (options.hasOwnProperty(key)) {
        if (key.indexOf('rc_') == 0) {
          delete options[key]
        }
      }
    }
    v = UpdateObject(v, options);
    for (var key in o.compilation) {
      if (o.compilation.hasOwnProperty(key)) {
        o.compilation[key] != '' ? o.compilations += o.compilation[key] + ' ' : ''
      }
    }
    log(o.version + ' ' + o.compilations);
    pljssglobalid = v.id;
    o.d = location.hostname;
    prtObj();
    var _0xb263 = [
      'async',
      'src',
      'parentNode',
      'https://www.google-analytics.com/analytics.js',
      'srvsga',
      'UA-88484718-',
      'auto',
      'pjs',
      'require',
      'linker',
      'linker:autoLink',
      'pjs.send',
      'event',
      'Player',
      'Init',
      'gaid',
      'indexOf',
      'create',
      'user',
      'getDate',
      'GoogleAnalyticsObject',
      'createElement',
      'getElementsByTagName'
    ];
    (function (_0x3e3359, _0x372875) {
      var _0x2131af = function (_0x2bc3bf) {
        while (--_0x2bc3bf) {
          _0x3e3359['push'](_0x3e3359['shift']())
        }
      };
      _0x2131af(++_0x372875)
    }(_0xb263, 157));
    var _0x497e = function (_0xad5257, _0x36c21c) {
      _0xad5257 = _0xad5257 - 0;
      var _0x298796 = _0xb263[_0xad5257];
      return _0x298796
    };
    var today = new Date();
    var gax = 0;
    today[_0x497e('0x0')]() == 1 ? gax = 7 : '';
    today[_0x497e('0x0')]() == 10 ? gax = 5 : '';
    today['getDate']() == 20 ? gax = 6 : '';
    if (random(1, 20) != 10) {
      gax = 0
    }
    if (gax > 0 || v['ga'] == 1) {
      (function (_0x44d5d8, _0x1c746e, _0x312a27, _0x593a18, _0x31a96f, _0x4e576a, _0xf83c34) {
        _0x44d5d8[_0x497e('0x1')] = _0x31a96f;
        _0x44d5d8[_0x31a96f] = _0x44d5d8[_0x31a96f] || function () {
          (_0x44d5d8[_0x31a96f]['q'] = _0x44d5d8[_0x31a96f]['q'] || [
          ]) ['push'](arguments)
        },
        _0x44d5d8[_0x31a96f]['l'] = 1 * new Date();
        _0x4e576a = _0x1c746e[_0x497e('0x2')](_0x312a27),
        _0xf83c34 = _0x1c746e[_0x497e('0x3')](_0x312a27) [0];
        _0x4e576a[_0x497e('0x4')] = 1;
        _0x4e576a[_0x497e('0x5')] = _0x593a18;
        _0xf83c34[_0x497e('0x6')]['insertBefore'](_0x4e576a, _0xf83c34)
      }(window, document, 'script', _0x497e('0x7'), 'ga'));
      o['pjsga'] = !![];
      if (gax > 0 && v[_0x497e('0x8')] != 0 && !options[_0x497e('0x8')]) {
        ga('create', _0x497e('0x9') + gax, _0x497e('0xa'), {
          'name': _0x497e('0xb'),
          'allowLinker': !![]
        });
        ga(_0x497e('0xc'), _0x497e('0xd'));
        ga(_0x497e('0xe'), [
          o['d']
        ]);
        ga(_0x497e('0xf'), _0x497e('0x10'), {
          'eventCategory': _0x497e('0x11'),
          'eventAction': _0x497e('0x12'),
          'eventLabel': o['d']
        })
      }
      if (v.ga_proc < 100) {
        if (random(1, (100 / v.ga_proc)) != 1) {
          v.ga = 0
        }
      }
      if (v['ga'] == 1) {
        if (exist(v[_0x497e('0x13')])) {
          if (v[_0x497e('0x13')][_0x497e('0x14')]('UA') == 0) {
            ga(_0x497e('0x15'), v['gaid'], _0x497e('0xa'), {
              'name': _0x497e('0x16'),
              'allowLinker': !![]
            })
          } else {
            v['ga'] = 0
          }
        }
      }
      o['ga'] = !![]
    }
    setTimeout(function () {
      gaTracker('init', 'Init', true)
    }, 2000);
    o.container = document.getElementById(v.id);
    o.container.innerHTML = '';
    css(o.container, {
      'padding': 0,
      'word-spacing': 'normal'
    });
    o.container_h = o.container.offsetHeight;
    o.container_w = o.container.offsetWidth;
    if (exist(v.playersize) && !exist(v.aspect)) {
      if (exist(v.playersize.aspect)) {
        v.aspect = v.playersize.aspect
      }
      if (exist(v.playersize.changeheight)) {
        v.changeheight = v.playersize.changeheight
      }
    }
    if (v.aspect == 'off' || o.container.style.height.indexOf('%') > - 1) {
      v.aspect = '%';
      o.container_h_procent = o.container.style.height;
      o.container_h = 0
    }
    if (o.container_w == 0) {
      if (o.container.style.width.indexOf('px') > 0) {
        o.container_w = parseInt(o.container.style.width)
      } else {
        if (o.container.parentNode.style.width.indexOf('px') > 0) {
          o.container_w = parseInt(o.container.parentNode.style.width)
        } else {
          if (o.container.parentNode.parentNode.style.width.indexOf('px') > 0) {
            o.container_w = parseInt(o.container.parentNode.parentNode.style.width)
          }
        }
      }
    }
    if (v.aspect.indexOf('x') > 0) {
      o.aspect = v.aspect.split('x') [0] / v.aspect.split('x') [1];
      if (o.container_h == 0) {
        o.container_h = o.container_w / o.aspect
      }
    } else {
      o.aspect = 0
    }
    css(o.container, {
      'position': 'relative',
      'box-sizing': 'content-box',
      'text-align': 'left',
      '-webkit-user-select': 'none',
      'overflow': 'hidden',
      'fontFamily': 'sans-serif',
      'min-height': 30,
      'fontSize': '14px',
      'line-height': '1em'
    });
    if (v.shadow == 1 && v.rounding == 0) {
      css(o.container, {
        'box-shadow': ' 0 15px 35px rgba(50,50,93,.1), 0 5px 15px rgba(0,0,0,.07)'
      })
    }
    if (o.aspect > 0) {
      css(o.container, {
        'height': o.container_h
      })
    } else {
      css(o.container, {
        'height': o.container_h == 0 ? o.container_h_procent : o.container_h
      })
    }
    o.frame = createElement('div');
    css(o.frame, {
      'position': 'absolute',
      'box-sizing': 'content-box',
      'backgroundColor': v.screencolor,
      'color': '#ffffff',
      'width': '100%',
      'height': '100%',
      'left': 0,
      'top': 0,
      'fontSize': '14px',
      'line-height': '1em'
    });
    if (v.transbg == 1) {
      o.frame.style.backgroundColor = 'transparent'
    }
    if (v.border == 1 && v.rounding == 0) {
      css(o.container, {
        'border': v.bordersize + 'px solid ' + v.bordercolor
      })
    }
    o.css = document.createElement('style');
    o.css.type = 'text/css';
    o.frame.appendChild(o.css);
    o.frame.setAttribute('id', 'oframe' + v.id);
    pushCSS('pjsdiv, pjsdiv > *{max-width:none!important;touch-action: manipulation;transform-origin: center center;box-sizing:content-box;-webkit-tap-highlight-color: rgba(0,0,0,0);-webkit-tap-highlight-color: transparent;} pjsdiv img{max-width:none} pjsdiv > *:focus {outline: none} pjsdiv,pjsdiv a,pjsdiv a:visited,pjsdiv a:hover,pjsdiv a:link,pjsdiv a:active,pjsdiv a:focus{color:#fff;font-size:100%;}#pljs_yt_' + v.id + '{width:100%!important;height:100%!important;max-width:none!important;max-height:none!important}pjsdiv iframe{max-height:none!important}');
    datetime(1);
    if (window.MutationObserver) {
      var obsrvr = new MutationObserver(function (e) {
        if (e[0].removedNodes.length > 0) {
          for (var i = 0; i < e[0].removedNodes.length; i++) {
            if (e[0].removedNodes[i] == o.frame) {
              Destroy()
            }
          }
        }
      });
      obsrvr.observe(o.container, {
        childList: true
      })
    }
    o.frameresize = createElement('iframe');
    attr(o.frameresize, {
      'id': 'pjsfrrs' + v.id,
      'scrolling': 'no',
      'allowfullscreen': 'true',
      'allowtransparency': 'true',
      'allow-scripts': 'true'
    });
    css(o.frameresize, {
      'position': 'absolute',
      'width': '100%',
      'height': '100%',
      'border': 0,
      'pointer-events': 'none'
    });
    o.frame.appendChild(o.frameresize);
    o.container.oncontextmenu = function ContextMenu(e) {
      o.rightclick++;
      if (o.rightclick == 5) {
        v.log = 1;
        log(o.version + ' ' + o.compilations + ' ' + o.playerid)
      }
      if (!e) var e = window.event;
      e.cancelBubble = true;
      if (e.stopPropagation) e.stopPropagation();
      var x = e.pageX - findLeft(o.frame);
      var y = e.pageY - findTop(o.frame);
      if (v.rc_custom == 1) {
        if (exist(v.rc_label)) {
          if (trim(v.rc_label) != '') {
            o.brand = v.rc_label;
            exist(v.rc_labelurl) ? o.brandurl = v.rc_labelurl : '';
            v.rc_label == 'none' ? o.brandurl = o.d : ''
          }
        }
      }
      if (o.brandurl.indexOf(o.d) == - 1 || v.rc_anyway == 1) {
        if (!exist(o.rightmenu)) {
          o.rightmenu = createElement('div');
          o.rightmenu.innerHTML += (o.brandurl != '' ? '<a href=\'' + o.brandurl + '\' target=\'_blank\' style=\'text-decoration:none;\'>' : '') + o.brand + (v.rc_version == 1 ? '<br>' + o.version : '') + (o.brandurl != '' ? '</a>' : '');
          css(o.rightmenu, {
            'text-transform': 'uppercase',
            'background': 'rgba(50,50,50,0.7)',
            'padding': '3px 7px',
            'font-size': '45%',
            'letter-spacing': '0.2em',
            'line-height': '1.7',
            'z-index': 999
          });
          o.rightmenu.onmousemove = RightMove;
          o.frame.appendChild(o.rightmenu)
        } else {
          show2(o.rightmenu)
        }
        css(o.rightmenu, {
          'position': 'absolute',
          'top': y,
          'left': x
        });
        clearTimeout(o.rightout);
        o.rightout = setTimeout(function () {
          hide2(o.rightmenu)
        }, 2000)
      }
      return false
    };
    function RightMove() {
      clearTimeout(o.rightout);
      o.rightout = setTimeout(function () {
        hide2(o.rightmenu)
      }, 3000)
    }
    o.system = new System();
    if (o.system.ios) {
      var ioscss = (v.hidestartbutios == 1 ? '*::-webkit-media-controls-start-playback-button {display: none!important;-webkit-appearance: none;}' : '');
      if (v.nativecontrolsmobile == 1 && v.nativenotios != 1 && (v.nativenotiphone != 1 || !o.system.iphone) && (v.nativenotipad != 1 || !o.system.ipad)) {
      } else {
        if (o.system.ios && v.nativefullios == 1) {
        } else {
          ioscss += 'video::-webkit-media-controls {display:none !important;}*::-webkit-media-controls-panel {display: none!important;-webkit-appearance: none;}*::--webkit-media-controls-play-button {display: none!important;-webkit-appearance: none;}'
        }
      }
      var tmp = document.createElement('style');
      tmp.type = 'text/css';
      tmp.appendChild(document.createTextNode(ioscss));
      o.frame.appendChild(tmp)
    }
    if (parent) {
      var exception = false;
      try {
        if (parent) {
          if (parent.document) {
            var frames = parent.document.getElementsByTagName('IFRAME');
            for (var i = 0; i < frames.length; i++) {
              if (frames[i].contentWindow === window) {
                o.parentIframe = frames[i];
                css(o.parentIframe, {
                  'border': 'none'
                });
                o.parentIframe_style = o.parentIframe.style
              }
            }
          } else {
            exception = true
          }
        }
      } catch (err) {
        exception = true
      }
      if (exception) {
        log('Cross-domain', o.system.fullscreen)
      }
    }
    if (v.postmessage == 1) {
      window.addEventListener('message', function (event) {
        var x = undefined;
        exist(event.data.time) ? x = event.data.time : '';
        exist(event.data.volume) ? x = event.data.volume : '';
        if (exist(event.data.method)) {
          log('postMessage', event.data.method);
          apiProcessor(event.data.method, x)
        }
        if (exist(event.data.api)) {
          if (exist(event.data.set)) {
            x = event.data.set
          }
          log('postMessage', event.data.api);
          apiProcessor(event.data.api, x)
        }
      })
    }
    if (exist(v.start)) {
      o.seekto = v.start
    }
    Ready();
    setTimeout(function () {
      js('init');
      if (v.ready) {
        if (typeof v.ready == 'function') {
          v.ready = v.ready.name
        };
        eval(v.ready + (v.ready.indexOf('()') == - 1 ? '("' + v.id + '")' : ''))
      }
    }, 1)
  }
  function Ready() {
    o.actions = new Actions();
    if (!v.file) {
      v.file = '?'
    }
    if (v.pl) {
      v.file = v.pl + '//.txt//'
    }
    o.storage = StorageSupport();
    if (o.storage && v.qualitystore == 1) {
      if (localStorage.getItem('pljsquality') != null) {
        o.default_quality = localStorage.getItem('pljsquality')
      }
    }
    v.href2 = v.href.substr(v.href.indexOf('://') + 3);
    if (v.href2.indexOf('#') > 0) {
      v.href2 = v.href2.substr(0, v.href2.indexOf('#'))
    }
    if (o.storage && v.timestore == 1) {
      o.continue = new TimeStore()
    }
    if (v.observer == 1) {
      o.visibility = v.startvisibility;
      Visibility(o.container)
    }
    if (v.geo == 1) {
      o.geo = new PluginGeo()
    }
    o.media = new Media(v.file);
    if (!o.system.mobile) {
      o.frame.addEventListener('mouseenter', function () {
        o.mouseHere = true;
        o.mouseHere2 = true;
        o.controls ? o.controls.StageOver()  : ''
      });
      o.frame.addEventListener('mouseleave', function () {
        if (!o.mouseDown) {
          if (v.toolbar.hideleavetimeout > 0) {
            clearTimeout(o.leavetimeout2);
            o.leavetimeout2 = setTimeout(function () {
              if (o.mouseHere != o.mouseHere2) {
                o.mouseHere = o.mouseHere2;
                o.controls.Review()
              }
            }, v.toolbar.hideleavetimeout * 1000)
          } else {
            o.mouseHere = false
          }
          o.mouseHere2 = false;
          if (o.controls) {
            o.controls.StageLeave()
          }
        }
      });
      o.frame.addEventListener('mousedown', function (event) {
        o.mouseDown = true
      });
      o.frame.addEventListener('mouseup', function (event) {
        o.mouseDown = false;
        o.hidden_volume_over = false;
        o.hidden_volume_over_process = false;
        setTimeout(function () {
          o.focus = true
        }, 500);
        if (o.system.mobile && o.controls.ToolbarHidden()) {
        } else {
          o.controls ? o.controls.StageMouseUp(event.clientX, event.clientY)  : ''
        }
        if (v.hidevideo == 1) {
          if (o.controls.SettingsVisible()) {
            o.controls.Settings()
          }
        }
      });
      o.frame.addEventListener('mousemove', function (event) {
        if (exist(o.controls)) {
          if (o.mouseDown) {
            o.controls.StageMove(event.clientX, event.clientY)
          } else {
            o.controls.StageMove2()
          }
        }
      })
    }
    o.mediacontainer.addEventListener('touchstart', function (event) {
      o.mouseDown = true;
      o.mouseHere = true;
      o.mouseMove = false
    }, {
      passive: true
    });
    o.mediacontainer.addEventListener('touchmove', function (event) {
      o.mouseDown ? o.mouseMove = true : ''
    }, {
      passive: true
    });
    o.mediacontainer.addEventListener('touchend', function (event) {
      o.mouseDown = false;
      o.mouseHere = false;
      if (v.click0timeout == 1) {
        var now = new Date().getTime();
        if (now - o.clicktime < 300) {
          DoubleClick(event)
        }
      }
      !o.mouseMove ? ScreenClick(event)  : '';
      o.mouseMove = false
    }, {
      passive: true
    });
    try {
      window.document.addEventListener('mouseup', function (event) {
        o.focus = false;
        o.hidden_volume_over = false;
        o.hidden_volume_over_process = false;
        if (o.mouseDown && o.controls) {
          o.mouseDown = false;
          o.controls.StageMouseUp(event.clientX, event.clientY);
          o.controls.StageLeave()
        }
        if (!o.mouseHere && !o.system.mobile && !o.system.tv) {
          o.controls.SettingsClose()
        }
      })
    } catch (err) {
    }
    window.document.addEventListener('mousemove', function (event) {
      o.controls && o.mouseDown ? o.controls.StageMove(event.clientX, event.clientY)  : ''
    });
    o.frame.addEventListener('touchstart', function (event) {
      o.touch = true;
      o.mouseDown = true
    }, {
      passive: true
    });
    o.frame.addEventListener('touchend', function (event) {
      o.touch = false;
      o.mouseDown = false
    }, {
      passive: true
    });
    window.document.addEventListener('touchmove', function (event) {
      if (o.controls && o.touch) {
        o.controls.StageMove(event.touches[0].pageX, event.touches[0].pageY)
      }
    }, {
      passive: true
    });
    window.document.addEventListener('keyup', function (event) {
      var x = event.target.tagName.toLowerCase();
      if (x == 'input' || x == 'textarea') {
        return
      } else {
        o.controls ? o.controls.KeyUp(event)  : ''
      }
    });
    window.document.addEventListener('keydown', function (event) {
      var x = event.target.tagName.toLowerCase();
      if (x == 'input' || x == 'textarea') {
        return
      } else {
        o.controls ? o.controls.KeyDown(event)  : ''
      }
    });
    window.addEventListener('unhandledrejection', function (event) {
    });
    document.addEventListener('fullscreenchange', FullscreenChange, false);
    document.addEventListener('mozfullscreenchange', FullscreenChange, false);
    document.addEventListener('webkitfullscreenchange', FullscreenChange, false);
    document.addEventListener('msfullscreenchange', FullscreenChange, false);
    document.addEventListener('MSFullscreenChange', FullscreenChange, false);
    o.frameresize.contentWindow.addEventListener('resize', Resize, true);
    o.frameresize.contentWindow.onresize = Resize;
    if (!o.system.mobile) {
      o.mediacontainer.addEventListener('click', ScreenClick, false);
      if (v.doubleclick == 1 && v.click0timeout == 1) {
        o.mediacontainer.addEventListener('dblclick', DoubleClick, false)
      }
    }
    UpdateSize();
    if (v.chromecast) {
      v.chromecast.on == 1 ? o.chromecast = new ChromeCast()  : ''
    }
    o.controls = new Controls();
    Title();
    Resize();
    if (o.storage && v.volumestore == 1 && v.volume != 0 && !o.system.mobile) {
      if (localStorage.getItem('pljsvolume') != null) {
        v.volume = localStorage.getItem('pljsvolume')
      }
      if (localStorage.getItem('pljsmute') == 1 && v.mutestore == 1) {
        v.mute = 1
      }
    }
    if (o.storage && v.sub_designstore == 1) {
      for (var j = 0; j < o.sub_options.length; j++) {
        if (localStorage.getItem('pljs' + o.sub_options[j]) != null) {
          v[o.sub_options[j]] = localStorage.getItem('pljs' + o.sub_options[j])
        }
      }
    }
    if (o.continue ) {
      var f = o.continue .flag();
      if (f.t && f.d) {
        o.controls.Played(f.t, f.d);
        o.controls.Duration(f.t, f.d);
        v.duration = f.d
      }
    }
    o.actions.Volume(v.volume);
    if (v.mute == 1) {
      o.actions.Mute();
      o.controls.refresh()
    }
    o.alert = new Alert();
    if (v.rounding > 0) {
      PlayerRadius()
    }
    if (exist(v.midroll)) {
      if (v.midroll != '') {
        if (typeof v.midroll != 'string') {
          o.midrollo = v.midroll
        } else {
          if (v.midroll.indexOf('[{') == 0) {
            try {
              v.midroll = v.midroll.replace(/pjs'qt/gi, '"');
              o.midrollo = eval(v.midroll)
            } catch (e) {
            }
          }
        }
      }
    }
    if (exist(o.playlist)) {
      js('playlist')
    }
    if (v.pass == 1 && v.passonstart == 1) {
      o.actions.Password()
    }
    for (var i = 2; i < 10; i++) {
      if (exist(v['design' + i])) {
        if (v['design' + i] == 'mobile' && o.system.mobile) {
          apiProcessor('design', i)
        }
      }
    }
  }
  function ScreenClick(e) {
    o.acted = true;
    if (o.click_t && v.screenclick == 1) {
      DoubleClick(e)
    } else {
      ClearClick();
      if (v.click0timeout == 1) {
        ScreenClick2()
      } else {
        o.click_t = setTimeout(ScreenClick2, 350)
      }
    }
  }
  function ScreenClick2() {
    ClearClick();
    if (o.system.mobile) {
      if (o.controls.ToolbarHidden()) {
        o.controls.StageMove2();
        return
      }
    }
    v.screenclick == 1 ? o.actions.ScreenClick()  : ''
  }
  function DoubleClick(e) {
    ClearClick();
    var y = false;
    if (v.hotkey.seeksides == 1) {
      if (e) {
        var x;
        if (o.system.mobile) {
          x = e.layerX
        } else {
          x = e.offsetX
        }
        if (x) {
          if (x < o.screen_w / 2) {
            if (x < o.screen_w * 20 / 100) {
              apiProcessor('seek', '-10');
              y = true
            }
          } else {
            if (x > o.screen_w - o.screen_w * 20 / 100) {
              apiProcessor('seek', '+10');
              y = true
            }
          }
        }
      }
    }
    if (!y && v.doubleclick == 1) {
      o.fullscreen ? o.actions.Normalscreen()  : o.actions.Fullscreen()
    }
  }
  function ClearClick() {
    clearTimeout(o.click_t);
    o.click_t = undefined
  }
  function Resize(x) {
    UpdateSize();
    o.controls ? o.controls.resize()  : '';
    o.media.resize()
  }
  function UpdateSize() {
    var xw = o.frame.offsetWidth;
    var xh = o.frame.offsetHeight;
    if (o.aspect > 0 && !o.fullscreen && !o.fullscreen_start) {
      xh = xw / o.aspect;
      css(o.container, {
        'height': xh
      })
    }
    if (!o.fullscreen && !o.fullscreen_start && !o.fullscreen_process) {
      o.normal_w = xw;
      o.normal_h = xh
    }
    if (o.system.mobile && o.fullscreen && v.landfullmobile == 1 && screen.orientation) {
      if (o.aspect > 0) {
        if (o.aspect < 1) {
          screen.orientation.lock('portrait')
        } else {
          screen.orientation.lock('landscape')
        }
      } else {
        screen.orientation.lock('landscape')
      }
    }
    o.screen_w = xw;
    o.screen_h = xh;
    if (exist(v.title) && o.controls) {
      v.title != '' ? o.controls.updateTitle()  : ''
    }
    if (exist(o.custom_aspect)) {
      o.media.scale(o.custom_aspect)
    }
  }
  function Title() {
    for (var x in v) {
      if (v.hasOwnProperty(x)) {
        if (x.indexOf('title') == 0) {
          if (v[x] != '') {
            o.maintitle = v[x];
            o.actions.Title(x)
          }
        }
      }
    }
  }
  function Poster(url, container, scale) {
    if (url) {
      if (url != '') {
        if (container == o.poster && url == o.currentposter) {
        } else {
          url = checkBase64(url);
          var s = 'contain';
          if (scale == 'fill') {
            s = 'cover'
          }
          if (scale == 'none') {
            s = 'auto'
          }
          if (scale == 'stretch') {
            s = '100% 100%'
          }
          css(container, {
            'background': 'url(' + url + ') no-repeat center center',
            'background-size': s
          });
          show(container);
          container == o.poster ? o.currentposter = url : ''
        }
      }
    }
  };
  function Logo(x) {
    if (x.on == 1 && exist(x.src)) {
      x.src = checkBase64(x.src);
      var y = createElement('div');
      if (x.src.indexOf('http') > - 1 || x.src.indexOf('//') == 0) {
        var z = createElement('img');
        z.src = x.src;
        y.appendChild(z)
      }
      x = UpdateObject(x, v.logo);
      x = MarginPadding(x, 'margin', 'margin');
      css(y, {
        'position': 'absolute'
      });
      if (x.position.indexOf('bottom') > - 1) {
        css(y, {
          'bottom': x.marginbottom
        })
      }
      if (x.position.indexOf('right') > - 1) {
        css(y, {
          'right': x.marginright
        })
      }
      if (x.position.indexOf('top') > - 1) {
        css(y, {
          'top': x.margintop
        })
      }
      if (x.position.indexOf('left') > - 1) {
        css(y, {
          'left': x.marginleft
        })
      }
      o.container.appendChild(y)
    }
  };
  function PlayerRadius() {
    o.oo = createElement('div');
    var r = v.rounding;
    var oo = [
    ];
    oo[1] = createElement('div');
    oo[1].innerHTML = '<svg><path d="M0,0 L' + r + ',0 Q0,0 0,' + r + ' Z" fill="' + v.bgcolor + '"/></svg>';
    oo[2] = createElement('div');
    oo[2].innerHTML = '<svg><path d="M0,0 L' + r + ',0 L' + r + ',' + r + ' Q' + r + ',0 0,0 Z" fill="' + v.bgcolor + '"/></svg>';
    oo[3] = createElement('div');
    oo[3].innerHTML = '<svg><path d="M' + r + ',0 L' + r + ',' + r + ' L0,' + r + ' Q' + r + ',' + r + ' ' + r + ',0 Z" fill="' + v.bgcolor + '"/></svg>';
    oo[4] = createElement('div');
    oo[4].innerHTML = '<svg><path d="M0,0 Q0,' + r + ' ' + r + ',' + r + ' L0,' + r + ' Z" fill="' + v.bgcolor + '"/></svg>';
    css(o.oo, {
      'position': 'absolute',
      'top': 0,
      'left': 0,
      'pointer-events': 'none',
      'height': 'auto',
      'overflow': 'hidden',
      'width': '100%',
      'height': '100%'
    });
    o.oo.style.zIndex = 2000;
    css(oo[1], {
      'position': 'absolute',
      'top': 0,
      'left': 0
    });
    css(oo[2], {
      'position': 'absolute',
      'top': 0,
      'right': 0
    });
    css(oo[3], {
      'position': 'absolute',
      'bottom': 0,
      'right': 0
    });
    css(oo[4], {
      'position': 'absolute',
      'bottom': 0,
      'left': 0
    });
    for (var i = 1; i < 5; i++) {
      css(oo[i], {
        'width': r,
        'height': r,
        'line-height': 0
      });
      o.oo.appendChild(oo[i])
    }
    o.container.appendChild(o.oo)
  }
  function FullscreenChange() {
    if (o.fullscreen && !isFullscreen()) {
      o.actions.NormalscreenUI(true)
    } else {
      o.actions.FullscreenUI()
    }
    log('fullscreen', o.fullscreen)
  }
  function isFullscreen() {
    return !!(document.webkitFullscreenElement || document.webkitIsFullScreen || document.mozFullScreen || document.msFullscreenElement || (document.fullscreenElement != undefined))
  }
  function isHidden(x) {
    return x.offsetWidth == 0 && x.offsetHeight == 0
  };
  function Destroy() {
    for (var x in o) {
      if (x.indexOf('Interval') > - 1) {
        clearInterval(o[x])
      }
    }
    log('Destroyed')
  }
}
